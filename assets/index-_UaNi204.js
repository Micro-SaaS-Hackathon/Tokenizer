var m2=u=>{throw TypeError(u)};var sg=(u,e,t)=>e.has(u)||m2("Cannot "+t);var nt=(u,e,t)=>(sg(u,e,"read from private field"),t?t.call(u):e.get(u)),gn=(u,e,t)=>e.has(u)?m2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(u):e.set(u,t),Bt=(u,e,t,n)=>(sg(u,e,"write to private field"),n?n.call(u,t):e.set(u,t),t),mn=(u,e,t)=>(sg(u,e,"access private method"),t);var ag=(u,e,t,n)=>({set _(i){Bt(u,e,i,t)},get _(){return nt(u,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function IC(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var e=u.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(u).forEach(function(n){var i=Object.getOwnPropertyDescriptor(u,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return u[n]}})}),t}var og={exports:{}},kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function PC(){if(b2)return kc;b2=1;var u=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,r){var s=null;if(r!==void 0&&(s=""+r),i.key!==void 0&&(s=""+i.key),"key"in i){r={};for(var o in i)o!=="key"&&(r[o]=i[o])}else r=i;return i=r.ref,{$$typeof:u,type:n,key:s,ref:i!==void 0?i:null,props:r}}return kc.Fragment=e,kc.jsx=t,kc.jsxs=t,kc}var y2;function WC(){return y2||(y2=1,og.exports=PC()),og.exports}var me=WC(),cg={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function zC(){if(v2)return ct;v2=1;var u=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function A(z,P,V){this.props=z,this.context=P,this.refs=y,this.updater=V||m}A.prototype.isReactComponent={},A.prototype.setState=function(z,P){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,P,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=A.prototype;function _(z,P,V){this.props=z,this.context=P,this.refs=y,this.updater=V||m}var w=_.prototype=new x;w.constructor=_,v(w,A.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function R(z,P,V,$,se,le){return V=le.ref,{$$typeof:u,type:z,key:P,ref:V!==void 0?V:null,props:le}}function N(z,P){return R(z.type,P,void 0,void 0,void 0,z.props)}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===u}function I(z){var P={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(V){return P[V]})}var q=/\/+/g;function L(z,P){return typeof z=="object"&&z!==null&&z.key!=null?I(""+z.key):P.toString(36)}function H(){}function k(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(H,H):(z.status="pending",z.then(function(P){z.status==="pending"&&(z.status="fulfilled",z.value=P)},function(P){z.status==="pending"&&(z.status="rejected",z.reason=P)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,P,V,$,se){var le=typeof z;(le==="undefined"||le==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(le){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case u:case e:ye=!0;break;case d:return ye=z._init,Z(ye(z._payload),P,V,$,se)}}if(ye)return se=se(z),ye=$===""?"."+L(z,0):$,S(se)?(V="",ye!=null&&(V=ye.replace(q,"$&/")+"/"),Z(se,P,V,"",function(Fe){return Fe})):se!=null&&(F(se)&&(se=N(se,V+(se.key==null||z&&z.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+ye)),P.push(se)),1;ye=0;var ve=$===""?".":$+":";if(S(z))for(var Ee=0;Ee<z.length;Ee++)$=z[Ee],le=ve+L($,Ee),ye+=Z($,P,V,le,se);else if(Ee=g(z),typeof Ee=="function")for(z=Ee.call(z),Ee=0;!($=z.next()).done;)$=$.value,le=ve+L($,Ee++),ye+=Z($,P,V,le,se);else if(le==="object"){if(typeof z.then=="function")return Z(k(z),P,V,$,se);throw P=String(z),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ye}function M(z,P,V){if(z==null)return z;var $=[],se=0;return Z(z,$,"","",function(le){return P.call(V,le,se++)}),$}function O(z){if(z._status===-1){var P=z._result;P=P(),P.then(function(V){(z._status===0||z._status===-1)&&(z._status=1,z._result=V)},function(V){(z._status===0||z._status===-1)&&(z._status=2,z._result=V)}),z._status===-1&&(z._status=0,z._result=P)}if(z._status===1)return z._result.default;throw z._result}var K=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Q(){}return ct.Children={map:M,forEach:function(z,P,V){M(z,function(){P.apply(this,arguments)},V)},count:function(z){var P=0;return M(z,function(){P++}),P},toArray:function(z){return M(z,function(P){return P})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ct.Component=A,ct.Fragment=t,ct.Profiler=i,ct.PureComponent=_,ct.StrictMode=n,ct.Suspense=l,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,ct.__COMPILER_RUNTIME={__proto__:null,c:function(z){return E.H.useMemoCache(z)}},ct.cache=function(z){return function(){return z.apply(null,arguments)}},ct.cloneElement=function(z,P,V){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var $=v({},z.props),se=z.key,le=void 0;if(P!=null)for(ye in P.ref!==void 0&&(le=void 0),P.key!==void 0&&(se=""+P.key),P)!C.call(P,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&P.ref===void 0||($[ye]=P[ye]);var ye=arguments.length-2;if(ye===1)$.children=V;else if(1<ye){for(var ve=Array(ye),Ee=0;Ee<ye;Ee++)ve[Ee]=arguments[Ee+2];$.children=ve}return R(z.type,se,void 0,void 0,le,$)},ct.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:r,_context:z},z},ct.createElement=function(z,P,V){var $,se={},le=null;if(P!=null)for($ in P.key!==void 0&&(le=""+P.key),P)C.call(P,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(se[$]=P[$]);var ye=arguments.length-2;if(ye===1)se.children=V;else if(1<ye){for(var ve=Array(ye),Ee=0;Ee<ye;Ee++)ve[Ee]=arguments[Ee+2];se.children=ve}if(z&&z.defaultProps)for($ in ye=z.defaultProps,ye)se[$]===void 0&&(se[$]=ye[$]);return R(z,le,void 0,void 0,null,se)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(z){return{$$typeof:o,render:z}},ct.isValidElement=F,ct.lazy=function(z){return{$$typeof:d,_payload:{_status:-1,_result:z},_init:O}},ct.memo=function(z,P){return{$$typeof:h,type:z,compare:P===void 0?null:P}},ct.startTransition=function(z){var P=E.T,V={};E.T=V;try{var $=z(),se=E.S;se!==null&&se(V,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Q,K)}catch(le){K(le)}finally{E.T=P}},ct.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},ct.use=function(z){return E.H.use(z)},ct.useActionState=function(z,P,V){return E.H.useActionState(z,P,V)},ct.useCallback=function(z,P){return E.H.useCallback(z,P)},ct.useContext=function(z){return E.H.useContext(z)},ct.useDebugValue=function(){},ct.useDeferredValue=function(z,P){return E.H.useDeferredValue(z,P)},ct.useEffect=function(z,P,V){var $=E.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(z,P)},ct.useId=function(){return E.H.useId()},ct.useImperativeHandle=function(z,P,V){return E.H.useImperativeHandle(z,P,V)},ct.useInsertionEffect=function(z,P){return E.H.useInsertionEffect(z,P)},ct.useLayoutEffect=function(z,P){return E.H.useLayoutEffect(z,P)},ct.useMemo=function(z,P){return E.H.useMemo(z,P)},ct.useOptimistic=function(z,P){return E.H.useOptimistic(z,P)},ct.useReducer=function(z,P,V){return E.H.useReducer(z,P,V)},ct.useRef=function(z){return E.H.useRef(z)},ct.useState=function(z){return E.H.useState(z)},ct.useSyncExternalStore=function(z,P,V){return E.H.useSyncExternalStore(z,P,V)},ct.useTransition=function(){return E.H.useTransition()},ct.version="19.1.1",ct}var A2;function lb(){return A2||(A2=1,cg.exports=zC()),cg.exports}var Me=lb();const HC=cd(Me);var lg={exports:{}},Fc={},ug={exports:{}},hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function jC(){return x2||(x2=1,(function(u){function e(M,O){var K=M.length;M.push(O);e:for(;0<K;){var Q=K-1>>>1,z=M[Q];if(0<i(z,O))M[Q]=O,M[K]=z,K=Q;else break e}}function t(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var O=M[0],K=M.pop();if(K!==O){M[0]=K;e:for(var Q=0,z=M.length,P=z>>>1;Q<P;){var V=2*(Q+1)-1,$=M[V],se=V+1,le=M[se];if(0>i($,K))se<z&&0>i(le,$)?(M[Q]=le,M[se]=K,Q=se):(M[Q]=$,M[V]=K,Q=V);else if(se<z&&0>i(le,K))M[Q]=le,M[se]=K,Q=se;else break e}}return O}function i(M,O){var K=M.sortIndex-O.sortIndex;return K!==0?K:M.id-O.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;u.unstable_now=function(){return r.now()}}else{var s=Date,o=s.now();u.unstable_now=function(){return s.now()-o}}var l=[],h=[],d=1,p=null,g=3,m=!1,v=!1,y=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function S(M){for(var O=t(h);O!==null;){if(O.callback===null)n(h);else if(O.startTime<=M)n(h),O.sortIndex=O.expirationTime,e(l,O);else break;O=t(h)}}function E(M){if(y=!1,S(M),!v)if(t(l)!==null)v=!0,C||(C=!0,L());else{var O=t(h);O!==null&&Z(E,O.startTime-M)}}var C=!1,R=-1,N=5,F=-1;function I(){return A?!0:!(u.unstable_now()-F<N)}function q(){if(A=!1,C){var M=u.unstable_now();F=M;var O=!0;try{e:{v=!1,y&&(y=!1,_(R),R=-1),m=!0;var K=g;try{t:{for(S(M),p=t(l);p!==null&&!(p.expirationTime>M&&I());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,g=p.priorityLevel;var z=Q(p.expirationTime<=M);if(M=u.unstable_now(),typeof z=="function"){p.callback=z,S(M),O=!0;break t}p===t(l)&&n(l),S(M)}else n(l);p=t(l)}if(p!==null)O=!0;else{var P=t(h);P!==null&&Z(E,P.startTime-M),O=!1}}break e}finally{p=null,g=K,m=!1}O=void 0}}finally{O?L():C=!1}}}var L;if(typeof w=="function")L=function(){w(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,k=H.port2;H.port1.onmessage=q,L=function(){k.postMessage(null)}}else L=function(){x(q,0)};function Z(M,O){R=x(function(){M(u.unstable_now())},O)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(M){M.callback=null},u.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},u.unstable_getCurrentPriorityLevel=function(){return g},u.unstable_next=function(M){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var K=g;g=O;try{return M()}finally{g=K}},u.unstable_requestPaint=function(){A=!0},u.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=g;g=M;try{return O()}finally{g=K}},u.unstable_scheduleCallback=function(M,O,K){var Q=u.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,M={id:d++,callback:O,priorityLevel:M,startTime:K,expirationTime:z,sortIndex:-1},K>Q?(M.sortIndex=K,e(h,M),t(l)===null&&M===t(h)&&(y?(_(R),R=-1):y=!0,Z(E,K-Q))):(M.sortIndex=z,e(l,M),v||m||(v=!0,C||(C=!0,L()))),M},u.unstable_shouldYield=I,u.unstable_wrapCallback=function(M){var O=g;return function(){var K=g;g=O;try{return M.apply(this,arguments)}finally{g=K}}}})(hg)),hg}var _2;function qC(){return _2||(_2=1,ug.exports=jC()),ug.exports}var dg={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function GC(){if(D2)return Pn;D2=1;var u=lb();function e(l){var h="https://react.dev/errors/"+l;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function r(l,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:h,implementation:d}}var s=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,h){if(l==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Pn.createPortal=function(l,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(l,h,null,d)},Pn.flushSync=function(l){var h=s.T,d=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=h,n.p=d,n.d.f()}},Pn.preconnect=function(l,h){typeof l=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(l,h))},Pn.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Pn.preinit=function(l,h){if(typeof l=="string"&&h&&typeof h.as=="string"){var d=h.as,p=o(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,m=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?n.d.S(l,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):d==="script"&&n.d.X(l,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pn.preinitModule=function(l,h){if(typeof l=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=o(h.as,h.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(l)},Pn.preload=function(l,h){if(typeof l=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=o(d,h.crossOrigin);n.d.L(l,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pn.preloadModule=function(l,h){if(typeof l=="string")if(h){var d=o(h.as,h.crossOrigin);n.d.m(l,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(l)},Pn.requestFormReset=function(l){n.d.r(l)},Pn.unstable_batchedUpdates=function(l,h){return l(h)},Pn.useFormState=function(l,h,d){return s.H.useFormState(l,h,d)},Pn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Pn.version="19.1.1",Pn}var w2;function $C(){if(w2)return dg.exports;w2=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(e){console.error(e)}}return u(),dg.exports=GC(),dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function VC(){if(E2)return Fc;E2=1;var u=qC(),e=lb(),t=$C();function n(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function s(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function o(a){if(r(a)!==a)throw Error(n(188))}function l(a){var c=a.alternate;if(!c){if(c=r(a),c===null)throw Error(n(188));return c!==a?null:a}for(var f=a,b=c;;){var D=f.return;if(D===null)break;var T=D.alternate;if(T===null){if(b=D.return,b!==null){f=b;continue}break}if(D.child===T.child){for(T=D.child;T;){if(T===f)return o(D),a;if(T===b)return o(D),c;T=T.sibling}throw Error(n(188))}if(f.return!==b.return)f=D,b=T;else{for(var B=!1,j=D.child;j;){if(j===f){B=!0,f=D,b=T;break}if(j===b){B=!0,b=D,f=T;break}j=j.sibling}if(!B){for(j=T.child;j;){if(j===f){B=!0,f=T,b=D;break}if(j===b){B=!0,b=T,f=D;break}j=j.sibling}if(!B)throw Error(n(189))}}if(f.alternate!==b)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?a:c}function h(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=h(a),c!==null)return c;a=a.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function k(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case m:return"Portal";case w:return(a.displayName||"Context")+".Provider";case _:return(a._context.displayName||"Context")+".Consumer";case S:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return c=a.displayName||null,c!==null?c:k(a.type)||"Memo";case N:c=a._payload,a=a._init;try{return k(a(c))}catch{}}return null}var Z=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Q=[],z=-1;function P(a){return{current:a}}function V(a){0>z||(a.current=Q[z],Q[z]=null,z--)}function $(a,c){z++,Q[z]=a.current,a.current=c}var se=P(null),le=P(null),ye=P(null),ve=P(null);function Ee(a,c){switch($(ye,c),$(le,a),$(se,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?qv(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=qv(c),a=Gv(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(se),$(se,a)}function Fe(){V(se),V(le),V(ye)}function Ue(a){a.memoizedState!==null&&$(ve,a);var c=se.current,f=Gv(c,a.type);c!==f&&($(le,a),$(se,f))}function Oe(a){le.current===a&&(V(se),V(le)),ve.current===a&&(V(ve),Tc._currentValue=K)}var Ve=Object.prototype.hasOwnProperty,Be=u.unstable_scheduleCallback,U=u.unstable_cancelCallback,ae=u.unstable_shouldYield,ee=u.unstable_requestPaint,Y=u.unstable_now,X=u.unstable_getCurrentPriorityLevel,ie=u.unstable_ImmediatePriority,De=u.unstable_UserBlockingPriority,_e=u.unstable_NormalPriority,oe=u.unstable_LowPriority,J=u.unstable_IdlePriority,re=u.log,ue=u.unstable_setDisableYieldValue,Ae=null,Re=null;function Ne(a){if(typeof re=="function"&&ue(a),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Ae,a)}catch{}}var Ie=Math.clz32?Math.clz32:he,je=Math.log,ot=Math.LN2;function he(a){return a>>>=0,a===0?32:31-(je(a)/ot|0)|0}var we=256,Le=4194304;function qe(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xe(a,c,f){var b=a.pendingLanes;if(b===0)return 0;var D=0,T=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var j=b&134217727;return j!==0?(b=j&~T,b!==0?D=qe(b):(B&=j,B!==0?D=qe(B):f||(f=j&~a,f!==0&&(D=qe(f))))):(j=b&~T,j!==0?D=qe(j):B!==0?D=qe(B):f||(f=b&~a,f!==0&&(D=qe(f)))),D===0?0:c!==0&&c!==D&&(c&T)===0&&(T=D&-D,f=c&-c,T>=f||T===32&&(f&4194048)!==0)?c:D}function lt(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Dt(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var a=we;return we<<=1,(we&4194048)===0&&(we=256),a}function di(){var a=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),a}function Ti(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function W(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function G(a,c,f,b,D,T){var B=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var j=a.entanglements,te=a.expirationTimes,pe=a.hiddenUpdates;for(f=B&~f;0<f;){var Te=31-Ie(f),Ce=1<<Te;j[Te]=0,te[Te]=-1;var ge=pe[Te];if(ge!==null)for(pe[Te]=null,Te=0;Te<ge.length;Te++){var xe=ge[Te];xe!==null&&(xe.lane&=-536870913)}f&=~Ce}b!==0&&ne(a,b,0),T!==0&&D===0&&a.tag!==0&&(a.suspendedLanes|=T&~(B&~c))}function ne(a,c,f){a.pendingLanes|=c,a.suspendedLanes&=~c;var b=31-Ie(c);a.entangledLanes|=c,a.entanglements[b]=a.entanglements[b]|1073741824|f&4194090}function be(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var b=31-Ie(f),D=1<<b;D&c|a[b]&c&&(a[b]|=c),f&=~D}}function ke(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ke(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Tt(){var a=O.p;return a!==0?a:(a=window.event,a===void 0?32:u2(a.type))}function Bn(a,c){var f=O.p;try{return O.p=a,c()}finally{O.p=f}}var nn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+nn,Wt="__reactProps$"+nn,ei="__reactContainer$"+nn,Xi="__reactEvents$"+nn,Ar="__reactListeners$"+nn,Si="__reactHandles$"+nn,rr="__reactResources$"+nn,Yi="__reactMarker$"+nn;function rn(a){delete a[Pt],delete a[Wt],delete a[Xi],delete a[Ar],delete a[Si]}function xr(a){var c=a[Pt];if(c)return c;for(var f=a.parentNode;f;){if(c=f[ei]||f[Pt]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=Yv(a);a!==null;){if(f=a[Pt])return f;a=Yv(a)}return c}a=f,f=a.parentNode}return null}function fi(a){if(a=a[Pt]||a[ei]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function Xr(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(n(33))}function Ca(a){var c=a[rr];return c||(c=a[rr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function xn(a){a[Yi]=!0}var My=new Set,Ly={};function Is(a,c){Ra(a,c),Ra(a+"Capture",c)}function Ra(a,c){for(Ly[a]=c,a=0;a<c.length;a++)My.add(c[a])}var UT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ny={},Oy={};function kT(a){return Ve.call(Oy,a)?!0:Ve.call(Ny,a)?!1:UT.test(a)?Oy[a]=!0:(Ny[a]=!0,!1)}function Bl(a,c,f){if(kT(c))if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var b=c.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+f)}}function Il(a,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+f)}}function _r(a,c,f,b){if(b===null)a.removeAttribute(f);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(c,f,""+b)}}var Qd,By;function Ua(a){if(Qd===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Qd=c&&c[1]||"",By=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qd+a+By}var Jd=!1;function ef(a,c){if(!a||Jd)return"";Jd=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(xe){var ge=xe}Reflect.construct(a,[],Ce)}else{try{Ce.call()}catch(xe){ge=xe}a.call(Ce.prototype)}}else{try{throw Error()}catch(xe){ge=xe}(Ce=a())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(xe){if(xe&&ge&&typeof xe.stack=="string")return[xe.stack,ge.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=b.DetermineComponentFrameRoot(),B=T[0],j=T[1];if(B&&j){var te=B.split(`
`),pe=j.split(`
`);for(D=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;D<pe.length&&!pe[D].includes("DetermineComponentFrameRoot");)D++;if(b===te.length||D===pe.length)for(b=te.length-1,D=pe.length-1;1<=b&&0<=D&&te[b]!==pe[D];)D--;for(;1<=b&&0<=D;b--,D--)if(te[b]!==pe[D]){if(b!==1||D!==1)do if(b--,D--,0>D||te[b]!==pe[D]){var Te=`
`+te[b].replace(" at new "," at ");return a.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",a.displayName)),Te}while(1<=b&&0<=D);break}}}finally{Jd=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Ua(f):""}function FT(a){switch(a.tag){case 26:case 27:case 5:return Ua(a.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return ef(a.type,!1);case 11:return ef(a.type.render,!1);case 1:return ef(a.type,!0);case 31:return Ua("Activity");default:return""}}function Iy(a){try{var c="";do c+=FT(a),a=a.return;while(a);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Ci(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Py(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function MT(a){var c=Py(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),b=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var D=f.get,T=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return D.call(this)},set:function(B){b=""+B,T.call(this,B)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return b},setValue:function(B){b=""+B},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Pl(a){a._valueTracker||(a._valueTracker=MT(a))}function Wy(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),b="";return a&&(b=Py(a)?a.checked?"true":"false":a.value),a=b,a!==f?(c.setValue(a),!0):!1}function Wl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var LT=/[\n"\\]/g;function Ri(a){return a.replace(LT,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function tf(a,c,f,b,D,T,B,j){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),c!=null?B==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Ci(c)):a.value!==""+Ci(c)&&(a.value=""+Ci(c)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),c!=null?nf(a,B,Ci(c)):f!=null?nf(a,B,Ci(f)):b!=null&&a.removeAttribute("value"),D==null&&T!=null&&(a.defaultChecked=!!T),D!=null&&(a.checked=D&&typeof D!="function"&&typeof D!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+Ci(j):a.removeAttribute("name")}function zy(a,c,f,b,D,T,B,j){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),c!=null||f!=null){if(!(T!=="submit"&&T!=="reset"||c!=null))return;f=f!=null?""+Ci(f):"",c=c!=null?""+Ci(c):f,j||c===a.value||(a.value=c),a.defaultValue=c}b=b??D,b=typeof b!="function"&&typeof b!="symbol"&&!!b,a.checked=j?a.checked:!!b,a.defaultChecked=!!b,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B)}function nf(a,c,f){c==="number"&&Wl(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function ka(a,c,f,b){if(a=a.options,c){c={};for(var D=0;D<f.length;D++)c["$"+f[D]]=!0;for(f=0;f<a.length;f++)D=c.hasOwnProperty("$"+a[f].value),a[f].selected!==D&&(a[f].selected=D),D&&b&&(a[f].defaultSelected=!0)}else{for(f=""+Ci(f),c=null,D=0;D<a.length;D++){if(a[D].value===f){a[D].selected=!0,b&&(a[D].defaultSelected=!0);return}c!==null||a[D].disabled||(c=a[D])}c!==null&&(c.selected=!0)}}function Hy(a,c,f){if(c!=null&&(c=""+Ci(c),c!==a.value&&(a.value=c),f==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=f!=null?""+Ci(f):""}function jy(a,c,f,b){if(c==null){if(b!=null){if(f!=null)throw Error(n(92));if(Z(b)){if(1<b.length)throw Error(n(93));b=b[0]}f=b}f==null&&(f=""),c=f}f=Ci(c),a.defaultValue=f,b=a.textContent,b===f&&b!==""&&b!==null&&(a.value=b)}function Fa(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var NT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qy(a,c,f){var b=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?b?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":b?a.setProperty(c,f):typeof f!="number"||f===0||NT.has(c)?c==="float"?a.cssFloat=f:a[c]=(""+f).trim():a[c]=f+"px"}function Gy(a,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(a=a.style,f!=null){for(var b in f)!f.hasOwnProperty(b)||c!=null&&c.hasOwnProperty(b)||(b.indexOf("--")===0?a.setProperty(b,""):b==="float"?a.cssFloat="":a[b]="");for(var D in c)b=c[D],c.hasOwnProperty(D)&&f[D]!==b&&qy(a,D,b)}else for(var T in c)c.hasOwnProperty(T)&&qy(a,T,c[T])}function rf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(a){return BT.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var sf=null;function af(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ma=null,La=null;function $y(a){var c=fi(a);if(c&&(a=c.stateNode)){var f=a[Wt]||null;e:switch(a=c.stateNode,c.type){case"input":if(tf(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ri(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var b=f[c];if(b!==a&&b.form===a.form){var D=b[Wt]||null;if(!D)throw Error(n(90));tf(b,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(c=0;c<f.length;c++)b=f[c],b.form===a.form&&Wy(b)}break e;case"textarea":Hy(a,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&ka(a,!!f.multiple,c,!1)}}}var of=!1;function Vy(a,c,f){if(of)return a(c,f);of=!0;try{var b=a(c);return b}finally{if(of=!1,(Ma!==null||La!==null)&&(Tu(),Ma&&(c=Ma,a=La,La=Ma=null,$y(c),a)))for(c=0;c<a.length;c++)$y(a[c])}}function Po(a,c){var f=a.stateNode;if(f===null)return null;var b=f[Wt]||null;if(b===null)return null;f=b[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(a=a.type,b=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!b;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(Dr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){cf=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{cf=!1}var Yr=null,lf=null,Hl=null;function Xy(){if(Hl)return Hl;var a,c=lf,f=c.length,b,D="value"in Yr?Yr.value:Yr.textContent,T=D.length;for(a=0;a<f&&c[a]===D[a];a++);var B=f-a;for(b=1;b<=B&&c[f-b]===D[T-b];b++);return Hl=D.slice(a,1<b?1-b:void 0)}function jl(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ql(){return!0}function Yy(){return!1}function ti(a){function c(f,b,D,T,B){this._reactName=f,this._targetInst=D,this.type=b,this.nativeEvent=T,this.target=B,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(f=a[j],this[j]=f?f(T):T[j]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ql:Yy,this.isPropagationStopped=Yy,this}return d(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),c}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=ti(Ps),zo=d({},Ps,{view:0,detail:0}),IT=ti(zo),uf,hf,Ho,$l=d({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ho&&(Ho&&a.type==="mousemove"?(uf=a.screenX-Ho.screenX,hf=a.screenY-Ho.screenY):hf=uf=0,Ho=a),uf)},movementY:function(a){return"movementY"in a?a.movementY:hf}}),Ky=ti($l),PT=d({},$l,{dataTransfer:0}),WT=ti(PT),zT=d({},zo,{relatedTarget:0}),df=ti(zT),HT=d({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),jT=ti(HT),qT=d({},Ps,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),GT=ti(qT),$T=d({},Ps,{data:0}),Zy=ti($T),VT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KT(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=YT[a])?!!c[a]:!1}function ff(){return KT}var ZT=d({},zo,{key:function(a){if(a.key){var c=VT[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=jl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?XT[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(a){return a.type==="keypress"?jl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),QT=ti(ZT),JT=d({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qy=ti(JT),eS=d({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),tS=ti(eS),nS=d({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),iS=ti(nS),rS=d({},$l,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),sS=ti(rS),aS=d({},Ps,{newState:0,oldState:0}),oS=ti(aS),cS=[9,13,27,32],pf=Dr&&"CompositionEvent"in window,jo=null;Dr&&"documentMode"in document&&(jo=document.documentMode);var lS=Dr&&"TextEvent"in window&&!jo,Jy=Dr&&(!pf||jo&&8<jo&&11>=jo),e1=" ",t1=!1;function n1(a,c){switch(a){case"keyup":return cS.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Na=!1;function uS(a,c){switch(a){case"compositionend":return i1(c);case"keypress":return c.which!==32?null:(t1=!0,e1);case"textInput":return a=c.data,a===e1&&t1?null:a;default:return null}}function hS(a,c){if(Na)return a==="compositionend"||!pf&&n1(a,c)?(a=Xy(),Hl=lf=Yr=null,Na=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Jy&&c.locale!=="ko"?null:c.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r1(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!dS[a.type]:c==="textarea"}function s1(a,c,f,b){Ma?La?La.push(b):La=[b]:Ma=b,c=Fu(c,"onChange"),0<c.length&&(f=new Gl("onChange","change",null,f,b),a.push({event:f,listeners:c}))}var qo=null,Go=null;function fS(a){Pv(a,0)}function Vl(a){var c=Xr(a);if(Wy(c))return a}function a1(a,c){if(a==="change")return c}var o1=!1;if(Dr){var gf;if(Dr){var mf="oninput"in document;if(!mf){var c1=document.createElement("div");c1.setAttribute("oninput","return;"),mf=typeof c1.oninput=="function"}gf=mf}else gf=!1;o1=gf&&(!document.documentMode||9<document.documentMode)}function l1(){qo&&(qo.detachEvent("onpropertychange",u1),Go=qo=null)}function u1(a){if(a.propertyName==="value"&&Vl(Go)){var c=[];s1(c,Go,a,af(a)),Vy(fS,c)}}function pS(a,c,f){a==="focusin"?(l1(),qo=c,Go=f,qo.attachEvent("onpropertychange",u1)):a==="focusout"&&l1()}function gS(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vl(Go)}function mS(a,c){if(a==="click")return Vl(c)}function bS(a,c){if(a==="input"||a==="change")return Vl(c)}function yS(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var pi=typeof Object.is=="function"?Object.is:yS;function $o(a,c){if(pi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),b=Object.keys(c);if(f.length!==b.length)return!1;for(b=0;b<f.length;b++){var D=f[b];if(!Ve.call(c,D)||!pi(a[D],c[D]))return!1}return!0}function h1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function d1(a,c){var f=h1(a);a=0;for(var b;f;){if(f.nodeType===3){if(b=a+f.textContent.length,a<=c&&b>=c)return{node:f,offset:c-a};a=b}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=h1(f)}}function f1(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?f1(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function p1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Wl(a.document);c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=Wl(a.document)}return c}function bf(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var vS=Dr&&"documentMode"in document&&11>=document.documentMode,Oa=null,yf=null,Vo=null,vf=!1;function g1(a,c,f){var b=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;vf||Oa==null||Oa!==Wl(b)||(b=Oa,"selectionStart"in b&&bf(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Vo&&$o(Vo,b)||(Vo=b,b=Fu(yf,"onSelect"),0<b.length&&(c=new Gl("onSelect","select",null,c,f),a.push({event:c,listeners:b}),c.target=Oa)))}function Ws(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var Ba={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Af={},m1={};Dr&&(m1=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function zs(a){if(Af[a])return Af[a];if(!Ba[a])return a;var c=Ba[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in m1)return Af[a]=c[f];return a}var b1=zs("animationend"),y1=zs("animationiteration"),v1=zs("animationstart"),AS=zs("transitionrun"),xS=zs("transitionstart"),_S=zs("transitioncancel"),A1=zs("transitionend"),x1=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Ki(a,c){x1.set(a,c),Is(c,[a])}var _1=new WeakMap;function Ui(a,c){if(typeof a=="object"&&a!==null){var f=_1.get(a);return f!==void 0?f:(c={value:a,source:c,stack:Iy(c)},_1.set(a,c),c)}return{value:a,source:c,stack:Iy(c)}}var ki=[],Ia=0,_f=0;function Xl(){for(var a=Ia,c=_f=Ia=0;c<a;){var f=ki[c];ki[c++]=null;var b=ki[c];ki[c++]=null;var D=ki[c];ki[c++]=null;var T=ki[c];if(ki[c++]=null,b!==null&&D!==null){var B=b.pending;B===null?D.next=D:(D.next=B.next,B.next=D),b.pending=D}T!==0&&D1(f,D,T)}}function Yl(a,c,f,b){ki[Ia++]=a,ki[Ia++]=c,ki[Ia++]=f,ki[Ia++]=b,_f|=b,a.lanes|=b,a=a.alternate,a!==null&&(a.lanes|=b)}function Df(a,c,f,b){return Yl(a,c,f,b),Kl(a)}function Pa(a,c){return Yl(a,null,null,c),Kl(a)}function D1(a,c,f){a.lanes|=f;var b=a.alternate;b!==null&&(b.lanes|=f);for(var D=!1,T=a.return;T!==null;)T.childLanes|=f,b=T.alternate,b!==null&&(b.childLanes|=f),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(D=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,D&&c!==null&&(D=31-Ie(f),a=T.hiddenUpdates,b=a[D],b===null?a[D]=[c]:b.push(c),c.lane=f|536870912),T):null}function Kl(a){if(50<yc)throw yc=0,Rp=null,Error(n(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Wa={};function DS(a,c,f,b){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(a,c,f,b){return new DS(a,c,f,b)}function wf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function wr(a,c){var f=a.alternate;return f===null?(f=gi(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function w1(a,c){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,c=f.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Zl(a,c,f,b,D,T){var B=0;if(b=a,typeof a=="function")wf(a)&&(B=1);else if(typeof a=="string")B=EC(a,f,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=gi(31,f,c,D),a.elementType=F,a.lanes=T,a;case v:return Hs(f.children,D,T,c);case y:B=8,D|=24;break;case A:return a=gi(12,f,c,D|2),a.elementType=A,a.lanes=T,a;case E:return a=gi(13,f,c,D),a.elementType=E,a.lanes=T,a;case C:return a=gi(19,f,c,D),a.elementType=C,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case x:case w:B=10;break e;case _:B=9;break e;case S:B=11;break e;case R:B=14;break e;case N:B=16,b=null;break e}B=29,f=Error(n(130,a===null?"null":typeof a,"")),b=null}return c=gi(B,f,c,D),c.elementType=a,c.type=b,c.lanes=T,c}function Hs(a,c,f,b){return a=gi(7,a,b,c),a.lanes=f,a}function Ef(a,c,f){return a=gi(6,a,null,c),a.lanes=f,a}function Tf(a,c,f){return c=gi(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var za=[],Ha=0,Ql=null,Jl=0,Fi=[],Mi=0,js=null,Er=1,Tr="";function qs(a,c){za[Ha++]=Jl,za[Ha++]=Ql,Ql=a,Jl=c}function E1(a,c,f){Fi[Mi++]=Er,Fi[Mi++]=Tr,Fi[Mi++]=js,js=a;var b=Er;a=Tr;var D=32-Ie(b)-1;b&=~(1<<D),f+=1;var T=32-Ie(c)+D;if(30<T){var B=D-D%5;T=(b&(1<<B)-1).toString(32),b>>=B,D-=B,Er=1<<32-Ie(c)+D|f<<D|b,Tr=T+a}else Er=1<<T|f<<D|b,Tr=a}function Sf(a){a.return!==null&&(qs(a,1),E1(a,1,0))}function Cf(a){for(;a===Ql;)Ql=za[--Ha],za[Ha]=null,Jl=za[--Ha],za[Ha]=null;for(;a===js;)js=Fi[--Mi],Fi[Mi]=null,Tr=Fi[--Mi],Fi[Mi]=null,Er=Fi[--Mi],Fi[Mi]=null}var $n=null,Vt=null,At=!1,Gs=null,sr=!1,Rf=Error(n(519));function $s(a){var c=Error(n(418,""));throw Ko(Ui(c,a)),Rf}function T1(a){var c=a.stateNode,f=a.type,b=a.memoizedProps;switch(c[Pt]=a,c[Wt]=b,f){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(f=0;f<Ac.length;f++)pt(Ac[f],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":pt("invalid",c),zy(c,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),Pl(c);break;case"select":pt("invalid",c);break;case"textarea":pt("invalid",c),jy(c,b.value,b.defaultValue,b.children),Pl(c)}f=b.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||b.suppressHydrationWarning===!0||jv(c.textContent,f)?(b.popover!=null&&(pt("beforetoggle",c),pt("toggle",c)),b.onScroll!=null&&pt("scroll",c),b.onScrollEnd!=null&&pt("scrollend",c),b.onClick!=null&&(c.onclick=Mu),c=!0):c=!1,c||$s(a)}function S1(a){for($n=a.return;$n;)switch($n.tag){case 5:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:$n=$n.return}}function Xo(a){if(a!==$n)return!1;if(!At)return S1(a),At=!0,!1;var c=a.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Gp(a.type,a.memoizedProps)),f=!f),f&&Vt&&$s(a),S1(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(f=a.data,f==="/$"){if(c===0){Vt=Qi(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;a=a.nextSibling}Vt=null}}else c===27?(c=Vt,hs(a.type)?(a=Yp,Yp=null,Vt=a):Vt=c):Vt=$n?Qi(a.stateNode.nextSibling):null;return!0}function Yo(){Vt=$n=null,At=!1}function C1(){var a=Gs;return a!==null&&(ri===null?ri=a:ri.push.apply(ri,a),Gs=null),a}function Ko(a){Gs===null?Gs=[a]:Gs.push(a)}var Uf=P(null),Vs=null,Sr=null;function Kr(a,c,f){$(Uf,c._currentValue),c._currentValue=f}function Cr(a){a._currentValue=Uf.current,V(Uf)}function kf(a,c,f){for(;a!==null;){var b=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),a===f)break;a=a.return}}function Ff(a,c,f,b){var D=a.child;for(D!==null&&(D.return=a);D!==null;){var T=D.dependencies;if(T!==null){var B=D.child;T=T.firstContext;e:for(;T!==null;){var j=T;T=D;for(var te=0;te<c.length;te++)if(j.context===c[te]){T.lanes|=f,j=T.alternate,j!==null&&(j.lanes|=f),kf(T.return,f,a),b||(B=null);break e}T=j.next}}else if(D.tag===18){if(B=D.return,B===null)throw Error(n(341));B.lanes|=f,T=B.alternate,T!==null&&(T.lanes|=f),kf(B,f,a),B=null}else B=D.child;if(B!==null)B.return=D;else for(B=D;B!==null;){if(B===a){B=null;break}if(D=B.sibling,D!==null){D.return=B.return,B=D;break}B=B.return}D=B}}function Zo(a,c,f,b){a=null;for(var D=c,T=!1;D!==null;){if(!T){if((D.flags&524288)!==0)T=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var B=D.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var j=D.type;pi(D.pendingProps.value,B.value)||(a!==null?a.push(j):a=[j])}}else if(D===ve.current){if(B=D.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(a!==null?a.push(Tc):a=[Tc])}D=D.return}a!==null&&Ff(c,a,f,b),c.flags|=262144}function eu(a){for(a=a.firstContext;a!==null;){if(!pi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Xs(a){Vs=a,Sr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function In(a){return R1(Vs,a)}function tu(a,c){return Vs===null&&Xs(a),R1(a,c)}function R1(a,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Sr===null){if(a===null)throw Error(n(308));Sr=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Sr=Sr.next=c;return f}var wS=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(f,b){a.push(b)}};this.abort=function(){c.aborted=!0,a.forEach(function(f){return f()})}},ES=u.unstable_scheduleCallback,TS=u.unstable_NormalPriority,fn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new wS,data:new Map,refCount:0}}function Qo(a){a.refCount--,a.refCount===0&&ES(TS,function(){a.controller.abort()})}var Jo=null,Lf=0,ja=0,qa=null;function SS(a,c){if(Jo===null){var f=Jo=[];Lf=0,ja=Op(),qa={status:"pending",value:void 0,then:function(b){f.push(b)}}}return Lf++,c.then(U1,U1),c}function U1(){if(--Lf===0&&Jo!==null){qa!==null&&(qa.status="fulfilled");var a=Jo;Jo=null,ja=0,qa=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function CS(a,c){var f=[],b={status:"pending",value:null,reason:null,then:function(D){f.push(D)}};return a.then(function(){b.status="fulfilled",b.value=c;for(var D=0;D<f.length;D++)(0,f[D])(c)},function(D){for(b.status="rejected",b.reason=D,D=0;D<f.length;D++)(0,f[D])(void 0)}),b}var k1=M.S;M.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&SS(a,c),k1!==null&&k1(a,c)};var Ys=P(null);function Nf(){var a=Ys.current;return a!==null?a:Ot.pooledCache}function nu(a,c){c===null?$(Ys,Ys.current):$(Ys,c.pool)}function F1(){var a=Nf();return a===null?null:{parent:fn._currentValue,pool:a}}var ec=Error(n(460)),M1=Error(n(474)),iu=Error(n(542)),Of={then:function(){}};function L1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ru(){}function N1(a,c,f){switch(f=a[f],f===void 0?a.push(c):f!==c&&(c.then(ru,ru),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,B1(a),a;default:if(typeof c.status=="string")c.then(ru,ru);else{if(a=Ot,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=c,a.status="pending",a.then(function(b){if(c.status==="pending"){var D=c;D.status="fulfilled",D.value=b}},function(b){if(c.status==="pending"){var D=c;D.status="rejected",D.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,B1(a),a}throw tc=c,ec}}var tc=null;function O1(){if(tc===null)throw Error(n(459));var a=tc;return tc=null,a}function B1(a){if(a===ec||a===iu)throw Error(n(483))}var Zr=!1;function Bf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Qr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Jr(a,c,f){var b=a.updateQueue;if(b===null)return null;if(b=b.shared,(wt&2)!==0){var D=b.pending;return D===null?c.next=c:(c.next=D.next,D.next=c),b.pending=c,c=Kl(a),D1(a,null,f),c}return Yl(a,b,c,f),Kl(a)}function nc(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var b=c.lanes;b&=a.pendingLanes,f|=b,c.lanes=f,be(a,f)}}function Pf(a,c){var f=a.updateQueue,b=a.alternate;if(b!==null&&(b=b.updateQueue,f===b)){var D=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var B={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};T===null?D=T=B:T=T.next=B,f=f.next}while(f!==null);T===null?D=T=c:T=T.next=c}else D=T=c;f={baseState:b.baseState,firstBaseUpdate:D,lastBaseUpdate:T,shared:b.shared,callbacks:b.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}var Wf=!1;function ic(){if(Wf){var a=qa;if(a!==null)throw a}}function rc(a,c,f,b){Wf=!1;var D=a.updateQueue;Zr=!1;var T=D.firstBaseUpdate,B=D.lastBaseUpdate,j=D.shared.pending;if(j!==null){D.shared.pending=null;var te=j,pe=te.next;te.next=null,B===null?T=pe:B.next=pe,B=te;var Te=a.alternate;Te!==null&&(Te=Te.updateQueue,j=Te.lastBaseUpdate,j!==B&&(j===null?Te.firstBaseUpdate=pe:j.next=pe,Te.lastBaseUpdate=te))}if(T!==null){var Ce=D.baseState;B=0,Te=pe=te=null,j=T;do{var ge=j.lane&-536870913,xe=ge!==j.lane;if(xe?(yt&ge)===ge:(b&ge)===ge){ge!==0&&ge===ja&&(Wf=!0),Te!==null&&(Te=Te.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var et=a,Ze=j;ge=c;var Rt=f;switch(Ze.tag){case 1:if(et=Ze.payload,typeof et=="function"){Ce=et.call(Rt,Ce,ge);break e}Ce=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Ze.payload,ge=typeof et=="function"?et.call(Rt,Ce,ge):et,ge==null)break e;Ce=d({},Ce,ge);break e;case 2:Zr=!0}}ge=j.callback,ge!==null&&(a.flags|=64,xe&&(a.flags|=8192),xe=D.callbacks,xe===null?D.callbacks=[ge]:xe.push(ge))}else xe={lane:ge,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Te===null?(pe=Te=xe,te=Ce):Te=Te.next=xe,B|=ge;if(j=j.next,j===null){if(j=D.shared.pending,j===null)break;xe=j,j=xe.next,xe.next=null,D.lastBaseUpdate=xe,D.shared.pending=null}}while(!0);Te===null&&(te=Ce),D.baseState=te,D.firstBaseUpdate=pe,D.lastBaseUpdate=Te,T===null&&(D.shared.lanes=0),os|=B,a.lanes=B,a.memoizedState=Ce}}function I1(a,c){if(typeof a!="function")throw Error(n(191,a));a.call(c)}function P1(a,c){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)I1(f[a],c)}var Ga=P(null),su=P(0);function W1(a,c){a=Nr,$(su,a),$(Ga,c),Nr=a|c.baseLanes}function zf(){$(su,Nr),$(Ga,Ga.current)}function Hf(){Nr=su.current,V(Ga),V(su)}var es=0,ut=null,St=null,sn=null,au=!1,$a=!1,Ks=!1,ou=0,sc=0,Va=null,RS=0;function Yt(){throw Error(n(321))}function jf(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!pi(a[f],c[f]))return!1;return!0}function qf(a,c,f,b,D,T){return es=T,ut=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,M.H=a===null||a.memoizedState===null?D0:w0,Ks=!1,T=f(b,D),Ks=!1,$a&&(T=H1(c,f,b,D)),z1(a),T}function z1(a){M.H=fu;var c=St!==null&&St.next!==null;if(es=0,sn=St=ut=null,au=!1,sc=0,Va=null,c)throw Error(n(300));a===null||_n||(a=a.dependencies,a!==null&&eu(a)&&(_n=!0))}function H1(a,c,f,b){ut=a;var D=0;do{if($a&&(Va=null),sc=0,$a=!1,25<=D)throw Error(n(301));if(D+=1,sn=St=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}M.H=OS,T=c(f,b)}while($a);return T}function US(){var a=M.H,c=a.useState()[0];return c=typeof c.then=="function"?ac(c):c,a=a.useState()[0],(St!==null?St.memoizedState:null)!==a&&(ut.flags|=1024),c}function Gf(){var a=ou!==0;return ou=0,a}function $f(a,c,f){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~f}function Vf(a){if(au){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}au=!1}es=0,sn=St=ut=null,$a=!1,sc=ou=0,Va=null}function ni(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?ut.memoizedState=sn=a:sn=sn.next=a,sn}function an(){if(St===null){var a=ut.alternate;a=a!==null?a.memoizedState:null}else a=St.next;var c=sn===null?ut.memoizedState:sn.next;if(c!==null)sn=c,St=a;else{if(a===null)throw ut.alternate===null?Error(n(467)):Error(n(310));St=a,a={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},sn===null?ut.memoizedState=sn=a:sn=sn.next=a}return sn}function Xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(a){var c=sc;return sc+=1,Va===null&&(Va=[]),a=N1(Va,a,c),c=ut,(sn===null?c.memoizedState:sn.next)===null&&(c=c.alternate,M.H=c===null||c.memoizedState===null?D0:w0),a}function cu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ac(a);if(a.$$typeof===w)return In(a)}throw Error(n(438,String(a)))}function Yf(a){var c=null,f=ut.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var b=ut.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(D){return D.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Xf(),ut.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(a),b=0;b<a;b++)f[b]=I;return c.index++,f}function Rr(a,c){return typeof c=="function"?c(a):c}function lu(a){var c=an();return Kf(c,St,a)}function Kf(a,c,f){var b=a.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=f;var D=a.baseQueue,T=b.pending;if(T!==null){if(D!==null){var B=D.next;D.next=T.next,T.next=B}c.baseQueue=D=T,b.pending=null}if(T=a.baseState,D===null)a.memoizedState=T;else{c=D.next;var j=B=null,te=null,pe=c,Te=!1;do{var Ce=pe.lane&-536870913;if(Ce!==pe.lane?(yt&Ce)===Ce:(es&Ce)===Ce){var ge=pe.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Ce===ja&&(Te=!0);else if((es&ge)===ge){pe=pe.next,ge===ja&&(Te=!0);continue}else Ce={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(j=te=Ce,B=T):te=te.next=Ce,ut.lanes|=ge,os|=ge;Ce=pe.action,Ks&&f(T,Ce),T=pe.hasEagerState?pe.eagerState:f(T,Ce)}else ge={lane:Ce,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(j=te=ge,B=T):te=te.next=ge,ut.lanes|=Ce,os|=Ce;pe=pe.next}while(pe!==null&&pe!==c);if(te===null?B=T:te.next=j,!pi(T,a.memoizedState)&&(_n=!0,Te&&(f=qa,f!==null)))throw f;a.memoizedState=T,a.baseState=B,a.baseQueue=te,b.lastRenderedState=T}return D===null&&(b.lanes=0),[a.memoizedState,b.dispatch]}function Zf(a){var c=an(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var b=f.dispatch,D=f.pending,T=c.memoizedState;if(D!==null){f.pending=null;var B=D=D.next;do T=a(T,B.action),B=B.next;while(B!==D);pi(T,c.memoizedState)||(_n=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),f.lastRenderedState=T}return[T,b]}function j1(a,c,f){var b=ut,D=an(),T=At;if(T){if(f===void 0)throw Error(n(407));f=f()}else f=c();var B=!pi((St||D).memoizedState,f);B&&(D.memoizedState=f,_n=!0),D=D.queue;var j=$1.bind(null,b,D,a);if(oc(2048,8,j,[a]),D.getSnapshot!==c||B||sn!==null&&sn.memoizedState.tag&1){if(b.flags|=2048,Xa(9,uu(),G1.bind(null,b,D,f,c),null),Ot===null)throw Error(n(349));T||(es&124)!==0||q1(b,c,f)}return f}function q1(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=ut.updateQueue,c===null?(c=Xf(),ut.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function G1(a,c,f,b){c.value=f,c.getSnapshot=b,V1(c)&&X1(a)}function $1(a,c,f){return f(function(){V1(c)&&X1(a)})}function V1(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!pi(a,f)}catch{return!0}}function X1(a){var c=Pa(a,2);c!==null&&Ai(c,a,2)}function Qf(a){var c=ni();if(typeof a=="function"){var f=a;if(a=f(),Ks){Ne(!0);try{f()}finally{Ne(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},c}function Y1(a,c,f,b){return a.baseState=f,Kf(a,St,typeof b=="function"?b:Rr)}function kS(a,c,f,b,D){if(du(a))throw Error(n(485));if(a=c.action,a!==null){var T={payload:D,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){T.listeners.push(B)}};M.T!==null?f(!0):T.isTransition=!1,b(T),f=c.pending,f===null?(T.next=c.pending=T,K1(c,T)):(T.next=f.next,c.pending=f.next=T)}}function K1(a,c){var f=c.action,b=c.payload,D=a.state;if(c.isTransition){var T=M.T,B={};M.T=B;try{var j=f(D,b),te=M.S;te!==null&&te(B,j),Z1(a,c,j)}catch(pe){Jf(a,c,pe)}finally{M.T=T}}else try{T=f(D,b),Z1(a,c,T)}catch(pe){Jf(a,c,pe)}}function Z1(a,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(b){Q1(a,c,b)},function(b){return Jf(a,c,b)}):Q1(a,c,f)}function Q1(a,c,f){c.status="fulfilled",c.value=f,J1(c),a.state=f,c=a.pending,c!==null&&(f=c.next,f===c?a.pending=null:(f=f.next,c.next=f,K1(a,f)))}function Jf(a,c,f){var b=a.pending;if(a.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=f,J1(c),c=c.next;while(c!==b)}a.action=null}function J1(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function e0(a,c){return c}function t0(a,c){if(At){var f=Ot.formState;if(f!==null){e:{var b=ut;if(At){if(Vt){t:{for(var D=Vt,T=sr;D.nodeType!==8;){if(!T){D=null;break t}if(D=Qi(D.nextSibling),D===null){D=null;break t}}T=D.data,D=T==="F!"||T==="F"?D:null}if(D){Vt=Qi(D.nextSibling),b=D.data==="F!";break e}}$s(b)}b=!1}b&&(c=f[0])}}return f=ni(),f.memoizedState=f.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:c},f.queue=b,f=A0.bind(null,ut,b),b.dispatch=f,b=Qf(!1),T=rp.bind(null,ut,!1,b.queue),b=ni(),D={state:c,dispatch:null,action:a,pending:null},b.queue=D,f=kS.bind(null,ut,D,T,f),D.dispatch=f,b.memoizedState=a,[c,f,!1]}function n0(a){var c=an();return i0(c,St,a)}function i0(a,c,f){if(c=Kf(a,c,e0)[0],a=lu(Rr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=ac(c)}catch(B){throw B===ec?iu:B}else b=c;c=an();var D=c.queue,T=D.dispatch;return f!==c.memoizedState&&(ut.flags|=2048,Xa(9,uu(),FS.bind(null,D,f),null)),[b,T,a]}function FS(a,c){a.action=c}function r0(a){var c=an(),f=St;if(f!==null)return i0(c,f,a);an(),c=c.memoizedState,f=an();var b=f.queue.dispatch;return f.memoizedState=a,[c,b,!1]}function Xa(a,c,f,b){return a={tag:a,create:f,deps:b,inst:c,next:null},c=ut.updateQueue,c===null&&(c=Xf(),ut.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=a.next=a:(b=f.next,f.next=a,a.next=b,c.lastEffect=a),a}function uu(){return{destroy:void 0,resource:void 0}}function s0(){return an().memoizedState}function hu(a,c,f,b){var D=ni();b=b===void 0?null:b,ut.flags|=a,D.memoizedState=Xa(1|c,uu(),f,b)}function oc(a,c,f,b){var D=an();b=b===void 0?null:b;var T=D.memoizedState.inst;St!==null&&b!==null&&jf(b,St.memoizedState.deps)?D.memoizedState=Xa(c,T,f,b):(ut.flags|=a,D.memoizedState=Xa(1|c,T,f,b))}function a0(a,c){hu(8390656,8,a,c)}function o0(a,c){oc(2048,8,a,c)}function c0(a,c){return oc(4,2,a,c)}function l0(a,c){return oc(4,4,a,c)}function u0(a,c){if(typeof c=="function"){a=a();var f=c(a);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function h0(a,c,f){f=f!=null?f.concat([a]):null,oc(4,4,u0.bind(null,c,a),f)}function ep(){}function d0(a,c){var f=an();c=c===void 0?null:c;var b=f.memoizedState;return c!==null&&jf(c,b[1])?b[0]:(f.memoizedState=[a,c],a)}function f0(a,c){var f=an();c=c===void 0?null:c;var b=f.memoizedState;if(c!==null&&jf(c,b[1]))return b[0];if(b=a(),Ks){Ne(!0);try{a()}finally{Ne(!1)}}return f.memoizedState=[b,c],b}function tp(a,c,f){return f===void 0||(es&1073741824)!==0?a.memoizedState=c:(a.memoizedState=f,a=mv(),ut.lanes|=a,os|=a,f)}function p0(a,c,f,b){return pi(f,c)?f:Ga.current!==null?(a=tp(a,f,b),pi(a,c)||(_n=!0),a):(es&42)===0?(_n=!0,a.memoizedState=f):(a=mv(),ut.lanes|=a,os|=a,c)}function g0(a,c,f,b,D){var T=O.p;O.p=T!==0&&8>T?T:8;var B=M.T,j={};M.T=j,rp(a,!1,c,f);try{var te=D(),pe=M.S;if(pe!==null&&pe(j,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Te=CS(te,b);cc(a,c,Te,vi(a))}else cc(a,c,b,vi(a))}catch(Ce){cc(a,c,{then:function(){},status:"rejected",reason:Ce},vi())}finally{O.p=T,M.T=B}}function MS(){}function np(a,c,f,b){if(a.tag!==5)throw Error(n(476));var D=m0(a).queue;g0(a,D,c,K,f===null?MS:function(){return b0(a),f(b)})}function m0(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:K},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:f},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function b0(a){var c=m0(a).next.queue;cc(a,c,{},vi())}function ip(){return In(Tc)}function y0(){return an().memoizedState}function v0(){return an().memoizedState}function LS(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var f=vi();a=Qr(f);var b=Jr(c,a,f);b!==null&&(Ai(b,c,f),nc(b,c,f)),c={cache:Mf()},a.payload=c;return}c=c.return}}function NS(a,c,f){var b=vi();f={lane:b,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},du(a)?x0(c,f):(f=Df(a,c,f,b),f!==null&&(Ai(f,a,b),_0(f,c,b)))}function A0(a,c,f){var b=vi();cc(a,c,f,b)}function cc(a,c,f,b){var D={lane:b,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(du(a))x0(c,D);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var B=c.lastRenderedState,j=T(B,f);if(D.hasEagerState=!0,D.eagerState=j,pi(j,B))return Yl(a,c,D,0),Ot===null&&Xl(),!1}catch{}finally{}if(f=Df(a,c,D,b),f!==null)return Ai(f,a,b),_0(f,c,b),!0}return!1}function rp(a,c,f,b){if(b={lane:2,revertLane:Op(),action:b,hasEagerState:!1,eagerState:null,next:null},du(a)){if(c)throw Error(n(479))}else c=Df(a,f,b,2),c!==null&&Ai(c,a,2)}function du(a){var c=a.alternate;return a===ut||c!==null&&c===ut}function x0(a,c){$a=au=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function _0(a,c,f){if((f&4194048)!==0){var b=c.lanes;b&=a.pendingLanes,f|=b,c.lanes=f,be(a,f)}}var fu={readContext:In,use:cu,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},D0={readContext:In,use:cu,useCallback:function(a,c){return ni().memoizedState=[a,c===void 0?null:c],a},useContext:In,useEffect:a0,useImperativeHandle:function(a,c,f){f=f!=null?f.concat([a]):null,hu(4194308,4,u0.bind(null,c,a),f)},useLayoutEffect:function(a,c){return hu(4194308,4,a,c)},useInsertionEffect:function(a,c){hu(4,2,a,c)},useMemo:function(a,c){var f=ni();c=c===void 0?null:c;var b=a();if(Ks){Ne(!0);try{a()}finally{Ne(!1)}}return f.memoizedState=[b,c],b},useReducer:function(a,c,f){var b=ni();if(f!==void 0){var D=f(c);if(Ks){Ne(!0);try{f(c)}finally{Ne(!1)}}}else D=c;return b.memoizedState=b.baseState=D,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:D},b.queue=a,a=a.dispatch=NS.bind(null,ut,a),[b.memoizedState,a]},useRef:function(a){var c=ni();return a={current:a},c.memoizedState=a},useState:function(a){a=Qf(a);var c=a.queue,f=A0.bind(null,ut,c);return c.dispatch=f,[a.memoizedState,f]},useDebugValue:ep,useDeferredValue:function(a,c){var f=ni();return tp(f,a,c)},useTransition:function(){var a=Qf(!1);return a=g0.bind(null,ut,a.queue,!0,!1),ni().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,f){var b=ut,D=ni();if(At){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Ot===null)throw Error(n(349));(yt&124)!==0||q1(b,c,f)}D.memoizedState=f;var T={value:f,getSnapshot:c};return D.queue=T,a0($1.bind(null,b,T,a),[a]),b.flags|=2048,Xa(9,uu(),G1.bind(null,b,T,f,c),null),f},useId:function(){var a=ni(),c=Ot.identifierPrefix;if(At){var f=Tr,b=Er;f=(b&~(1<<32-Ie(b)-1)).toString(32)+f,c="«"+c+"R"+f,f=ou++,0<f&&(c+="H"+f.toString(32)),c+="»"}else f=RS++,c="«"+c+"r"+f.toString(32)+"»";return a.memoizedState=c},useHostTransitionStatus:ip,useFormState:t0,useActionState:t0,useOptimistic:function(a){var c=ni();c.memoizedState=c.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=rp.bind(null,ut,!0,f),f.dispatch=c,[a,c]},useMemoCache:Yf,useCacheRefresh:function(){return ni().memoizedState=LS.bind(null,ut)}},w0={readContext:In,use:cu,useCallback:d0,useContext:In,useEffect:o0,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:l0,useMemo:f0,useReducer:lu,useRef:s0,useState:function(){return lu(Rr)},useDebugValue:ep,useDeferredValue:function(a,c){var f=an();return p0(f,St.memoizedState,a,c)},useTransition:function(){var a=lu(Rr)[0],c=an().memoizedState;return[typeof a=="boolean"?a:ac(a),c]},useSyncExternalStore:j1,useId:y0,useHostTransitionStatus:ip,useFormState:n0,useActionState:n0,useOptimistic:function(a,c){var f=an();return Y1(f,St,a,c)},useMemoCache:Yf,useCacheRefresh:v0},OS={readContext:In,use:cu,useCallback:d0,useContext:In,useEffect:o0,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:l0,useMemo:f0,useReducer:Zf,useRef:s0,useState:function(){return Zf(Rr)},useDebugValue:ep,useDeferredValue:function(a,c){var f=an();return St===null?tp(f,a,c):p0(f,St.memoizedState,a,c)},useTransition:function(){var a=Zf(Rr)[0],c=an().memoizedState;return[typeof a=="boolean"?a:ac(a),c]},useSyncExternalStore:j1,useId:y0,useHostTransitionStatus:ip,useFormState:r0,useActionState:r0,useOptimistic:function(a,c){var f=an();return St!==null?Y1(f,St,a,c):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:v0},Ya=null,lc=0;function pu(a){var c=lc;return lc+=1,Ya===null&&(Ya=[]),N1(Ya,a,c)}function uc(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function gu(a,c){throw c.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function E0(a){var c=a._init;return c(a._payload)}function T0(a){function c(de,ce){if(a){var fe=de.deletions;fe===null?(de.deletions=[ce],de.flags|=16):fe.push(ce)}}function f(de,ce){if(!a)return null;for(;ce!==null;)c(de,ce),ce=ce.sibling;return null}function b(de){for(var ce=new Map;de!==null;)de.key!==null?ce.set(de.key,de):ce.set(de.index,de),de=de.sibling;return ce}function D(de,ce){return de=wr(de,ce),de.index=0,de.sibling=null,de}function T(de,ce,fe){return de.index=fe,a?(fe=de.alternate,fe!==null?(fe=fe.index,fe<ce?(de.flags|=67108866,ce):fe):(de.flags|=67108866,ce)):(de.flags|=1048576,ce)}function B(de){return a&&de.alternate===null&&(de.flags|=67108866),de}function j(de,ce,fe,Se){return ce===null||ce.tag!==6?(ce=Ef(fe,de.mode,Se),ce.return=de,ce):(ce=D(ce,fe),ce.return=de,ce)}function te(de,ce,fe,Se){var ze=fe.type;return ze===v?Te(de,ce,fe.props.children,Se,fe.key):ce!==null&&(ce.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===N&&E0(ze)===ce.type)?(ce=D(ce,fe.props),uc(ce,fe),ce.return=de,ce):(ce=Zl(fe.type,fe.key,fe.props,null,de.mode,Se),uc(ce,fe),ce.return=de,ce)}function pe(de,ce,fe,Se){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==fe.containerInfo||ce.stateNode.implementation!==fe.implementation?(ce=Tf(fe,de.mode,Se),ce.return=de,ce):(ce=D(ce,fe.children||[]),ce.return=de,ce)}function Te(de,ce,fe,Se,ze){return ce===null||ce.tag!==7?(ce=Hs(fe,de.mode,Se,ze),ce.return=de,ce):(ce=D(ce,fe),ce.return=de,ce)}function Ce(de,ce,fe){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=Ef(""+ce,de.mode,fe),ce.return=de,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:return fe=Zl(ce.type,ce.key,ce.props,null,de.mode,fe),uc(fe,ce),fe.return=de,fe;case m:return ce=Tf(ce,de.mode,fe),ce.return=de,ce;case N:var Se=ce._init;return ce=Se(ce._payload),Ce(de,ce,fe)}if(Z(ce)||L(ce))return ce=Hs(ce,de.mode,fe,null),ce.return=de,ce;if(typeof ce.then=="function")return Ce(de,pu(ce),fe);if(ce.$$typeof===w)return Ce(de,tu(de,ce),fe);gu(de,ce)}return null}function ge(de,ce,fe,Se){var ze=ce!==null?ce.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return ze!==null?null:j(de,ce,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:return fe.key===ze?te(de,ce,fe,Se):null;case m:return fe.key===ze?pe(de,ce,fe,Se):null;case N:return ze=fe._init,fe=ze(fe._payload),ge(de,ce,fe,Se)}if(Z(fe)||L(fe))return ze!==null?null:Te(de,ce,fe,Se,null);if(typeof fe.then=="function")return ge(de,ce,pu(fe),Se);if(fe.$$typeof===w)return ge(de,ce,tu(de,fe),Se);gu(de,fe)}return null}function xe(de,ce,fe,Se,ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return de=de.get(fe)||null,j(ce,de,""+Se,ze);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return de=de.get(Se.key===null?fe:Se.key)||null,te(ce,de,Se,ze);case m:return de=de.get(Se.key===null?fe:Se.key)||null,pe(ce,de,Se,ze);case N:var ht=Se._init;return Se=ht(Se._payload),xe(de,ce,fe,Se,ze)}if(Z(Se)||L(Se))return de=de.get(fe)||null,Te(ce,de,Se,ze,null);if(typeof Se.then=="function")return xe(de,ce,fe,pu(Se),ze);if(Se.$$typeof===w)return xe(de,ce,fe,tu(ce,Se),ze);gu(ce,Se)}return null}function et(de,ce,fe,Se){for(var ze=null,ht=null,Ge=ce,Qe=ce=0,wn=null;Ge!==null&&Qe<fe.length;Qe++){Ge.index>Qe?(wn=Ge,Ge=null):wn=Ge.sibling;var vt=ge(de,Ge,fe[Qe],Se);if(vt===null){Ge===null&&(Ge=wn);break}a&&Ge&&vt.alternate===null&&c(de,Ge),ce=T(vt,ce,Qe),ht===null?ze=vt:ht.sibling=vt,ht=vt,Ge=wn}if(Qe===fe.length)return f(de,Ge),At&&qs(de,Qe),ze;if(Ge===null){for(;Qe<fe.length;Qe++)Ge=Ce(de,fe[Qe],Se),Ge!==null&&(ce=T(Ge,ce,Qe),ht===null?ze=Ge:ht.sibling=Ge,ht=Ge);return At&&qs(de,Qe),ze}for(Ge=b(Ge);Qe<fe.length;Qe++)wn=xe(Ge,de,Qe,fe[Qe],Se),wn!==null&&(a&&wn.alternate!==null&&Ge.delete(wn.key===null?Qe:wn.key),ce=T(wn,ce,Qe),ht===null?ze=wn:ht.sibling=wn,ht=wn);return a&&Ge.forEach(function(ms){return c(de,ms)}),At&&qs(de,Qe),ze}function Ze(de,ce,fe,Se){if(fe==null)throw Error(n(151));for(var ze=null,ht=null,Ge=ce,Qe=ce=0,wn=null,vt=fe.next();Ge!==null&&!vt.done;Qe++,vt=fe.next()){Ge.index>Qe?(wn=Ge,Ge=null):wn=Ge.sibling;var ms=ge(de,Ge,vt.value,Se);if(ms===null){Ge===null&&(Ge=wn);break}a&&Ge&&ms.alternate===null&&c(de,Ge),ce=T(ms,ce,Qe),ht===null?ze=ms:ht.sibling=ms,ht=ms,Ge=wn}if(vt.done)return f(de,Ge),At&&qs(de,Qe),ze;if(Ge===null){for(;!vt.done;Qe++,vt=fe.next())vt=Ce(de,vt.value,Se),vt!==null&&(ce=T(vt,ce,Qe),ht===null?ze=vt:ht.sibling=vt,ht=vt);return At&&qs(de,Qe),ze}for(Ge=b(Ge);!vt.done;Qe++,vt=fe.next())vt=xe(Ge,de,Qe,vt.value,Se),vt!==null&&(a&&vt.alternate!==null&&Ge.delete(vt.key===null?Qe:vt.key),ce=T(vt,ce,Qe),ht===null?ze=vt:ht.sibling=vt,ht=vt);return a&&Ge.forEach(function(BC){return c(de,BC)}),At&&qs(de,Qe),ze}function Rt(de,ce,fe,Se){if(typeof fe=="object"&&fe!==null&&fe.type===v&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:e:{for(var ze=fe.key;ce!==null;){if(ce.key===ze){if(ze=fe.type,ze===v){if(ce.tag===7){f(de,ce.sibling),Se=D(ce,fe.props.children),Se.return=de,de=Se;break e}}else if(ce.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===N&&E0(ze)===ce.type){f(de,ce.sibling),Se=D(ce,fe.props),uc(Se,fe),Se.return=de,de=Se;break e}f(de,ce);break}else c(de,ce);ce=ce.sibling}fe.type===v?(Se=Hs(fe.props.children,de.mode,Se,fe.key),Se.return=de,de=Se):(Se=Zl(fe.type,fe.key,fe.props,null,de.mode,Se),uc(Se,fe),Se.return=de,de=Se)}return B(de);case m:e:{for(ze=fe.key;ce!==null;){if(ce.key===ze)if(ce.tag===4&&ce.stateNode.containerInfo===fe.containerInfo&&ce.stateNode.implementation===fe.implementation){f(de,ce.sibling),Se=D(ce,fe.children||[]),Se.return=de,de=Se;break e}else{f(de,ce);break}else c(de,ce);ce=ce.sibling}Se=Tf(fe,de.mode,Se),Se.return=de,de=Se}return B(de);case N:return ze=fe._init,fe=ze(fe._payload),Rt(de,ce,fe,Se)}if(Z(fe))return et(de,ce,fe,Se);if(L(fe)){if(ze=L(fe),typeof ze!="function")throw Error(n(150));return fe=ze.call(fe),Ze(de,ce,fe,Se)}if(typeof fe.then=="function")return Rt(de,ce,pu(fe),Se);if(fe.$$typeof===w)return Rt(de,ce,tu(de,fe),Se);gu(de,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ce!==null&&ce.tag===6?(f(de,ce.sibling),Se=D(ce,fe),Se.return=de,de=Se):(f(de,ce),Se=Ef(fe,de.mode,Se),Se.return=de,de=Se),B(de)):f(de,ce)}return function(de,ce,fe,Se){try{lc=0;var ze=Rt(de,ce,fe,Se);return Ya=null,ze}catch(Ge){if(Ge===ec||Ge===iu)throw Ge;var ht=gi(29,Ge,null,de.mode);return ht.lanes=Se,ht.return=de,ht}finally{}}}var Ka=T0(!0),S0=T0(!1),Li=P(null),ar=null;function ts(a){var c=a.alternate;$(pn,pn.current&1),$(Li,a),ar===null&&(c===null||Ga.current!==null||c.memoizedState!==null)&&(ar=a)}function C0(a){if(a.tag===22){if($(pn,pn.current),$(Li,a),ar===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ar=a)}}else ns()}function ns(){$(pn,pn.current),$(Li,Li.current)}function Ur(a){V(Li),ar===a&&(ar=null),V(pn)}var pn=P(0);function mu(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Xp(f)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function sp(a,c,f,b){c=a.memoizedState,f=f(b,c),f=f==null?c:d({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var ap={enqueueSetState:function(a,c,f){a=a._reactInternals;var b=vi(),D=Qr(b);D.payload=c,f!=null&&(D.callback=f),c=Jr(a,D,b),c!==null&&(Ai(c,a,b),nc(c,a,b))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var b=vi(),D=Qr(b);D.tag=1,D.payload=c,f!=null&&(D.callback=f),c=Jr(a,D,b),c!==null&&(Ai(c,a,b),nc(c,a,b))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=vi(),b=Qr(f);b.tag=2,c!=null&&(b.callback=c),c=Jr(a,b,f),c!==null&&(Ai(c,a,f),nc(c,a,f))}};function R0(a,c,f,b,D,T,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(b,T,B):c.prototype&&c.prototype.isPureReactComponent?!$o(f,b)||!$o(D,T):!0}function U0(a,c,f,b){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,b),c.state!==a&&ap.enqueueReplaceState(c,c.state,null)}function Zs(a,c){var f=c;if("ref"in c){f={};for(var b in c)b!=="ref"&&(f[b]=c[b])}if(a=a.defaultProps){f===c&&(f=d({},f));for(var D in a)f[D]===void 0&&(f[D]=a[D])}return f}var bu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function k0(a){bu(a)}function F0(a){console.error(a)}function M0(a){bu(a)}function yu(a,c){try{var f=a.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function L0(a,c,f){try{var b=a.onCaughtError;b(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function op(a,c,f){return f=Qr(f),f.tag=3,f.payload={element:null},f.callback=function(){yu(a,c)},f}function N0(a){return a=Qr(a),a.tag=3,a}function O0(a,c,f,b){var D=f.type.getDerivedStateFromError;if(typeof D=="function"){var T=b.value;a.payload=function(){return D(T)},a.callback=function(){L0(c,f,b)}}var B=f.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){L0(c,f,b),typeof D!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var j=b.stack;this.componentDidCatch(b.value,{componentStack:j!==null?j:""})})}function BS(a,c,f,b,D){if(f.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=f.alternate,c!==null&&Zo(c,f,D,!0),f=Li.current,f!==null){switch(f.tag){case 13:return ar===null?kp():f.alternate===null&&Xt===0&&(Xt=3),f.flags&=-257,f.flags|=65536,f.lanes=D,b===Of?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([b]):c.add(b),Mp(a,b,D)),!1;case 22:return f.flags|=65536,b===Of?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([b]):f.add(b)),Mp(a,b,D)),!1}throw Error(n(435,f.tag))}return Mp(a,b,D),kp(),!1}if(At)return c=Li.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=D,b!==Rf&&(a=Error(n(422),{cause:b}),Ko(Ui(a,f)))):(b!==Rf&&(c=Error(n(423),{cause:b}),Ko(Ui(c,f))),a=a.current.alternate,a.flags|=65536,D&=-D,a.lanes|=D,b=Ui(b,f),D=op(a.stateNode,b,D),Pf(a,D),Xt!==4&&(Xt=2)),!1;var T=Error(n(520),{cause:b});if(T=Ui(T,f),bc===null?bc=[T]:bc.push(T),Xt!==4&&(Xt=2),c===null)return!0;b=Ui(b,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,a=D&-D,f.lanes|=a,a=op(f.stateNode,b,a),Pf(f,a),!1;case 1:if(c=f.type,T=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(cs===null||!cs.has(T))))return f.flags|=65536,D&=-D,f.lanes|=D,D=N0(D),O0(D,a,f,b),Pf(f,D),!1}f=f.return}while(f!==null);return!1}var B0=Error(n(461)),_n=!1;function Rn(a,c,f,b){c.child=a===null?S0(c,null,f,b):Ka(c,a.child,f,b)}function I0(a,c,f,b,D){f=f.render;var T=c.ref;if("ref"in b){var B={};for(var j in b)j!=="ref"&&(B[j]=b[j])}else B=b;return Xs(c),b=qf(a,c,f,B,T,D),j=Gf(),a!==null&&!_n?($f(a,c,D),kr(a,c,D)):(At&&j&&Sf(c),c.flags|=1,Rn(a,c,b,D),c.child)}function P0(a,c,f,b,D){if(a===null){var T=f.type;return typeof T=="function"&&!wf(T)&&T.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=T,W0(a,c,T,b,D)):(a=Zl(f.type,null,b,c,c.mode,D),a.ref=c.ref,a.return=c,c.child=a)}if(T=a.child,!gp(a,D)){var B=T.memoizedProps;if(f=f.compare,f=f!==null?f:$o,f(B,b)&&a.ref===c.ref)return kr(a,c,D)}return c.flags|=1,a=wr(T,b),a.ref=c.ref,a.return=c,c.child=a}function W0(a,c,f,b,D){if(a!==null){var T=a.memoizedProps;if($o(T,b)&&a.ref===c.ref)if(_n=!1,c.pendingProps=b=T,gp(a,D))(a.flags&131072)!==0&&(_n=!0);else return c.lanes=a.lanes,kr(a,c,D)}return cp(a,c,f,b,D)}function z0(a,c,f){var b=c.pendingProps,D=b.children,T=a!==null?a.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=T!==null?T.baseLanes|f:f,a!==null){for(D=c.child=a.child,T=0;D!==null;)T=T|D.lanes|D.childLanes,D=D.sibling;c.childLanes=T&~b}else c.childLanes=0,c.child=null;return H0(a,c,b,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&nu(c,T!==null?T.cachePool:null),T!==null?W1(c,T):zf(),C0(c);else return c.lanes=c.childLanes=536870912,H0(a,c,T!==null?T.baseLanes|f:f,f)}else T!==null?(nu(c,T.cachePool),W1(c,T),ns(),c.memoizedState=null):(a!==null&&nu(c,null),zf(),ns());return Rn(a,c,D,f),c.child}function H0(a,c,f,b){var D=Nf();return D=D===null?null:{parent:fn._currentValue,pool:D},c.memoizedState={baseLanes:f,cachePool:D},a!==null&&nu(c,null),zf(),C0(c),a!==null&&Zo(a,c,b,!0),null}function vu(a,c){var f=c.ref;if(f===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(a===null||a.ref!==f)&&(c.flags|=4194816)}}function cp(a,c,f,b,D){return Xs(c),f=qf(a,c,f,b,void 0,D),b=Gf(),a!==null&&!_n?($f(a,c,D),kr(a,c,D)):(At&&b&&Sf(c),c.flags|=1,Rn(a,c,f,D),c.child)}function j0(a,c,f,b,D,T){return Xs(c),c.updateQueue=null,f=H1(c,b,f,D),z1(a),b=Gf(),a!==null&&!_n?($f(a,c,T),kr(a,c,T)):(At&&b&&Sf(c),c.flags|=1,Rn(a,c,f,T),c.child)}function q0(a,c,f,b,D){if(Xs(c),c.stateNode===null){var T=Wa,B=f.contextType;typeof B=="object"&&B!==null&&(T=In(B)),T=new f(b,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=ap,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=b,T.state=c.memoizedState,T.refs={},Bf(c),B=f.contextType,T.context=typeof B=="object"&&B!==null?In(B):Wa,T.state=c.memoizedState,B=f.getDerivedStateFromProps,typeof B=="function"&&(sp(c,f,B,b),T.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(B=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),B!==T.state&&ap.enqueueReplaceState(T,T.state,null),rc(c,b,T,D),ic(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(a===null){T=c.stateNode;var j=c.memoizedProps,te=Zs(f,j);T.props=te;var pe=T.context,Te=f.contextType;B=Wa,typeof Te=="object"&&Te!==null&&(B=In(Te));var Ce=f.getDerivedStateFromProps;Te=typeof Ce=="function"||typeof T.getSnapshotBeforeUpdate=="function",j=c.pendingProps!==j,Te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j||pe!==B)&&U0(c,T,b,B),Zr=!1;var ge=c.memoizedState;T.state=ge,rc(c,b,T,D),ic(),pe=c.memoizedState,j||ge!==pe||Zr?(typeof Ce=="function"&&(sp(c,f,Ce,b),pe=c.memoizedState),(te=Zr||R0(c,f,te,b,ge,pe,B))?(Te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=pe),T.props=b,T.state=pe,T.context=B,b=te):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{T=c.stateNode,If(a,c),B=c.memoizedProps,Te=Zs(f,B),T.props=Te,Ce=c.pendingProps,ge=T.context,pe=f.contextType,te=Wa,typeof pe=="object"&&pe!==null&&(te=In(pe)),j=f.getDerivedStateFromProps,(pe=typeof j=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==Ce||ge!==te)&&U0(c,T,b,te),Zr=!1,ge=c.memoizedState,T.state=ge,rc(c,b,T,D),ic();var xe=c.memoizedState;B!==Ce||ge!==xe||Zr||a!==null&&a.dependencies!==null&&eu(a.dependencies)?(typeof j=="function"&&(sp(c,f,j,b),xe=c.memoizedState),(Te=Zr||R0(c,f,Te,b,ge,xe,te)||a!==null&&a.dependencies!==null&&eu(a.dependencies))?(pe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(b,xe,te),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(b,xe,te)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===a.memoizedProps&&ge===a.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&ge===a.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=xe),T.props=b,T.state=xe,T.context=te,b=Te):(typeof T.componentDidUpdate!="function"||B===a.memoizedProps&&ge===a.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&ge===a.memoizedState||(c.flags|=1024),b=!1)}return T=b,vu(a,c),b=(c.flags&128)!==0,T||b?(T=c.stateNode,f=b&&typeof f.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,a!==null&&b?(c.child=Ka(c,a.child,null,D),c.child=Ka(c,null,f,D)):Rn(a,c,f,D),c.memoizedState=T.state,a=c.child):a=kr(a,c,D),a}function G0(a,c,f,b){return Yo(),c.flags|=256,Rn(a,c,f,b),c.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function up(a){return{baseLanes:a,cachePool:F1()}}function hp(a,c,f){return a=a!==null?a.childLanes&~f:0,c&&(a|=Ni),a}function $0(a,c,f){var b=c.pendingProps,D=!1,T=(c.flags&128)!==0,B;if((B=T)||(B=a!==null&&a.memoizedState===null?!1:(pn.current&2)!==0),B&&(D=!0,c.flags&=-129),B=(c.flags&32)!==0,c.flags&=-33,a===null){if(At){if(D?ts(c):ns(),At){var j=Vt,te;if(te=j){e:{for(te=j,j=sr;te.nodeType!==8;){if(!j){j=null;break e}if(te=Qi(te.nextSibling),te===null){j=null;break e}}j=te}j!==null?(c.memoizedState={dehydrated:j,treeContext:js!==null?{id:Er,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},te=gi(18,null,null,0),te.stateNode=j,te.return=c,c.child=te,$n=c,Vt=null,te=!0):te=!1}te||$s(c)}if(j=c.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Xp(j)?c.lanes=32:c.lanes=536870912,null;Ur(c)}return j=b.children,b=b.fallback,D?(ns(),D=c.mode,j=Au({mode:"hidden",children:j},D),b=Hs(b,D,f,null),j.return=c,b.return=c,j.sibling=b,c.child=j,D=c.child,D.memoizedState=up(f),D.childLanes=hp(a,B,f),c.memoizedState=lp,b):(ts(c),dp(c,j))}if(te=a.memoizedState,te!==null&&(j=te.dehydrated,j!==null)){if(T)c.flags&256?(ts(c),c.flags&=-257,c=fp(a,c,f)):c.memoizedState!==null?(ns(),c.child=a.child,c.flags|=128,c=null):(ns(),D=b.fallback,j=c.mode,b=Au({mode:"visible",children:b.children},j),D=Hs(D,j,f,null),D.flags|=2,b.return=c,D.return=c,b.sibling=D,c.child=b,Ka(c,a.child,null,f),b=c.child,b.memoizedState=up(f),b.childLanes=hp(a,B,f),c.memoizedState=lp,c=D);else if(ts(c),Xp(j)){if(B=j.nextSibling&&j.nextSibling.dataset,B)var pe=B.dgst;B=pe,b=Error(n(419)),b.stack="",b.digest=B,Ko({value:b,source:null,stack:null}),c=fp(a,c,f)}else if(_n||Zo(a,c,f,!1),B=(f&a.childLanes)!==0,_n||B){if(B=Ot,B!==null&&(b=f&-f,b=(b&42)!==0?1:ke(b),b=(b&(B.suspendedLanes|f))!==0?0:b,b!==0&&b!==te.retryLane))throw te.retryLane=b,Pa(a,b),Ai(B,a,b),B0;j.data==="$?"||kp(),c=fp(a,c,f)}else j.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=te.treeContext,Vt=Qi(j.nextSibling),$n=c,At=!0,Gs=null,sr=!1,a!==null&&(Fi[Mi++]=Er,Fi[Mi++]=Tr,Fi[Mi++]=js,Er=a.id,Tr=a.overflow,js=c),c=dp(c,b.children),c.flags|=4096);return c}return D?(ns(),D=b.fallback,j=c.mode,te=a.child,pe=te.sibling,b=wr(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,pe!==null?D=wr(pe,D):(D=Hs(D,j,f,null),D.flags|=2),D.return=c,b.return=c,b.sibling=D,c.child=b,b=D,D=c.child,j=a.child.memoizedState,j===null?j=up(f):(te=j.cachePool,te!==null?(pe=fn._currentValue,te=te.parent!==pe?{parent:pe,pool:pe}:te):te=F1(),j={baseLanes:j.baseLanes|f,cachePool:te}),D.memoizedState=j,D.childLanes=hp(a,B,f),c.memoizedState=lp,b):(ts(c),f=a.child,a=f.sibling,f=wr(f,{mode:"visible",children:b.children}),f.return=c,f.sibling=null,a!==null&&(B=c.deletions,B===null?(c.deletions=[a],c.flags|=16):B.push(a)),c.child=f,c.memoizedState=null,f)}function dp(a,c){return c=Au({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Au(a,c){return a=gi(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function fp(a,c,f){return Ka(c,a.child,null,f),a=dp(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function V0(a,c,f){a.lanes|=c;var b=a.alternate;b!==null&&(b.lanes|=c),kf(a.return,c,f)}function pp(a,c,f,b,D){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:f,tailMode:D}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=b,T.tail=f,T.tailMode=D)}function X0(a,c,f){var b=c.pendingProps,D=b.revealOrder,T=b.tail;if(Rn(a,c,b.children,f),b=pn.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&V0(a,f,c);else if(a.tag===19)V0(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}b&=1}switch($(pn,b),D){case"forwards":for(f=c.child,D=null;f!==null;)a=f.alternate,a!==null&&mu(a)===null&&(D=f),f=f.sibling;f=D,f===null?(D=c.child,c.child=null):(D=f.sibling,f.sibling=null),pp(c,!1,D,f,T);break;case"backwards":for(f=null,D=c.child,c.child=null;D!==null;){if(a=D.alternate,a!==null&&mu(a)===null){c.child=D;break}a=D.sibling,D.sibling=f,f=D,D=a}pp(c,!0,f,null,T);break;case"together":pp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function kr(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),os|=c.lanes,(f&c.childLanes)===0)if(a!==null){if(Zo(a,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,f=wr(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=wr(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function gp(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&eu(a)))}function IS(a,c,f){switch(c.tag){case 3:Ee(c,c.stateNode.containerInfo),Kr(c,fn,a.memoizedState.cache),Yo();break;case 27:case 5:Ue(c);break;case 4:Ee(c,c.stateNode.containerInfo);break;case 10:Kr(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(ts(c),c.flags|=128,null):(f&c.child.childLanes)!==0?$0(a,c,f):(ts(c),a=kr(a,c,f),a!==null?a.sibling:null);ts(c);break;case 19:var D=(a.flags&128)!==0;if(b=(f&c.childLanes)!==0,b||(Zo(a,c,f,!1),b=(f&c.childLanes)!==0),D){if(b)return X0(a,c,f);c.flags|=128}if(D=c.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),$(pn,pn.current),b)break;return null;case 22:case 23:return c.lanes=0,z0(a,c,f);case 24:Kr(c,fn,a.memoizedState.cache)}return kr(a,c,f)}function Y0(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps)_n=!0;else{if(!gp(a,f)&&(c.flags&128)===0)return _n=!1,IS(a,c,f);_n=(a.flags&131072)!==0}else _n=!1,At&&(c.flags&1048576)!==0&&E1(c,Jl,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var b=c.elementType,D=b._init;if(b=D(b._payload),c.type=b,typeof b=="function")wf(b)?(a=Zs(b,a),c.tag=1,c=q0(null,c,b,a,f)):(c.tag=0,c=cp(null,c,b,a,f));else{if(b!=null){if(D=b.$$typeof,D===S){c.tag=11,c=I0(null,c,b,a,f);break e}else if(D===R){c.tag=14,c=P0(null,c,b,a,f);break e}}throw c=k(b)||b,Error(n(306,c,""))}}return c;case 0:return cp(a,c,c.type,c.pendingProps,f);case 1:return b=c.type,D=Zs(b,c.pendingProps),q0(a,c,b,D,f);case 3:e:{if(Ee(c,c.stateNode.containerInfo),a===null)throw Error(n(387));b=c.pendingProps;var T=c.memoizedState;D=T.element,If(a,c),rc(c,b,null,f);var B=c.memoizedState;if(b=B.cache,Kr(c,fn,b),b!==T.cache&&Ff(c,[fn],f,!0),ic(),b=B.element,T.isDehydrated)if(T={element:b,isDehydrated:!1,cache:B.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=G0(a,c,b,f);break e}else if(b!==D){D=Ui(Error(n(424)),c),Ko(D),c=G0(a,c,b,f);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Vt=Qi(a.firstChild),$n=c,At=!0,Gs=null,sr=!0,f=S0(c,null,b,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Yo(),b===D){c=kr(a,c,f);break e}Rn(a,c,b,f)}c=c.child}return c;case 26:return vu(a,c),a===null?(f=Jv(c.type,null,c.pendingProps,null))?c.memoizedState=f:At||(f=c.type,a=c.pendingProps,b=Lu(ye.current).createElement(f),b[Pt]=c,b[Wt]=a,kn(b,f,a),xn(b),c.stateNode=b):c.memoizedState=Jv(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Ue(c),a===null&&At&&(b=c.stateNode=Kv(c.type,c.pendingProps,ye.current),$n=c,sr=!0,D=Vt,hs(c.type)?(Yp=D,Vt=Qi(b.firstChild)):Vt=D),Rn(a,c,c.pendingProps.children,f),vu(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&At&&((D=b=Vt)&&(b=dC(b,c.type,c.pendingProps,sr),b!==null?(c.stateNode=b,$n=c,Vt=Qi(b.firstChild),sr=!1,D=!0):D=!1),D||$s(c)),Ue(c),D=c.type,T=c.pendingProps,B=a!==null?a.memoizedProps:null,b=T.children,Gp(D,T)?b=null:B!==null&&Gp(D,B)&&(c.flags|=32),c.memoizedState!==null&&(D=qf(a,c,US,null,null,f),Tc._currentValue=D),vu(a,c),Rn(a,c,b,f),c.child;case 6:return a===null&&At&&((a=f=Vt)&&(f=fC(f,c.pendingProps,sr),f!==null?(c.stateNode=f,$n=c,Vt=null,a=!0):a=!1),a||$s(c)),null;case 13:return $0(a,c,f);case 4:return Ee(c,c.stateNode.containerInfo),b=c.pendingProps,a===null?c.child=Ka(c,null,b,f):Rn(a,c,b,f),c.child;case 11:return I0(a,c,c.type,c.pendingProps,f);case 7:return Rn(a,c,c.pendingProps,f),c.child;case 8:return Rn(a,c,c.pendingProps.children,f),c.child;case 12:return Rn(a,c,c.pendingProps.children,f),c.child;case 10:return b=c.pendingProps,Kr(c,c.type,b.value),Rn(a,c,b.children,f),c.child;case 9:return D=c.type._context,b=c.pendingProps.children,Xs(c),D=In(D),b=b(D),c.flags|=1,Rn(a,c,b,f),c.child;case 14:return P0(a,c,c.type,c.pendingProps,f);case 15:return W0(a,c,c.type,c.pendingProps,f);case 19:return X0(a,c,f);case 31:return b=c.pendingProps,f=c.mode,b={mode:b.mode,children:b.children},a===null?(f=Au(b,f),f.ref=c.ref,c.child=f,f.return=c,c=f):(f=wr(a.child,b),f.ref=c.ref,c.child=f,f.return=c,c=f),c;case 22:return z0(a,c,f);case 24:return Xs(c),b=In(fn),a===null?(D=Nf(),D===null&&(D=Ot,T=Mf(),D.pooledCache=T,T.refCount++,T!==null&&(D.pooledCacheLanes|=f),D=T),c.memoizedState={parent:b,cache:D},Bf(c),Kr(c,fn,D)):((a.lanes&f)!==0&&(If(a,c),rc(c,null,null,f),ic()),D=a.memoizedState,T=c.memoizedState,D.parent!==b?(D={parent:b,cache:b},c.memoizedState=D,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=D),Kr(c,fn,b)):(b=T.cache,Kr(c,fn,b),b!==D.cache&&Ff(c,[fn],f,!0))),Rn(a,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Fr(a){a.flags|=4}function K0(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!r2(c)){if(c=Li.current,c!==null&&((yt&4194048)===yt?ar!==null:(yt&62914560)!==yt&&(yt&536870912)===0||c!==ar))throw tc=Of,M1;a.flags|=8192}}function xu(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?di():536870912,a.lanes|=c,eo|=c)}function hc(a,c){if(!At)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:b.sibling=null}}function qt(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,b=0;if(c)for(var D=a.child;D!==null;)f|=D.lanes|D.childLanes,b|=D.subtreeFlags&65011712,b|=D.flags&65011712,D.return=a,D=D.sibling;else for(D=a.child;D!==null;)f|=D.lanes|D.childLanes,b|=D.subtreeFlags,b|=D.flags,D.return=a,D=D.sibling;return a.subtreeFlags|=b,a.childLanes=f,c}function PS(a,c,f){var b=c.pendingProps;switch(Cf(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(c),null;case 1:return qt(c),null;case 3:return f=c.stateNode,b=null,a!==null&&(b=a.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),Cr(fn),Fe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Xo(c)?Fr(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,C1())),qt(c),null;case 26:return f=c.memoizedState,a===null?(Fr(c),f!==null?(qt(c),K0(c,f)):(qt(c),c.flags&=-16777217)):f?f!==a.memoizedState?(Fr(c),qt(c),K0(c,f)):(qt(c),c.flags&=-16777217):(a.memoizedProps!==b&&Fr(c),qt(c),c.flags&=-16777217),null;case 27:Oe(c),f=ye.current;var D=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==b&&Fr(c);else{if(!b){if(c.stateNode===null)throw Error(n(166));return qt(c),null}a=se.current,Xo(c)?T1(c):(a=Kv(D,b,f),c.stateNode=a,Fr(c))}return qt(c),null;case 5:if(Oe(c),f=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==b&&Fr(c);else{if(!b){if(c.stateNode===null)throw Error(n(166));return qt(c),null}if(a=se.current,Xo(c))T1(c);else{switch(D=Lu(ye.current),a){case 1:a=D.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:a=D.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":a=D.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":a=D.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":a=D.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof b.is=="string"?D.createElement("select",{is:b.is}):D.createElement("select"),b.multiple?a.multiple=!0:b.size&&(a.size=b.size);break;default:a=typeof b.is=="string"?D.createElement(f,{is:b.is}):D.createElement(f)}}a[Pt]=c,a[Wt]=b;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)a.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=a;e:switch(kn(a,f,b),f){case"button":case"input":case"select":case"textarea":a=!!b.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Fr(c)}}return qt(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==b&&Fr(c);else{if(typeof b!="string"&&c.stateNode===null)throw Error(n(166));if(a=ye.current,Xo(c)){if(a=c.stateNode,f=c.memoizedProps,b=null,D=$n,D!==null)switch(D.tag){case 27:case 5:b=D.memoizedProps}a[Pt]=c,a=!!(a.nodeValue===f||b!==null&&b.suppressHydrationWarning===!0||jv(a.nodeValue,f)),a||$s(c)}else a=Lu(a).createTextNode(b),a[Pt]=c,c.stateNode=a}return qt(c),null;case 13:if(b=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(D=Xo(c),b!==null&&b.dehydrated!==null){if(a===null){if(!D)throw Error(n(318));if(D=c.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[Pt]=c}else Yo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qt(c),D=!1}else D=C1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=D),D=!0;if(!D)return c.flags&256?(Ur(c),c):(Ur(c),null)}if(Ur(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=b!==null,a=a!==null&&a.memoizedState!==null,f){b=c.child,D=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(D=b.alternate.memoizedState.cachePool.pool);var T=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(T=b.memoizedState.cachePool.pool),T!==D&&(b.flags|=2048)}return f!==a&&f&&(c.child.flags|=8192),xu(c,c.updateQueue),qt(c),null;case 4:return Fe(),a===null&&Wp(c.stateNode.containerInfo),qt(c),null;case 10:return Cr(c.type),qt(c),null;case 19:if(V(pn),D=c.memoizedState,D===null)return qt(c),null;if(b=(c.flags&128)!==0,T=D.rendering,T===null)if(b)hc(D,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(T=mu(a),T!==null){for(c.flags|=128,hc(D,!1),a=T.updateQueue,c.updateQueue=a,xu(c,a),c.subtreeFlags=0,a=f,f=c.child;f!==null;)w1(f,a),f=f.sibling;return $(pn,pn.current&1|2),c.child}a=a.sibling}D.tail!==null&&Y()>wu&&(c.flags|=128,b=!0,hc(D,!1),c.lanes=4194304)}else{if(!b)if(a=mu(T),a!==null){if(c.flags|=128,b=!0,a=a.updateQueue,c.updateQueue=a,xu(c,a),hc(D,!0),D.tail===null&&D.tailMode==="hidden"&&!T.alternate&&!At)return qt(c),null}else 2*Y()-D.renderingStartTime>wu&&f!==536870912&&(c.flags|=128,b=!0,hc(D,!1),c.lanes=4194304);D.isBackwards?(T.sibling=c.child,c.child=T):(a=D.last,a!==null?a.sibling=T:c.child=T,D.last=T)}return D.tail!==null?(c=D.tail,D.rendering=c,D.tail=c.sibling,D.renderingStartTime=Y(),c.sibling=null,a=pn.current,$(pn,b?a&1|2:a&1),c):(qt(c),null);case 22:case 23:return Ur(c),Hf(),b=c.memoizedState!==null,a!==null?a.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(f&536870912)!==0&&(c.flags&128)===0&&(qt(c),c.subtreeFlags&6&&(c.flags|=8192)):qt(c),f=c.updateQueue,f!==null&&xu(c,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==f&&(c.flags|=2048),a!==null&&V(Ys),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Cr(fn),qt(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function WS(a,c){switch(Cf(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Cr(fn),Fe(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Oe(c),null;case 13:if(Ur(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Yo()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return V(pn),null;case 4:return Fe(),null;case 10:return Cr(c.type),null;case 22:case 23:return Ur(c),Hf(),a!==null&&V(Ys),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Cr(fn),null;case 25:return null;default:return null}}function Z0(a,c){switch(Cf(c),c.tag){case 3:Cr(fn),Fe();break;case 26:case 27:case 5:Oe(c);break;case 4:Fe();break;case 13:Ur(c);break;case 19:V(pn);break;case 10:Cr(c.type);break;case 22:case 23:Ur(c),Hf(),a!==null&&V(Ys);break;case 24:Cr(fn)}}function dc(a,c){try{var f=c.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var D=b.next;f=D;do{if((f.tag&a)===a){b=void 0;var T=f.create,B=f.inst;b=T(),B.destroy=b}f=f.next}while(f!==D)}}catch(j){Mt(c,c.return,j)}}function is(a,c,f){try{var b=c.updateQueue,D=b!==null?b.lastEffect:null;if(D!==null){var T=D.next;b=T;do{if((b.tag&a)===a){var B=b.inst,j=B.destroy;if(j!==void 0){B.destroy=void 0,D=c;var te=f,pe=j;try{pe()}catch(Te){Mt(D,te,Te)}}}b=b.next}while(b!==T)}}catch(Te){Mt(c,c.return,Te)}}function Q0(a){var c=a.updateQueue;if(c!==null){var f=a.stateNode;try{P1(c,f)}catch(b){Mt(a,a.return,b)}}}function J0(a,c,f){f.props=Zs(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(b){Mt(a,c,b)}}function fc(a,c){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var b=a.stateNode;break;case 30:b=a.stateNode;break;default:b=a.stateNode}typeof f=="function"?a.refCleanup=f(b):f.current=b}}catch(D){Mt(a,c,D)}}function or(a,c){var f=a.ref,b=a.refCleanup;if(f!==null)if(typeof b=="function")try{b()}catch(D){Mt(a,c,D)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(D){Mt(a,c,D)}else f.current=null}function ev(a){var c=a.type,f=a.memoizedProps,b=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&b.focus();break e;case"img":f.src?b.src=f.src:f.srcSet&&(b.srcset=f.srcSet)}}catch(D){Mt(a,a.return,D)}}function mp(a,c,f){try{var b=a.stateNode;oC(b,a.type,f,c),b[Wt]=c}catch(D){Mt(a,a.return,D)}}function tv(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&hs(a.type)||a.tag===4}function bp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||tv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&hs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function yp(a,c,f){var b=a.tag;if(b===5||b===6)a=a.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(a),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Mu));else if(b!==4&&(b===27&&hs(a.type)&&(f=a.stateNode,c=null),a=a.child,a!==null))for(yp(a,c,f),a=a.sibling;a!==null;)yp(a,c,f),a=a.sibling}function _u(a,c,f){var b=a.tag;if(b===5||b===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(b!==4&&(b===27&&hs(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(_u(a,c,f),a=a.sibling;a!==null;)_u(a,c,f),a=a.sibling}function nv(a){var c=a.stateNode,f=a.memoizedProps;try{for(var b=a.type,D=c.attributes;D.length;)c.removeAttributeNode(D[0]);kn(c,b,f),c[Pt]=a,c[Wt]=f}catch(T){Mt(a,a.return,T)}}var Mr=!1,Kt=!1,vp=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function zS(a,c){if(a=a.containerInfo,jp=Wu,a=p1(a),bf(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var b=f.getSelection&&f.getSelection();if(b&&b.rangeCount!==0){f=b.anchorNode;var D=b.anchorOffset,T=b.focusNode;b=b.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var B=0,j=-1,te=-1,pe=0,Te=0,Ce=a,ge=null;t:for(;;){for(var xe;Ce!==f||D!==0&&Ce.nodeType!==3||(j=B+D),Ce!==T||b!==0&&Ce.nodeType!==3||(te=B+b),Ce.nodeType===3&&(B+=Ce.nodeValue.length),(xe=Ce.firstChild)!==null;)ge=Ce,Ce=xe;for(;;){if(Ce===a)break t;if(ge===f&&++pe===D&&(j=B),ge===T&&++Te===b&&(te=B),(xe=Ce.nextSibling)!==null)break;Ce=ge,ge=Ce.parentNode}Ce=xe}f=j===-1||te===-1?null:{start:j,end:te}}else f=null}f=f||{start:0,end:0}}else f=null;for(qp={focusedElem:a,selectionRange:f},Wu=!1,Dn=c;Dn!==null;)if(c=Dn,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Dn=a;else for(;Dn!==null;){switch(c=Dn,T=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,f=c,D=T.memoizedProps,T=T.memoizedState,b=f.stateNode;try{var et=Zs(f.type,D,f.elementType===f.type);a=b.getSnapshotBeforeUpdate(et,T),b.__reactInternalSnapshotBeforeUpdate=a}catch(Ze){Mt(f,f.return,Ze)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,f=a.nodeType,f===9)Vp(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Vp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=c.sibling,a!==null){a.return=c.return,Dn=a;break}Dn=c.return}}function rv(a,c,f){var b=f.flags;switch(f.tag){case 0:case 11:case 15:rs(a,f),b&4&&dc(5,f);break;case 1:if(rs(a,f),b&4)if(a=f.stateNode,c===null)try{a.componentDidMount()}catch(B){Mt(f,f.return,B)}else{var D=Zs(f.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(D,c,a.__reactInternalSnapshotBeforeUpdate)}catch(B){Mt(f,f.return,B)}}b&64&&Q0(f),b&512&&fc(f,f.return);break;case 3:if(rs(a,f),b&64&&(a=f.updateQueue,a!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{P1(a,c)}catch(B){Mt(f,f.return,B)}}break;case 27:c===null&&b&4&&nv(f);case 26:case 5:rs(a,f),c===null&&b&4&&ev(f),b&512&&fc(f,f.return);break;case 12:rs(a,f);break;case 13:rs(a,f),b&4&&ov(a,f),b&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=KS.bind(null,f),pC(a,f))));break;case 22:if(b=f.memoizedState!==null||Mr,!b){c=c!==null&&c.memoizedState!==null||Kt,D=Mr;var T=Kt;Mr=b,(Kt=c)&&!T?ss(a,f,(f.subtreeFlags&8772)!==0):rs(a,f),Mr=D,Kt=T}break;case 30:break;default:rs(a,f)}}function sv(a){var c=a.alternate;c!==null&&(a.alternate=null,sv(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&rn(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var zt=null,ii=!1;function Lr(a,c,f){for(f=f.child;f!==null;)av(a,c,f),f=f.sibling}function av(a,c,f){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Ae,f)}catch{}switch(f.tag){case 26:Kt||or(f,c),Lr(a,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Kt||or(f,c);var b=zt,D=ii;hs(f.type)&&(zt=f.stateNode,ii=!1),Lr(a,c,f),_c(f.stateNode),zt=b,ii=D;break;case 5:Kt||or(f,c);case 6:if(b=zt,D=ii,zt=null,Lr(a,c,f),zt=b,ii=D,zt!==null)if(ii)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(f.stateNode)}catch(T){Mt(f,c,T)}else try{zt.removeChild(f.stateNode)}catch(T){Mt(f,c,T)}break;case 18:zt!==null&&(ii?(a=zt,Xv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Uc(a)):Xv(zt,f.stateNode));break;case 4:b=zt,D=ii,zt=f.stateNode.containerInfo,ii=!0,Lr(a,c,f),zt=b,ii=D;break;case 0:case 11:case 14:case 15:Kt||is(2,f,c),Kt||is(4,f,c),Lr(a,c,f);break;case 1:Kt||(or(f,c),b=f.stateNode,typeof b.componentWillUnmount=="function"&&J0(f,c,b)),Lr(a,c,f);break;case 21:Lr(a,c,f);break;case 22:Kt=(b=Kt)||f.memoizedState!==null,Lr(a,c,f),Kt=b;break;default:Lr(a,c,f)}}function ov(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Uc(a)}catch(f){Mt(c,c.return,f)}}function HS(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new iv),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new iv),c;default:throw Error(n(435,a.tag))}}function Ap(a,c){var f=HS(a);c.forEach(function(b){var D=ZS.bind(null,a,b);f.has(b)||(f.add(b),b.then(D,D))})}function mi(a,c){var f=c.deletions;if(f!==null)for(var b=0;b<f.length;b++){var D=f[b],T=a,B=c,j=B;e:for(;j!==null;){switch(j.tag){case 27:if(hs(j.type)){zt=j.stateNode,ii=!1;break e}break;case 5:zt=j.stateNode,ii=!1;break e;case 3:case 4:zt=j.stateNode.containerInfo,ii=!0;break e}j=j.return}if(zt===null)throw Error(n(160));av(T,B,D),zt=null,ii=!1,T=D.alternate,T!==null&&(T.return=null),D.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)cv(c,a),c=c.sibling}var Zi=null;function cv(a,c){var f=a.alternate,b=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:mi(c,a),bi(a),b&4&&(is(3,a,a.return),dc(3,a),is(5,a,a.return));break;case 1:mi(c,a),bi(a),b&512&&(Kt||f===null||or(f,f.return)),b&64&&Mr&&(a=a.updateQueue,a!==null&&(b=a.callbacks,b!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?b:f.concat(b))));break;case 26:var D=Zi;if(mi(c,a),bi(a),b&512&&(Kt||f===null||or(f,f.return)),b&4){var T=f!==null?f.memoizedState:null;if(b=a.memoizedState,f===null)if(b===null)if(a.stateNode===null){e:{b=a.type,f=a.memoizedProps,D=D.ownerDocument||D;t:switch(b){case"title":T=D.getElementsByTagName("title")[0],(!T||T[Yi]||T[Pt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=D.createElement(b),D.head.insertBefore(T,D.querySelector("head > title"))),kn(T,b,f),T[Pt]=a,xn(T),b=T;break e;case"link":var B=n2("link","href",D).get(b+(f.href||""));if(B){for(var j=0;j<B.length;j++)if(T=B[j],T.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&T.getAttribute("rel")===(f.rel==null?null:f.rel)&&T.getAttribute("title")===(f.title==null?null:f.title)&&T.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){B.splice(j,1);break t}}T=D.createElement(b),kn(T,b,f),D.head.appendChild(T);break;case"meta":if(B=n2("meta","content",D).get(b+(f.content||""))){for(j=0;j<B.length;j++)if(T=B[j],T.getAttribute("content")===(f.content==null?null:""+f.content)&&T.getAttribute("name")===(f.name==null?null:f.name)&&T.getAttribute("property")===(f.property==null?null:f.property)&&T.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&T.getAttribute("charset")===(f.charSet==null?null:f.charSet)){B.splice(j,1);break t}}T=D.createElement(b),kn(T,b,f),D.head.appendChild(T);break;default:throw Error(n(468,b))}T[Pt]=a,xn(T),b=T}a.stateNode=b}else i2(D,a.type,a.stateNode);else a.stateNode=t2(D,b,a.memoizedProps);else T!==b?(T===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):T.count--,b===null?i2(D,a.type,a.stateNode):t2(D,b,a.memoizedProps)):b===null&&a.stateNode!==null&&mp(a,a.memoizedProps,f.memoizedProps)}break;case 27:mi(c,a),bi(a),b&512&&(Kt||f===null||or(f,f.return)),f!==null&&b&4&&mp(a,a.memoizedProps,f.memoizedProps);break;case 5:if(mi(c,a),bi(a),b&512&&(Kt||f===null||or(f,f.return)),a.flags&32){D=a.stateNode;try{Fa(D,"")}catch(xe){Mt(a,a.return,xe)}}b&4&&a.stateNode!=null&&(D=a.memoizedProps,mp(a,D,f!==null?f.memoizedProps:D)),b&1024&&(vp=!0);break;case 6:if(mi(c,a),bi(a),b&4){if(a.stateNode===null)throw Error(n(162));b=a.memoizedProps,f=a.stateNode;try{f.nodeValue=b}catch(xe){Mt(a,a.return,xe)}}break;case 3:if(Bu=null,D=Zi,Zi=Nu(c.containerInfo),mi(c,a),Zi=D,bi(a),b&4&&f!==null&&f.memoizedState.isDehydrated)try{Uc(c.containerInfo)}catch(xe){Mt(a,a.return,xe)}vp&&(vp=!1,lv(a));break;case 4:b=Zi,Zi=Nu(a.stateNode.containerInfo),mi(c,a),bi(a),Zi=b;break;case 12:mi(c,a),bi(a);break;case 13:mi(c,a),bi(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Tp=Y()),b&4&&(b=a.updateQueue,b!==null&&(a.updateQueue=null,Ap(a,b)));break;case 22:D=a.memoizedState!==null;var te=f!==null&&f.memoizedState!==null,pe=Mr,Te=Kt;if(Mr=pe||D,Kt=Te||te,mi(c,a),Kt=Te,Mr=pe,bi(a),b&8192)e:for(c=a.stateNode,c._visibility=D?c._visibility&-2:c._visibility|1,D&&(f===null||te||Mr||Kt||Qs(a)),f=null,c=a;;){if(c.tag===5||c.tag===26){if(f===null){te=f=c;try{if(T=te.stateNode,D)B=T.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{j=te.stateNode;var Ce=te.memoizedProps.style,ge=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;j.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(xe){Mt(te,te.return,xe)}}}else if(c.tag===6){if(f===null){te=c;try{te.stateNode.nodeValue=D?"":te.memoizedProps}catch(xe){Mt(te,te.return,xe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}b&4&&(b=a.updateQueue,b!==null&&(f=b.retryQueue,f!==null&&(b.retryQueue=null,Ap(a,f))));break;case 19:mi(c,a),bi(a),b&4&&(b=a.updateQueue,b!==null&&(a.updateQueue=null,Ap(a,b)));break;case 30:break;case 21:break;default:mi(c,a),bi(a)}}function bi(a){var c=a.flags;if(c&2){try{for(var f,b=a.return;b!==null;){if(tv(b)){f=b;break}b=b.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var D=f.stateNode,T=bp(a);_u(a,T,D);break;case 5:var B=f.stateNode;f.flags&32&&(Fa(B,""),f.flags&=-33);var j=bp(a);_u(a,j,B);break;case 3:case 4:var te=f.stateNode.containerInfo,pe=bp(a);yp(a,pe,te);break;default:throw Error(n(161))}}catch(Te){Mt(a,a.return,Te)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function lv(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;lv(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function rs(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)rv(a,c.alternate,c),c=c.sibling}function Qs(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:is(4,c,c.return),Qs(c);break;case 1:or(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&J0(c,c.return,f),Qs(c);break;case 27:_c(c.stateNode);case 26:case 5:or(c,c.return),Qs(c);break;case 22:c.memoizedState===null&&Qs(c);break;case 30:Qs(c);break;default:Qs(c)}a=a.sibling}}function ss(a,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,D=a,T=c,B=T.flags;switch(T.tag){case 0:case 11:case 15:ss(D,T,f),dc(4,T);break;case 1:if(ss(D,T,f),b=T,D=b.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(pe){Mt(b,b.return,pe)}if(b=T,D=b.updateQueue,D!==null){var j=b.stateNode;try{var te=D.shared.hiddenCallbacks;if(te!==null)for(D.shared.hiddenCallbacks=null,D=0;D<te.length;D++)I1(te[D],j)}catch(pe){Mt(b,b.return,pe)}}f&&B&64&&Q0(T),fc(T,T.return);break;case 27:nv(T);case 26:case 5:ss(D,T,f),f&&b===null&&B&4&&ev(T),fc(T,T.return);break;case 12:ss(D,T,f);break;case 13:ss(D,T,f),f&&B&4&&ov(D,T);break;case 22:T.memoizedState===null&&ss(D,T,f),fc(T,T.return);break;case 30:break;default:ss(D,T,f)}c=c.sibling}}function xp(a,c){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&Qo(f))}function _p(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Qo(a))}function cr(a,c,f,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)uv(a,c,f,b),c=c.sibling}function uv(a,c,f,b){var D=c.flags;switch(c.tag){case 0:case 11:case 15:cr(a,c,f,b),D&2048&&dc(9,c);break;case 1:cr(a,c,f,b);break;case 3:cr(a,c,f,b),D&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Qo(a)));break;case 12:if(D&2048){cr(a,c,f,b),a=c.stateNode;try{var T=c.memoizedProps,B=T.id,j=T.onPostCommit;typeof j=="function"&&j(B,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(te){Mt(c,c.return,te)}}else cr(a,c,f,b);break;case 13:cr(a,c,f,b);break;case 23:break;case 22:T=c.stateNode,B=c.alternate,c.memoizedState!==null?T._visibility&2?cr(a,c,f,b):pc(a,c):T._visibility&2?cr(a,c,f,b):(T._visibility|=2,Za(a,c,f,b,(c.subtreeFlags&10256)!==0)),D&2048&&xp(B,c);break;case 24:cr(a,c,f,b),D&2048&&_p(c.alternate,c);break;default:cr(a,c,f,b)}}function Za(a,c,f,b,D){for(D=D&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var T=a,B=c,j=f,te=b,pe=B.flags;switch(B.tag){case 0:case 11:case 15:Za(T,B,j,te,D),dc(8,B);break;case 23:break;case 22:var Te=B.stateNode;B.memoizedState!==null?Te._visibility&2?Za(T,B,j,te,D):pc(T,B):(Te._visibility|=2,Za(T,B,j,te,D)),D&&pe&2048&&xp(B.alternate,B);break;case 24:Za(T,B,j,te,D),D&&pe&2048&&_p(B.alternate,B);break;default:Za(T,B,j,te,D)}c=c.sibling}}function pc(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=a,b=c,D=b.flags;switch(b.tag){case 22:pc(f,b),D&2048&&xp(b.alternate,b);break;case 24:pc(f,b),D&2048&&_p(b.alternate,b);break;default:pc(f,b)}c=c.sibling}}var gc=8192;function Qa(a){if(a.subtreeFlags&gc)for(a=a.child;a!==null;)hv(a),a=a.sibling}function hv(a){switch(a.tag){case 26:Qa(a),a.flags&gc&&a.memoizedState!==null&&SC(Zi,a.memoizedState,a.memoizedProps);break;case 5:Qa(a);break;case 3:case 4:var c=Zi;Zi=Nu(a.stateNode.containerInfo),Qa(a),Zi=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=gc,gc=16777216,Qa(a),gc=c):Qa(a));break;default:Qa(a)}}function dv(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function mc(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var b=c[f];Dn=b,pv(b,a)}dv(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fv(a),a=a.sibling}function fv(a){switch(a.tag){case 0:case 11:case 15:mc(a),a.flags&2048&&is(9,a,a.return);break;case 3:mc(a);break;case 12:mc(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Du(a)):mc(a);break;default:mc(a)}}function Du(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var b=c[f];Dn=b,pv(b,a)}dv(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:is(8,c,c.return),Du(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,Du(c));break;default:Du(c)}a=a.sibling}}function pv(a,c){for(;Dn!==null;){var f=Dn;switch(f.tag){case 0:case 11:case 15:is(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var b=f.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Qo(f.memoizedState.cache)}if(b=f.child,b!==null)b.return=f,Dn=b;else e:for(f=a;Dn!==null;){b=Dn;var D=b.sibling,T=b.return;if(sv(b),b===f){Dn=null;break e}if(D!==null){D.return=T,Dn=D;break e}Dn=T}}}var jS={getCacheForType:function(a){var c=In(fn),f=c.data.get(a);return f===void 0&&(f=a(),c.data.set(a,f)),f}},qS=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ot=null,ft=null,yt=0,Et=0,yi=null,as=!1,Ja=!1,Dp=!1,Nr=0,Xt=0,os=0,Js=0,wp=0,Ni=0,eo=0,bc=null,ri=null,Ep=!1,Tp=0,wu=1/0,Eu=null,cs=null,Un=0,ls=null,to=null,no=0,Sp=0,Cp=null,gv=null,yc=0,Rp=null;function vi(){if((wt&2)!==0&&yt!==0)return yt&-yt;if(M.T!==null){var a=ja;return a!==0?a:Op()}return Tt()}function mv(){Ni===0&&(Ni=(yt&536870912)===0||At?An():536870912);var a=Li.current;return a!==null&&(a.flags|=32),Ni}function Ai(a,c,f){(a===Ot&&(Et===2||Et===9)||a.cancelPendingCommit!==null)&&(io(a,0),us(a,yt,Ni,!1)),W(a,f),((wt&2)===0||a!==Ot)&&(a===Ot&&((wt&2)===0&&(Js|=f),Xt===4&&us(a,yt,Ni,!1)),lr(a))}function bv(a,c,f){if((wt&6)!==0)throw Error(n(327));var b=!f&&(c&124)===0&&(c&a.expiredLanes)===0||lt(a,c),D=b?VS(a,c):Fp(a,c,!0),T=b;do{if(D===0){Ja&&!b&&us(a,c,0,!1);break}else{if(f=a.current.alternate,T&&!GS(f)){D=Fp(a,c,!1),T=!1;continue}if(D===2){if(T=c,a.errorRecoveryDisabledLanes&T)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){c=B;e:{var j=a;D=bc;var te=j.current.memoizedState.isDehydrated;if(te&&(io(j,B).flags|=256),B=Fp(j,B,!1),B!==2){if(Dp&&!te){j.errorRecoveryDisabledLanes|=T,Js|=T,D=4;break e}T=ri,ri=D,T!==null&&(ri===null?ri=T:ri.push.apply(ri,T))}D=B}if(T=!1,D!==2)continue}}if(D===1){io(a,0),us(a,c,0,!0);break}e:{switch(b=a,T=D,T){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:us(b,c,Ni,!as);break e;case 2:ri=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(D=Tp+300-Y(),10<D)){if(us(b,c,Ni,!as),Xe(b,0,!0)!==0)break e;b.timeoutHandle=$v(yv.bind(null,b,f,ri,Eu,Ep,c,Ni,Js,eo,as,T,2,-0,0),D);break e}yv(b,f,ri,Eu,Ep,c,Ni,Js,eo,as,T,0,-0,0)}}break}while(!0);lr(a)}function yv(a,c,f,b,D,T,B,j,te,pe,Te,Ce,ge,xe){if(a.timeoutHandle=-1,Ce=c.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(Ec={stylesheets:null,count:0,unsuspend:TC},hv(c),Ce=CC(),Ce!==null)){a.cancelPendingCommit=Ce(Ev.bind(null,a,c,T,f,b,D,B,j,te,Te,1,ge,xe)),us(a,T,B,!pe);return}Ev(a,c,T,f,b,D,B,j,te)}function GS(a){for(var c=a;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var b=0;b<f.length;b++){var D=f[b],T=D.getSnapshot;D=D.value;try{if(!pi(T(),D))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function us(a,c,f,b){c&=~wp,c&=~Js,a.suspendedLanes|=c,a.pingedLanes&=~c,b&&(a.warmLanes|=c),b=a.expirationTimes;for(var D=c;0<D;){var T=31-Ie(D),B=1<<T;b[T]=-1,D&=~B}f!==0&&ne(a,f,c)}function Tu(){return(wt&6)===0?(vc(0),!1):!0}function Up(){if(ft!==null){if(Et===0)var a=ft.return;else a=ft,Sr=Vs=null,Vf(a),Ya=null,lc=0,a=ft;for(;a!==null;)Z0(a.alternate,a),a=a.return;ft=null}}function io(a,c){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,lC(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Up(),Ot=a,ft=f=wr(a.current,null),yt=c,Et=0,yi=null,as=!1,Ja=lt(a,c),Dp=!1,eo=Ni=wp=Js=os=Xt=0,ri=bc=null,Ep=!1,(c&8)!==0&&(c|=c&32);var b=a.entangledLanes;if(b!==0)for(a=a.entanglements,b&=c;0<b;){var D=31-Ie(b),T=1<<D;c|=a[D],b&=~T}return Nr=c,Xl(),f}function vv(a,c){ut=null,M.H=fu,c===ec||c===iu?(c=O1(),Et=3):c===M1?(c=O1(),Et=4):Et=c===B0?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,yi=c,ft===null&&(Xt=1,yu(a,Ui(c,a.current)))}function Av(){var a=M.H;return M.H=fu,a===null?fu:a}function xv(){var a=M.A;return M.A=jS,a}function kp(){Xt=4,as||(yt&4194048)!==yt&&Li.current!==null||(Ja=!0),(os&134217727)===0&&(Js&134217727)===0||Ot===null||us(Ot,yt,Ni,!1)}function Fp(a,c,f){var b=wt;wt|=2;var D=Av(),T=xv();(Ot!==a||yt!==c)&&(Eu=null,io(a,c)),c=!1;var B=Xt;e:do try{if(Et!==0&&ft!==null){var j=ft,te=yi;switch(Et){case 8:Up(),B=6;break e;case 3:case 2:case 9:case 6:Li.current===null&&(c=!0);var pe=Et;if(Et=0,yi=null,ro(a,j,te,pe),f&&Ja){B=0;break e}break;default:pe=Et,Et=0,yi=null,ro(a,j,te,pe)}}$S(),B=Xt;break}catch(Te){vv(a,Te)}while(!0);return c&&a.shellSuspendCounter++,Sr=Vs=null,wt=b,M.H=D,M.A=T,ft===null&&(Ot=null,yt=0,Xl()),B}function $S(){for(;ft!==null;)_v(ft)}function VS(a,c){var f=wt;wt|=2;var b=Av(),D=xv();Ot!==a||yt!==c?(Eu=null,wu=Y()+500,io(a,c)):Ja=lt(a,c);e:do try{if(Et!==0&&ft!==null){c=ft;var T=yi;t:switch(Et){case 1:Et=0,yi=null,ro(a,c,T,1);break;case 2:case 9:if(L1(T)){Et=0,yi=null,Dv(c);break}c=function(){Et!==2&&Et!==9||Ot!==a||(Et=7),lr(a)},T.then(c,c);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:L1(T)?(Et=0,yi=null,Dv(c)):(Et=0,yi=null,ro(a,c,T,7));break;case 5:var B=null;switch(ft.tag){case 26:B=ft.memoizedState;case 5:case 27:var j=ft;if(!B||r2(B)){Et=0,yi=null;var te=j.sibling;if(te!==null)ft=te;else{var pe=j.return;pe!==null?(ft=pe,Su(pe)):ft=null}break t}}Et=0,yi=null,ro(a,c,T,5);break;case 6:Et=0,yi=null,ro(a,c,T,6);break;case 8:Up(),Xt=6;break e;default:throw Error(n(462))}}XS();break}catch(Te){vv(a,Te)}while(!0);return Sr=Vs=null,M.H=b,M.A=D,wt=f,ft!==null?0:(Ot=null,yt=0,Xl(),Xt)}function XS(){for(;ft!==null&&!ae();)_v(ft)}function _v(a){var c=Y0(a.alternate,a,Nr);a.memoizedProps=a.pendingProps,c===null?Su(a):ft=c}function Dv(a){var c=a,f=c.alternate;switch(c.tag){case 15:case 0:c=j0(f,c,c.pendingProps,c.type,void 0,yt);break;case 11:c=j0(f,c,c.pendingProps,c.type.render,c.ref,yt);break;case 5:Vf(c);default:Z0(f,c),c=ft=w1(c,Nr),c=Y0(f,c,Nr)}a.memoizedProps=a.pendingProps,c===null?Su(a):ft=c}function ro(a,c,f,b){Sr=Vs=null,Vf(c),Ya=null,lc=0;var D=c.return;try{if(BS(a,D,c,f,yt)){Xt=1,yu(a,Ui(f,a.current)),ft=null;return}}catch(T){if(D!==null)throw ft=D,T;Xt=1,yu(a,Ui(f,a.current)),ft=null;return}c.flags&32768?(At||b===1?a=!0:Ja||(yt&536870912)!==0?a=!1:(as=a=!0,(b===2||b===9||b===3||b===6)&&(b=Li.current,b!==null&&b.tag===13&&(b.flags|=16384))),wv(c,a)):Su(c)}function Su(a){var c=a;do{if((c.flags&32768)!==0){wv(c,as);return}a=c.return;var f=PS(c.alternate,c,Nr);if(f!==null){ft=f;return}if(c=c.sibling,c!==null){ft=c;return}ft=c=a}while(c!==null);Xt===0&&(Xt=5)}function wv(a,c){do{var f=WS(a.alternate,a);if(f!==null){f.flags&=32767,ft=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(a=a.sibling,a!==null)){ft=a;return}ft=a=f}while(a!==null);Xt=6,ft=null}function Ev(a,c,f,b,D,T,B,j,te){a.cancelPendingCommit=null;do Cu();while(Un!==0);if((wt&6)!==0)throw Error(n(327));if(c!==null){if(c===a.current)throw Error(n(177));if(T=c.lanes|c.childLanes,T|=_f,G(a,f,T,B,j,te),a===Ot&&(ft=Ot=null,yt=0),to=c,ls=a,no=f,Sp=T,Cp=D,gv=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,QS(_e,function(){return Uv(),null})):(a.callbackNode=null,a.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=M.T,M.T=null,D=O.p,O.p=2,B=wt,wt|=4;try{zS(a,c,f)}finally{wt=B,O.p=D,M.T=b}}Un=1,Tv(),Sv(),Cv()}}function Tv(){if(Un===1){Un=0;var a=ls,c=to,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=M.T,M.T=null;var b=O.p;O.p=2;var D=wt;wt|=4;try{cv(c,a);var T=qp,B=p1(a.containerInfo),j=T.focusedElem,te=T.selectionRange;if(B!==j&&j&&j.ownerDocument&&f1(j.ownerDocument.documentElement,j)){if(te!==null&&bf(j)){var pe=te.start,Te=te.end;if(Te===void 0&&(Te=pe),"selectionStart"in j)j.selectionStart=pe,j.selectionEnd=Math.min(Te,j.value.length);else{var Ce=j.ownerDocument||document,ge=Ce&&Ce.defaultView||window;if(ge.getSelection){var xe=ge.getSelection(),et=j.textContent.length,Ze=Math.min(te.start,et),Rt=te.end===void 0?Ze:Math.min(te.end,et);!xe.extend&&Ze>Rt&&(B=Rt,Rt=Ze,Ze=B);var de=d1(j,Ze),ce=d1(j,Rt);if(de&&ce&&(xe.rangeCount!==1||xe.anchorNode!==de.node||xe.anchorOffset!==de.offset||xe.focusNode!==ce.node||xe.focusOffset!==ce.offset)){var fe=Ce.createRange();fe.setStart(de.node,de.offset),xe.removeAllRanges(),Ze>Rt?(xe.addRange(fe),xe.extend(ce.node,ce.offset)):(fe.setEnd(ce.node,ce.offset),xe.addRange(fe))}}}}for(Ce=[],xe=j;xe=xe.parentNode;)xe.nodeType===1&&Ce.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Ce.length;j++){var Se=Ce[j];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Wu=!!jp,qp=jp=null}finally{wt=D,O.p=b,M.T=f}}a.current=c,Un=2}}function Sv(){if(Un===2){Un=0;var a=ls,c=to,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=M.T,M.T=null;var b=O.p;O.p=2;var D=wt;wt|=4;try{rv(a,c.alternate,c)}finally{wt=D,O.p=b,M.T=f}}Un=3}}function Cv(){if(Un===4||Un===3){Un=0,ee();var a=ls,c=to,f=no,b=gv;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Un=5:(Un=0,to=ls=null,Rv(a,a.pendingLanes));var D=a.pendingLanes;if(D===0&&(cs=null),Ke(f),c=c.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Ae,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=M.T,D=O.p,O.p=2,M.T=null;try{for(var T=a.onRecoverableError,B=0;B<b.length;B++){var j=b[B];T(j.value,{componentStack:j.stack})}}finally{M.T=c,O.p=D}}(no&3)!==0&&Cu(),lr(a),D=a.pendingLanes,(f&4194090)!==0&&(D&42)!==0?a===Rp?yc++:(yc=0,Rp=a):yc=0,vc(0)}}function Rv(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Qo(c)))}function Cu(a){return Tv(),Sv(),Cv(),Uv()}function Uv(){if(Un!==5)return!1;var a=ls,c=Sp;Sp=0;var f=Ke(no),b=M.T,D=O.p;try{O.p=32>f?32:f,M.T=null,f=Cp,Cp=null;var T=ls,B=no;if(Un=0,to=ls=null,no=0,(wt&6)!==0)throw Error(n(331));var j=wt;if(wt|=4,fv(T.current),uv(T,T.current,B,f),wt=j,vc(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Ae,T)}catch{}return!0}finally{O.p=D,M.T=b,Rv(a,c)}}function kv(a,c,f){c=Ui(f,c),c=op(a.stateNode,c,2),a=Jr(a,c,2),a!==null&&(W(a,2),lr(a))}function Mt(a,c,f){if(a.tag===3)kv(a,a,f);else for(;c!==null;){if(c.tag===3){kv(c,a,f);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(cs===null||!cs.has(b))){a=Ui(f,a),f=N0(2),b=Jr(c,f,2),b!==null&&(O0(f,b,c,a),W(b,2),lr(b));break}}c=c.return}}function Mp(a,c,f){var b=a.pingCache;if(b===null){b=a.pingCache=new qS;var D=new Set;b.set(c,D)}else D=b.get(c),D===void 0&&(D=new Set,b.set(c,D));D.has(f)||(Dp=!0,D.add(f),a=YS.bind(null,a,c,f),c.then(a,a))}function YS(a,c,f){var b=a.pingCache;b!==null&&b.delete(c),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Ot===a&&(yt&f)===f&&(Xt===4||Xt===3&&(yt&62914560)===yt&&300>Y()-Tp?(wt&2)===0&&io(a,0):wp|=f,eo===yt&&(eo=0)),lr(a)}function Fv(a,c){c===0&&(c=di()),a=Pa(a,c),a!==null&&(W(a,c),lr(a))}function KS(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),Fv(a,f)}function ZS(a,c){var f=0;switch(a.tag){case 13:var b=a.stateNode,D=a.memoizedState;D!==null&&(f=D.retryLane);break;case 19:b=a.stateNode;break;case 22:b=a.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(c),Fv(a,f)}function QS(a,c){return Be(a,c)}var Ru=null,so=null,Lp=!1,Uu=!1,Np=!1,ea=0;function lr(a){a!==so&&a.next===null&&(so===null?Ru=so=a:so=so.next=a),Uu=!0,Lp||(Lp=!0,eC())}function vc(a,c){if(!Np&&Uu){Np=!0;do for(var f=!1,b=Ru;b!==null;){if(a!==0){var D=b.pendingLanes;if(D===0)var T=0;else{var B=b.suspendedLanes,j=b.pingedLanes;T=(1<<31-Ie(42|a)+1)-1,T&=D&~(B&~j),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(f=!0,Ov(b,T))}else T=yt,T=Xe(b,b===Ot?T:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(T&3)===0||lt(b,T)||(f=!0,Ov(b,T));b=b.next}while(f);Np=!1}}function JS(){Mv()}function Mv(){Uu=Lp=!1;var a=0;ea!==0&&(cC()&&(a=ea),ea=0);for(var c=Y(),f=null,b=Ru;b!==null;){var D=b.next,T=Lv(b,c);T===0?(b.next=null,f===null?Ru=D:f.next=D,D===null&&(so=f)):(f=b,(a!==0||(T&3)!==0)&&(Uu=!0)),b=D}vc(a)}function Lv(a,c){for(var f=a.suspendedLanes,b=a.pingedLanes,D=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var B=31-Ie(T),j=1<<B,te=D[B];te===-1?((j&f)===0||(j&b)!==0)&&(D[B]=Dt(j,c)):te<=c&&(a.expiredLanes|=j),T&=~j}if(c=Ot,f=yt,f=Xe(a,a===c?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),b=a.callbackNode,f===0||a===c&&(Et===2||Et===9)||a.cancelPendingCommit!==null)return b!==null&&b!==null&&U(b),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||lt(a,f)){if(c=f&-f,c===a.callbackPriority)return c;switch(b!==null&&U(b),Ke(f)){case 2:case 8:f=De;break;case 32:f=_e;break;case 268435456:f=J;break;default:f=_e}return b=Nv.bind(null,a),f=Be(f,b),a.callbackPriority=c,a.callbackNode=f,c}return b!==null&&b!==null&&U(b),a.callbackPriority=2,a.callbackNode=null,2}function Nv(a,c){if(Un!==0&&Un!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Cu()&&a.callbackNode!==f)return null;var b=yt;return b=Xe(a,a===Ot?b:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),b===0?null:(bv(a,b,c),Lv(a,Y()),a.callbackNode!=null&&a.callbackNode===f?Nv.bind(null,a):null)}function Ov(a,c){if(Cu())return null;bv(a,c,!0)}function eC(){uC(function(){(wt&6)!==0?Be(ie,JS):Mv()})}function Op(){return ea===0&&(ea=An()),ea}function Bv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zl(""+a)}function Iv(a,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,a.id&&f.setAttribute("form",a.id),c.parentNode.insertBefore(f,c),a=new FormData(a),f.parentNode.removeChild(f),a}function tC(a,c,f,b,D){if(c==="submit"&&f&&f.stateNode===D){var T=Bv((D[Wt]||null).action),B=b.submitter;B&&(c=(c=B[Wt]||null)?Bv(c.formAction):B.getAttribute("formAction"),c!==null&&(T=c,B=null));var j=new Gl("action","action",null,b,D);a.push({event:j,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(ea!==0){var te=B?Iv(D,B):new FormData(D);np(f,{pending:!0,data:te,method:D.method,action:T},null,te)}}else typeof T=="function"&&(j.preventDefault(),te=B?Iv(D,B):new FormData(D),np(f,{pending:!0,data:te,method:D.method,action:T},T,te))},currentTarget:D}]})}}for(var Bp=0;Bp<xf.length;Bp++){var Ip=xf[Bp],nC=Ip.toLowerCase(),iC=Ip[0].toUpperCase()+Ip.slice(1);Ki(nC,"on"+iC)}Ki(b1,"onAnimationEnd"),Ki(y1,"onAnimationIteration"),Ki(v1,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(AS,"onTransitionRun"),Ki(xS,"onTransitionStart"),Ki(_S,"onTransitionCancel"),Ki(A1,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Is("onBeforeInput",["compositionend","keypress","textInput","paste"]),Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ac));function Pv(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var b=a[f],D=b.event;b=b.listeners;e:{var T=void 0;if(c)for(var B=b.length-1;0<=B;B--){var j=b[B],te=j.instance,pe=j.currentTarget;if(j=j.listener,te!==T&&D.isPropagationStopped())break e;T=j,D.currentTarget=pe;try{T(D)}catch(Te){bu(Te)}D.currentTarget=null,T=te}else for(B=0;B<b.length;B++){if(j=b[B],te=j.instance,pe=j.currentTarget,j=j.listener,te!==T&&D.isPropagationStopped())break e;T=j,D.currentTarget=pe;try{T(D)}catch(Te){bu(Te)}D.currentTarget=null,T=te}}}}function pt(a,c){var f=c[Xi];f===void 0&&(f=c[Xi]=new Set);var b=a+"__bubble";f.has(b)||(Wv(c,a,2,!1),f.add(b))}function Pp(a,c,f){var b=0;c&&(b|=4),Wv(f,a,b,c)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Wp(a){if(!a[ku]){a[ku]=!0,My.forEach(function(f){f!=="selectionchange"&&(rC.has(f)||Pp(f,!1,a),Pp(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[ku]||(c[ku]=!0,Pp("selectionchange",!1,c))}}function Wv(a,c,f,b){switch(u2(c)){case 2:var D=kC;break;case 8:D=FC;break;default:D=eg}f=D.bind(null,c,f,a),D=void 0,!cf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(D=!0),b?D!==void 0?a.addEventListener(c,f,{capture:!0,passive:D}):a.addEventListener(c,f,!0):D!==void 0?a.addEventListener(c,f,{passive:D}):a.addEventListener(c,f,!1)}function zp(a,c,f,b,D){var T=b;if((c&1)===0&&(c&2)===0&&b!==null)e:for(;;){if(b===null)return;var B=b.tag;if(B===3||B===4){var j=b.stateNode.containerInfo;if(j===D)break;if(B===4)for(B=b.return;B!==null;){var te=B.tag;if((te===3||te===4)&&B.stateNode.containerInfo===D)return;B=B.return}for(;j!==null;){if(B=xr(j),B===null)return;if(te=B.tag,te===5||te===6||te===26||te===27){b=T=B;continue e}j=j.parentNode}}b=b.return}Vy(function(){var pe=T,Te=af(f),Ce=[];e:{var ge=x1.get(a);if(ge!==void 0){var xe=Gl,et=a;switch(a){case"keypress":if(jl(f)===0)break e;case"keydown":case"keyup":xe=QT;break;case"focusin":et="focus",xe=df;break;case"focusout":et="blur",xe=df;break;case"beforeblur":case"afterblur":xe=df;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=WT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=tS;break;case b1:case y1:case v1:xe=jT;break;case A1:xe=iS;break;case"scroll":case"scrollend":xe=IT;break;case"wheel":xe=sS;break;case"copy":case"cut":case"paste":xe=GT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Qy;break;case"toggle":case"beforetoggle":xe=oS}var Ze=(c&4)!==0,Rt=!Ze&&(a==="scroll"||a==="scrollend"),de=Ze?ge!==null?ge+"Capture":null:ge;Ze=[];for(var ce=pe,fe;ce!==null;){var Se=ce;if(fe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||fe===null||de===null||(Se=Po(ce,de),Se!=null&&Ze.push(xc(ce,Se,fe))),Rt)break;ce=ce.return}0<Ze.length&&(ge=new xe(ge,et,null,f,Te),Ce.push({event:ge,listeners:Ze}))}}if((c&7)===0){e:{if(ge=a==="mouseover"||a==="pointerover",xe=a==="mouseout"||a==="pointerout",ge&&f!==sf&&(et=f.relatedTarget||f.fromElement)&&(xr(et)||et[ei]))break e;if((xe||ge)&&(ge=Te.window===Te?Te:(ge=Te.ownerDocument)?ge.defaultView||ge.parentWindow:window,xe?(et=f.relatedTarget||f.toElement,xe=pe,et=et?xr(et):null,et!==null&&(Rt=r(et),Ze=et.tag,et!==Rt||Ze!==5&&Ze!==27&&Ze!==6)&&(et=null)):(xe=null,et=pe),xe!==et)){if(Ze=Ky,Se="onMouseLeave",de="onMouseEnter",ce="mouse",(a==="pointerout"||a==="pointerover")&&(Ze=Qy,Se="onPointerLeave",de="onPointerEnter",ce="pointer"),Rt=xe==null?ge:Xr(xe),fe=et==null?ge:Xr(et),ge=new Ze(Se,ce+"leave",xe,f,Te),ge.target=Rt,ge.relatedTarget=fe,Se=null,xr(Te)===pe&&(Ze=new Ze(de,ce+"enter",et,f,Te),Ze.target=fe,Ze.relatedTarget=Rt,Se=Ze),Rt=Se,xe&&et)t:{for(Ze=xe,de=et,ce=0,fe=Ze;fe;fe=ao(fe))ce++;for(fe=0,Se=de;Se;Se=ao(Se))fe++;for(;0<ce-fe;)Ze=ao(Ze),ce--;for(;0<fe-ce;)de=ao(de),fe--;for(;ce--;){if(Ze===de||de!==null&&Ze===de.alternate)break t;Ze=ao(Ze),de=ao(de)}Ze=null}else Ze=null;xe!==null&&zv(Ce,ge,xe,Ze,!1),et!==null&&Rt!==null&&zv(Ce,Rt,et,Ze,!0)}}e:{if(ge=pe?Xr(pe):window,xe=ge.nodeName&&ge.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ge.type==="file")var ze=a1;else if(r1(ge))if(o1)ze=bS;else{ze=gS;var ht=pS}else xe=ge.nodeName,!xe||xe.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?pe&&rf(pe.elementType)&&(ze=a1):ze=mS;if(ze&&(ze=ze(a,pe))){s1(Ce,ze,f,Te);break e}ht&&ht(a,ge,pe),a==="focusout"&&pe&&ge.type==="number"&&pe.memoizedProps.value!=null&&nf(ge,"number",ge.value)}switch(ht=pe?Xr(pe):window,a){case"focusin":(r1(ht)||ht.contentEditable==="true")&&(Oa=ht,yf=pe,Vo=null);break;case"focusout":Vo=yf=Oa=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,g1(Ce,f,Te);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":g1(Ce,f,Te)}var Ge;if(pf)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Na?n1(a,f)&&(Qe="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Qe="onCompositionStart");Qe&&(Jy&&f.locale!=="ko"&&(Na||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Na&&(Ge=Xy()):(Yr=Te,lf="value"in Yr?Yr.value:Yr.textContent,Na=!0)),ht=Fu(pe,Qe),0<ht.length&&(Qe=new Zy(Qe,a,null,f,Te),Ce.push({event:Qe,listeners:ht}),Ge?Qe.data=Ge:(Ge=i1(f),Ge!==null&&(Qe.data=Ge)))),(Ge=lS?uS(a,f):hS(a,f))&&(Qe=Fu(pe,"onBeforeInput"),0<Qe.length&&(ht=new Zy("onBeforeInput","beforeinput",null,f,Te),Ce.push({event:ht,listeners:Qe}),ht.data=Ge)),tC(Ce,a,pe,f,Te)}Pv(Ce,c)})}function xc(a,c,f){return{instance:a,listener:c,currentTarget:f}}function Fu(a,c){for(var f=c+"Capture",b=[];a!==null;){var D=a,T=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||T===null||(D=Po(a,f),D!=null&&b.unshift(xc(a,D,T)),D=Po(a,c),D!=null&&b.push(xc(a,D,T))),a.tag===3)return b;a=a.return}return[]}function ao(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function zv(a,c,f,b,D){for(var T=c._reactName,B=[];f!==null&&f!==b;){var j=f,te=j.alternate,pe=j.stateNode;if(j=j.tag,te!==null&&te===b)break;j!==5&&j!==26&&j!==27||pe===null||(te=pe,D?(pe=Po(f,T),pe!=null&&B.unshift(xc(f,pe,te))):D||(pe=Po(f,T),pe!=null&&B.push(xc(f,pe,te)))),f=f.return}B.length!==0&&a.push({event:c,listeners:B})}var sC=/\r\n?/g,aC=/\u0000|\uFFFD/g;function Hv(a){return(typeof a=="string"?a:""+a).replace(sC,`
`).replace(aC,"")}function jv(a,c){return c=Hv(c),Hv(a)===c}function Mu(){}function Ct(a,c,f,b,D,T){switch(f){case"children":typeof b=="string"?c==="body"||c==="textarea"&&b===""||Fa(a,b):(typeof b=="number"||typeof b=="bigint")&&c!=="body"&&Fa(a,""+b);break;case"className":Il(a,"class",b);break;case"tabIndex":Il(a,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(a,f,b);break;case"style":Gy(a,b,T);break;case"data":if(c!=="object"){Il(a,"data",b);break}case"src":case"href":if(b===""&&(c!=="a"||f!=="href")){a.removeAttribute(f);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){a.removeAttribute(f);break}b=zl(""+b),a.setAttribute(f,b);break;case"action":case"formAction":if(typeof b=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(f==="formAction"?(c!=="input"&&Ct(a,c,"name",D.name,D,null),Ct(a,c,"formEncType",D.formEncType,D,null),Ct(a,c,"formMethod",D.formMethod,D,null),Ct(a,c,"formTarget",D.formTarget,D,null)):(Ct(a,c,"encType",D.encType,D,null),Ct(a,c,"method",D.method,D,null),Ct(a,c,"target",D.target,D,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){a.removeAttribute(f);break}b=zl(""+b),a.setAttribute(f,b);break;case"onClick":b!=null&&(a.onclick=Mu);break;case"onScroll":b!=null&&pt("scroll",a);break;case"onScrollEnd":b!=null&&pt("scrollend",a);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(f=b.__html,f!=null){if(D.children!=null)throw Error(n(60));a.innerHTML=f}}break;case"multiple":a.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":a.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){a.removeAttribute("xlink:href");break}f=zl(""+b),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?a.setAttribute(f,""+b):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":b===!0?a.setAttribute(f,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?a.setAttribute(f,b):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?a.setAttribute(f,b):a.removeAttribute(f);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?a.removeAttribute(f):a.setAttribute(f,b);break;case"popover":pt("beforetoggle",a),pt("toggle",a),Bl(a,"popover",b);break;case"xlinkActuate":_r(a,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":_r(a,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":_r(a,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":_r(a,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":_r(a,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":_r(a,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":_r(a,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":_r(a,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":_r(a,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Bl(a,"is",b);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=OT.get(f)||f,Bl(a,f,b))}}function Hp(a,c,f,b,D,T){switch(f){case"style":Gy(a,b,T);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(f=b.__html,f!=null){if(D.children!=null)throw Error(n(60));a.innerHTML=f}}break;case"children":typeof b=="string"?Fa(a,b):(typeof b=="number"||typeof b=="bigint")&&Fa(a,""+b);break;case"onScroll":b!=null&&pt("scroll",a);break;case"onScrollEnd":b!=null&&pt("scrollend",a);break;case"onClick":b!=null&&(a.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ly.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(D=f.endsWith("Capture"),c=f.slice(2,D?f.length-7:void 0),T=a[Wt]||null,T=T!=null?T[f]:null,typeof T=="function"&&a.removeEventListener(c,T,D),typeof b=="function")){typeof T!="function"&&T!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(c,b,D);break e}f in a?a[f]=b:b===!0?a.setAttribute(f,""):Bl(a,f,b)}}}function kn(a,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",a),pt("load",a);var b=!1,D=!1,T;for(T in f)if(f.hasOwnProperty(T)){var B=f[T];if(B!=null)switch(T){case"src":b=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ct(a,c,T,B,f,null)}}D&&Ct(a,c,"srcSet",f.srcSet,f,null),b&&Ct(a,c,"src",f.src,f,null);return;case"input":pt("invalid",a);var j=T=B=D=null,te=null,pe=null;for(b in f)if(f.hasOwnProperty(b)){var Te=f[b];if(Te!=null)switch(b){case"name":D=Te;break;case"type":B=Te;break;case"checked":te=Te;break;case"defaultChecked":pe=Te;break;case"value":T=Te;break;case"defaultValue":j=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(n(137,c));break;default:Ct(a,c,b,Te,f,null)}}zy(a,T,j,te,pe,B,D,!1),Pl(a);return;case"select":pt("invalid",a),b=B=T=null;for(D in f)if(f.hasOwnProperty(D)&&(j=f[D],j!=null))switch(D){case"value":T=j;break;case"defaultValue":B=j;break;case"multiple":b=j;default:Ct(a,c,D,j,f,null)}c=T,f=B,a.multiple=!!b,c!=null?ka(a,!!b,c,!1):f!=null&&ka(a,!!b,f,!0);return;case"textarea":pt("invalid",a),T=D=b=null;for(B in f)if(f.hasOwnProperty(B)&&(j=f[B],j!=null))switch(B){case"value":b=j;break;case"defaultValue":D=j;break;case"children":T=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:Ct(a,c,B,j,f,null)}jy(a,b,D,T),Pl(a);return;case"option":for(te in f)if(f.hasOwnProperty(te)&&(b=f[te],b!=null))switch(te){case"selected":a.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Ct(a,c,te,b,f,null)}return;case"dialog":pt("beforetoggle",a),pt("toggle",a),pt("cancel",a),pt("close",a);break;case"iframe":case"object":pt("load",a);break;case"video":case"audio":for(b=0;b<Ac.length;b++)pt(Ac[b],a);break;case"image":pt("error",a),pt("load",a);break;case"details":pt("toggle",a);break;case"embed":case"source":case"link":pt("error",a),pt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in f)if(f.hasOwnProperty(pe)&&(b=f[pe],b!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ct(a,c,pe,b,f,null)}return;default:if(rf(c)){for(Te in f)f.hasOwnProperty(Te)&&(b=f[Te],b!==void 0&&Hp(a,c,Te,b,f,void 0));return}}for(j in f)f.hasOwnProperty(j)&&(b=f[j],b!=null&&Ct(a,c,j,b,f,null))}function oC(a,c,f,b){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,T=null,B=null,j=null,te=null,pe=null,Te=null;for(xe in f){var Ce=f[xe];if(f.hasOwnProperty(xe)&&Ce!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Ce;default:b.hasOwnProperty(xe)||Ct(a,c,xe,null,b,Ce)}}for(var ge in b){var xe=b[ge];if(Ce=f[ge],b.hasOwnProperty(ge)&&(xe!=null||Ce!=null))switch(ge){case"type":T=xe;break;case"name":D=xe;break;case"checked":pe=xe;break;case"defaultChecked":Te=xe;break;case"value":B=xe;break;case"defaultValue":j=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(n(137,c));break;default:xe!==Ce&&Ct(a,c,ge,xe,b,Ce)}}tf(a,B,j,te,pe,Te,T,D);return;case"select":xe=B=j=ge=null;for(T in f)if(te=f[T],f.hasOwnProperty(T)&&te!=null)switch(T){case"value":break;case"multiple":xe=te;default:b.hasOwnProperty(T)||Ct(a,c,T,null,b,te)}for(D in b)if(T=b[D],te=f[D],b.hasOwnProperty(D)&&(T!=null||te!=null))switch(D){case"value":ge=T;break;case"defaultValue":j=T;break;case"multiple":B=T;default:T!==te&&Ct(a,c,D,T,b,te)}c=j,f=B,b=xe,ge!=null?ka(a,!!f,ge,!1):!!b!=!!f&&(c!=null?ka(a,!!f,c,!0):ka(a,!!f,f?[]:"",!1));return;case"textarea":xe=ge=null;for(j in f)if(D=f[j],f.hasOwnProperty(j)&&D!=null&&!b.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Ct(a,c,j,null,b,D)}for(B in b)if(D=b[B],T=f[B],b.hasOwnProperty(B)&&(D!=null||T!=null))switch(B){case"value":ge=D;break;case"defaultValue":xe=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:D!==T&&Ct(a,c,B,D,b,T)}Hy(a,ge,xe);return;case"option":for(var et in f)if(ge=f[et],f.hasOwnProperty(et)&&ge!=null&&!b.hasOwnProperty(et))switch(et){case"selected":a.selected=!1;break;default:Ct(a,c,et,null,b,ge)}for(te in b)if(ge=b[te],xe=f[te],b.hasOwnProperty(te)&&ge!==xe&&(ge!=null||xe!=null))switch(te){case"selected":a.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Ct(a,c,te,ge,b,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in f)ge=f[Ze],f.hasOwnProperty(Ze)&&ge!=null&&!b.hasOwnProperty(Ze)&&Ct(a,c,Ze,null,b,ge);for(pe in b)if(ge=b[pe],xe=f[pe],b.hasOwnProperty(pe)&&ge!==xe&&(ge!=null||xe!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,c));break;default:Ct(a,c,pe,ge,b,xe)}return;default:if(rf(c)){for(var Rt in f)ge=f[Rt],f.hasOwnProperty(Rt)&&ge!==void 0&&!b.hasOwnProperty(Rt)&&Hp(a,c,Rt,void 0,b,ge);for(Te in b)ge=b[Te],xe=f[Te],!b.hasOwnProperty(Te)||ge===xe||ge===void 0&&xe===void 0||Hp(a,c,Te,ge,b,xe);return}}for(var de in f)ge=f[de],f.hasOwnProperty(de)&&ge!=null&&!b.hasOwnProperty(de)&&Ct(a,c,de,null,b,ge);for(Ce in b)ge=b[Ce],xe=f[Ce],!b.hasOwnProperty(Ce)||ge===xe||ge==null&&xe==null||Ct(a,c,Ce,ge,b,xe)}var jp=null,qp=null;function Lu(a){return a.nodeType===9?a:a.ownerDocument}function qv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Gp(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var $p=null;function cC(){var a=window.event;return a&&a.type==="popstate"?a===$p?!1:($p=a,!0):($p=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,lC=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,uC=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(a){return Vv.resolve(null).then(a).catch(hC)}:$v;function hC(a){setTimeout(function(){throw a})}function hs(a){return a==="head"}function Xv(a,c){var f=c,b=0,D=0;do{var T=f.nextSibling;if(a.removeChild(f),T&&T.nodeType===8)if(f=T.data,f==="/$"){if(0<b&&8>b){f=b;var B=a.ownerDocument;if(f&1&&_c(B.documentElement),f&2&&_c(B.body),f&4)for(f=B.head,_c(f),B=f.firstChild;B;){var j=B.nextSibling,te=B.nodeName;B[Yi]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&B.rel.toLowerCase()==="stylesheet"||f.removeChild(B),B=j}}if(D===0){a.removeChild(T),Uc(c);return}D--}else f==="$"||f==="$?"||f==="$!"?D++:b=f.charCodeAt(0)-48;else b=0;f=T}while(f);Uc(c)}function Vp(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Vp(f),rn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function dC(a,c,f,b){for(;a.nodeType===1;){var D=f;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!b&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(b){if(!a[Yi])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==D.rel||a.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||a.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||a.getAttribute("title")!==(D.title==null?null:D.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(D.src==null?null:D.src)||a.getAttribute("type")!==(D.type==null?null:D.type)||a.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var T=D.name==null?null:""+D.name;if(D.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Qi(a.nextSibling),a===null)break}return null}function fC(a,c,f){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Qi(a.nextSibling),a===null))return null;return a}function Xp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function pC(a,c){var f=a.ownerDocument;if(a.data!=="$?"||f.readyState==="complete")c();else{var b=function(){c(),f.removeEventListener("DOMContentLoaded",b)};f.addEventListener("DOMContentLoaded",b),a._reactRetry=b}}function Qi(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var Yp=null;function Yv(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}function Kv(a,c,f){switch(c=Lu(f),a){case"html":if(a=c.documentElement,!a)throw Error(n(452));return a;case"head":if(a=c.head,!a)throw Error(n(453));return a;case"body":if(a=c.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function _c(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);rn(a)}var Oi=new Map,Zv=new Set;function Nu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Or=O.d;O.d={f:gC,r:mC,D:bC,C:yC,L:vC,m:AC,X:_C,S:xC,M:DC};function gC(){var a=Or.f(),c=Tu();return a||c}function mC(a){var c=fi(a);c!==null&&c.tag===5&&c.type==="form"?b0(c):Or.r(a)}var oo=typeof document>"u"?null:document;function Qv(a,c,f){var b=oo;if(b&&typeof c=="string"&&c){var D=Ri(c);D='link[rel="'+a+'"][href="'+D+'"]',typeof f=="string"&&(D+='[crossorigin="'+f+'"]'),Zv.has(D)||(Zv.add(D),a={rel:a,crossOrigin:f,href:c},b.querySelector(D)===null&&(c=b.createElement("link"),kn(c,"link",a),xn(c),b.head.appendChild(c)))}}function bC(a){Or.D(a),Qv("dns-prefetch",a,null)}function yC(a,c){Or.C(a,c),Qv("preconnect",a,c)}function vC(a,c,f){Or.L(a,c,f);var b=oo;if(b&&a&&c){var D='link[rel="preload"][as="'+Ri(c)+'"]';c==="image"&&f&&f.imageSrcSet?(D+='[imagesrcset="'+Ri(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(D+='[imagesizes="'+Ri(f.imageSizes)+'"]')):D+='[href="'+Ri(a)+'"]';var T=D;switch(c){case"style":T=co(a);break;case"script":T=lo(a)}Oi.has(T)||(a=d({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:a,as:c},f),Oi.set(T,a),b.querySelector(D)!==null||c==="style"&&b.querySelector(Dc(T))||c==="script"&&b.querySelector(wc(T))||(c=b.createElement("link"),kn(c,"link",a),xn(c),b.head.appendChild(c)))}}function AC(a,c){Or.m(a,c);var f=oo;if(f&&a){var b=c&&typeof c.as=="string"?c.as:"script",D='link[rel="modulepreload"][as="'+Ri(b)+'"][href="'+Ri(a)+'"]',T=D;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=lo(a)}if(!Oi.has(T)&&(a=d({rel:"modulepreload",href:a},c),Oi.set(T,a),f.querySelector(D)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(wc(T)))return}b=f.createElement("link"),kn(b,"link",a),xn(b),f.head.appendChild(b)}}}function xC(a,c,f){Or.S(a,c,f);var b=oo;if(b&&a){var D=Ca(b).hoistableStyles,T=co(a);c=c||"default";var B=D.get(T);if(!B){var j={loading:0,preload:null};if(B=b.querySelector(Dc(T)))j.loading=5;else{a=d({rel:"stylesheet",href:a,"data-precedence":c},f),(f=Oi.get(T))&&Kp(a,f);var te=B=b.createElement("link");xn(te),kn(te,"link",a),te._p=new Promise(function(pe,Te){te.onload=pe,te.onerror=Te}),te.addEventListener("load",function(){j.loading|=1}),te.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Ou(B,c,b)}B={type:"stylesheet",instance:B,count:1,state:j},D.set(T,B)}}}function _C(a,c){Or.X(a,c);var f=oo;if(f&&a){var b=Ca(f).hoistableScripts,D=lo(a),T=b.get(D);T||(T=f.querySelector(wc(D)),T||(a=d({src:a,async:!0},c),(c=Oi.get(D))&&Zp(a,c),T=f.createElement("script"),xn(T),kn(T,"link",a),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},b.set(D,T))}}function DC(a,c){Or.M(a,c);var f=oo;if(f&&a){var b=Ca(f).hoistableScripts,D=lo(a),T=b.get(D);T||(T=f.querySelector(wc(D)),T||(a=d({src:a,async:!0,type:"module"},c),(c=Oi.get(D))&&Zp(a,c),T=f.createElement("script"),xn(T),kn(T,"link",a),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},b.set(D,T))}}function Jv(a,c,f,b){var D=(D=ye.current)?Nu(D):null;if(!D)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=co(f.href),f=Ca(D).hoistableStyles,b=f.get(c),b||(b={type:"style",instance:null,count:0,state:null},f.set(c,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=co(f.href);var T=Ca(D).hoistableStyles,B=T.get(a);if(B||(D=D.ownerDocument||D,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,B),(T=D.querySelector(Dc(a)))&&!T._p&&(B.instance=T,B.state.loading=5),Oi.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Oi.set(a,f),T||wC(D,a,f,B.state))),c&&b===null)throw Error(n(528,""));return B}if(c&&b!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=lo(f),f=Ca(D).hoistableScripts,b=f.get(c),b||(b={type:"script",instance:null,count:0,state:null},f.set(c,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function co(a){return'href="'+Ri(a)+'"'}function Dc(a){return'link[rel="stylesheet"]['+a+"]"}function e2(a){return d({},a,{"data-precedence":a.precedence,precedence:null})}function wC(a,c,f,b){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?b.loading=1:(c=a.createElement("link"),b.preload=c,c.addEventListener("load",function(){return b.loading|=1}),c.addEventListener("error",function(){return b.loading|=2}),kn(c,"link",f),xn(c),a.head.appendChild(c))}function lo(a){return'[src="'+Ri(a)+'"]'}function wc(a){return"script[async]"+a}function t2(a,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var b=a.querySelector('style[data-href~="'+Ri(f.href)+'"]');if(b)return c.instance=b,xn(b),b;var D=d({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return b=(a.ownerDocument||a).createElement("style"),xn(b),kn(b,"style",D),Ou(b,f.precedence,a),c.instance=b;case"stylesheet":D=co(f.href);var T=a.querySelector(Dc(D));if(T)return c.state.loading|=4,c.instance=T,xn(T),T;b=e2(f),(D=Oi.get(D))&&Kp(b,D),T=(a.ownerDocument||a).createElement("link"),xn(T);var B=T;return B._p=new Promise(function(j,te){B.onload=j,B.onerror=te}),kn(T,"link",b),c.state.loading|=4,Ou(T,f.precedence,a),c.instance=T;case"script":return T=lo(f.src),(D=a.querySelector(wc(T)))?(c.instance=D,xn(D),D):(b=f,(D=Oi.get(T))&&(b=d({},f),Zp(b,D)),a=a.ownerDocument||a,D=a.createElement("script"),xn(D),kn(D,"link",b),a.head.appendChild(D),c.instance=D);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(b=c.instance,c.state.loading|=4,Ou(b,f.precedence,a));return c.instance}function Ou(a,c,f){for(var b=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=b.length?b[b.length-1]:null,T=D,B=0;B<b.length;B++){var j=b[B];if(j.dataset.precedence===c)T=j;else if(T!==D)break}T?T.parentNode.insertBefore(a,T.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(a,c.firstChild))}function Kp(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function Zp(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Bu=null;function n2(a,c,f){if(Bu===null){var b=new Map,D=Bu=new Map;D.set(f,b)}else D=Bu,b=D.get(f),b||(b=new Map,D.set(f,b));if(b.has(a))return b;for(b.set(a,null),f=f.getElementsByTagName(a),D=0;D<f.length;D++){var T=f[D];if(!(T[Yi]||T[Pt]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var B=T.getAttribute(c)||"";B=a+B;var j=b.get(B);j?j.push(T):b.set(B,[T])}}return b}function i2(a,c,f){a=a.ownerDocument||a,a.head.insertBefore(f,c==="title"?a.querySelector("head > title"):null)}function EC(a,c,f){if(f===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function r2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Ec=null;function TC(){}function SC(a,c,f){if(Ec===null)throw Error(n(475));var b=Ec;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var D=co(f.href),T=a.querySelector(Dc(D));if(T){a=T._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(b.count++,b=Iu.bind(b),a.then(b,b)),c.state.loading|=4,c.instance=T,xn(T);return}T=a.ownerDocument||a,f=e2(f),(D=Oi.get(D))&&Kp(f,D),T=T.createElement("link"),xn(T);var B=T;B._p=new Promise(function(j,te){B.onload=j,B.onerror=te}),kn(T,"link",f),c.instance=T}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(b.count++,c=Iu.bind(b),a.addEventListener("load",c),a.addEventListener("error",c))}}function CC(){if(Ec===null)throw Error(n(475));var a=Ec;return a.stylesheets&&a.count===0&&Qp(a,a.stylesheets),0<a.count?function(c){var f=setTimeout(function(){if(a.stylesheets&&Qp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)Qp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Pu=null;function Qp(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Pu=new Map,c.forEach(RC,a),Pu=null,Iu.call(a))}function RC(a,c){if(!(c.state.loading&4)){var f=Pu.get(a);if(f)var b=f.get(null);else{f=new Map,Pu.set(a,f);for(var D=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<D.length;T++){var B=D[T];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(f.set(B.dataset.precedence,B),b=B)}b&&f.set(null,b)}D=c.instance,B=D.getAttribute("data-precedence"),T=f.get(B)||b,T===b&&f.set(null,D),f.set(B,D),this.count++,b=Iu.bind(this),D.addEventListener("load",b),D.addEventListener("error",b),T?T.parentNode.insertBefore(D,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(D,a.firstChild)),c.state.loading|=4}}var Tc={$$typeof:w,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function UC(a,c,f,b,D,T,B,j){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=b,this.onUncaughtError=D,this.onCaughtError=T,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function s2(a,c,f,b,D,T,B,j,te,pe,Te,Ce){return a=new UC(a,c,f,B,j,te,pe,Ce),c=1,T===!0&&(c|=24),T=gi(3,null,null,c),a.current=T,T.stateNode=a,c=Mf(),c.refCount++,a.pooledCache=c,c.refCount++,T.memoizedState={element:b,isDehydrated:f,cache:c},Bf(T),a}function a2(a){return a?(a=Wa,a):Wa}function o2(a,c,f,b,D,T){D=a2(D),b.context===null?b.context=D:b.pendingContext=D,b=Qr(c),b.payload={element:f},T=T===void 0?null:T,T!==null&&(b.callback=T),f=Jr(a,b,c),f!==null&&(Ai(f,a,c),nc(f,a,c))}function c2(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function Jp(a,c){c2(a,c),(a=a.alternate)&&c2(a,c)}function l2(a){if(a.tag===13){var c=Pa(a,67108864);c!==null&&Ai(c,a,67108864),Jp(a,67108864)}}var Wu=!0;function kC(a,c,f,b){var D=M.T;M.T=null;var T=O.p;try{O.p=2,eg(a,c,f,b)}finally{O.p=T,M.T=D}}function FC(a,c,f,b){var D=M.T;M.T=null;var T=O.p;try{O.p=8,eg(a,c,f,b)}finally{O.p=T,M.T=D}}function eg(a,c,f,b){if(Wu){var D=tg(b);if(D===null)zp(a,c,b,zu,f),h2(a,b);else if(LC(D,a,c,f,b))b.stopPropagation();else if(h2(a,b),c&4&&-1<MC.indexOf(a)){for(;D!==null;){var T=fi(D);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var B=qe(T.pendingLanes);if(B!==0){var j=T;for(j.pendingLanes|=2,j.entangledLanes|=2;B;){var te=1<<31-Ie(B);j.entanglements[1]|=te,B&=~te}lr(T),(wt&6)===0&&(wu=Y()+500,vc(0))}}break;case 13:j=Pa(T,2),j!==null&&Ai(j,T,2),Tu(),Jp(T,2)}if(T=tg(b),T===null&&zp(a,c,b,zu,f),T===D)break;D=T}D!==null&&b.stopPropagation()}else zp(a,c,b,null,f)}}function tg(a){return a=af(a),ng(a)}var zu=null;function ng(a){if(zu=null,a=xr(a),a!==null){var c=r(a);if(c===null)a=null;else{var f=c.tag;if(f===13){if(a=s(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return zu=a,null}function u2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case ie:return 2;case De:return 8;case _e:case oe:return 32;case J:return 268435456;default:return 32}default:return 32}}var ig=!1,ds=null,fs=null,ps=null,Sc=new Map,Cc=new Map,gs=[],MC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h2(a,c){switch(a){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Sc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(c.pointerId)}}function Rc(a,c,f,b,D,T){return a===null||a.nativeEvent!==T?(a={blockedOn:c,domEventName:f,eventSystemFlags:b,nativeEvent:T,targetContainers:[D]},c!==null&&(c=fi(c),c!==null&&l2(c)),a):(a.eventSystemFlags|=b,c=a.targetContainers,D!==null&&c.indexOf(D)===-1&&c.push(D),a)}function LC(a,c,f,b,D){switch(c){case"focusin":return ds=Rc(ds,a,c,f,b,D),!0;case"dragenter":return fs=Rc(fs,a,c,f,b,D),!0;case"mouseover":return ps=Rc(ps,a,c,f,b,D),!0;case"pointerover":var T=D.pointerId;return Sc.set(T,Rc(Sc.get(T)||null,a,c,f,b,D)),!0;case"gotpointercapture":return T=D.pointerId,Cc.set(T,Rc(Cc.get(T)||null,a,c,f,b,D)),!0}return!1}function d2(a){var c=xr(a.target);if(c!==null){var f=r(c);if(f!==null){if(c=f.tag,c===13){if(c=s(f),c!==null){a.blockedOn=c,Bn(a.priority,function(){if(f.tag===13){var b=vi();b=ke(b);var D=Pa(f,b);D!==null&&Ai(D,f,b),Jp(f,b)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hu(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=tg(a.nativeEvent);if(f===null){f=a.nativeEvent;var b=new f.constructor(f.type,f);sf=b,f.target.dispatchEvent(b),sf=null}else return c=fi(f),c!==null&&l2(c),a.blockedOn=f,!1;c.shift()}return!0}function f2(a,c,f){Hu(a)&&f.delete(c)}function NC(){ig=!1,ds!==null&&Hu(ds)&&(ds=null),fs!==null&&Hu(fs)&&(fs=null),ps!==null&&Hu(ps)&&(ps=null),Sc.forEach(f2),Cc.forEach(f2)}function ju(a,c){a.blockedOn===c&&(a.blockedOn=null,ig||(ig=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,NC)))}var qu=null;function p2(a){qu!==a&&(qu=a,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){qu===a&&(qu=null);for(var c=0;c<a.length;c+=3){var f=a[c],b=a[c+1],D=a[c+2];if(typeof b!="function"){if(ng(b||f)===null)continue;break}var T=fi(f);T!==null&&(a.splice(c,3),c-=3,np(T,{pending:!0,data:D,method:f.method,action:b},b,D))}}))}function Uc(a){function c(te){return ju(te,a)}ds!==null&&ju(ds,a),fs!==null&&ju(fs,a),ps!==null&&ju(ps,a),Sc.forEach(c),Cc.forEach(c);for(var f=0;f<gs.length;f++){var b=gs[f];b.blockedOn===a&&(b.blockedOn=null)}for(;0<gs.length&&(f=gs[0],f.blockedOn===null);)d2(f),f.blockedOn===null&&gs.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(b=0;b<f.length;b+=3){var D=f[b],T=f[b+1],B=D[Wt]||null;if(typeof T=="function")B||p2(f);else if(B){var j=null;if(T&&T.hasAttribute("formAction")){if(D=T,B=T[Wt]||null)j=B.formAction;else if(ng(D)!==null)continue}else j=B.action;typeof j=="function"?f[b+1]=j:(f.splice(b,3),b-=3),p2(f)}}}function rg(a){this._internalRoot=a}Gu.prototype.render=rg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,b=vi();o2(f,b,a,c,null,null)},Gu.prototype.unmount=rg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;o2(a.current,2,null,a,null,null),Tu(),c[ei]=null}};function Gu(a){this._internalRoot=a}Gu.prototype.unstable_scheduleHydration=function(a){if(a){var c=Tt();a={blockedOn:null,target:a,priority:c};for(var f=0;f<gs.length&&c!==0&&c<gs[f].priority;f++);gs.splice(f,0,a),f===0&&d2(a)}};var g2=e.version;if(g2!=="19.1.1")throw Error(n(527,g2,"19.1.1"));O.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=l(c),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var OC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Ae=$u.inject(OC),Re=$u}catch{}}return Fc.createRoot=function(a,c){if(!i(a))throw Error(n(299));var f=!1,b="",D=k0,T=F0,B=M0,j=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(D=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(j=c.unstable_transitionCallbacks)),c=s2(a,1,!1,null,null,f,b,D,T,B,j,null),a[ei]=c.current,Wp(a),new rg(c)},Fc.hydrateRoot=function(a,c,f){if(!i(a))throw Error(n(299));var b=!1,D="",T=k0,B=F0,j=M0,te=null,pe=null;return f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(D=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(B=f.onCaughtError),f.onRecoverableError!==void 0&&(j=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(te=f.unstable_transitionCallbacks),f.formState!==void 0&&(pe=f.formState)),c=s2(a,1,!0,c,f??null,b,D,T,B,j,te,pe),c.context=a2(null),f=c.current,b=vi(),b=ke(b),D=Qr(b),D.callback=null,Jr(f,D,b),f=b,c.current.lanes=f,W(c,f),lr(c),a[ei]=c.current,Wp(a),new Gu(c)},Fc.version="19.1.1",Fc}var T2;function XC(){if(T2)return lg.exports;T2=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(e){console.error(e)}}return u(),lg.exports=VC(),lg.exports}var YC=XC();const KC=cd(YC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QC=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),S2=u=>{const e=QC(u);return e.charAt(0).toUpperCase()+e.slice(1)},X_=(...u)=>u.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),JC=u=>{for(const e in u)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=Me.forwardRef(({color:u="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:s,...o},l)=>Me.createElement("svg",{ref:l,...e3,width:e,height:e,stroke:u,strokeWidth:n?Number(t)*24/Number(e):t,className:X_("lucide",i),...!r&&!JC(o)&&{"aria-hidden":"true"},...o},[...s.map(([h,d])=>Me.createElement(h,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=(u,e)=>{const t=Me.forwardRef(({className:n,...i},r)=>Me.createElement(t3,{ref:r,iconNode:e,className:X_(`lucide-${ZC(S2(u))}`,`lucide-${u}`,n),...i}));return t.displayName=S2(u),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],C2=Vi("brain",n3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],r3=Vi("chevron-left",i3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],a3=Vi("chevron-right",s3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],c3=Vi("circle-alert",o3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u3=Vi("eye",l3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],d3=Vi("file-search",h3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ld=Vi("file-text",f3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],g3=Vi("loader-circle",p3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],b3=Vi("upload",m3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Y_=Vi("zap",y3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],A3=Vi("zoom-in",v3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],_3=Vi("zoom-out",x3),D3=({onNewAnalysis:u})=>me.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:me.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:me.jsxs("div",{className:"flex items-center justify-between h-16",children:[me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:me.jsx(ld,{className:"w-6 h-6 text-white"})}),me.jsxs("div",{children:[me.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"ContractAI"}),me.jsx("p",{className:"text-sm text-gray-500 hidden sm:block",children:"Professional Contract Analysis Platform"})]})]}),me.jsx("div",{className:"flex items-center space-x-4",children:me.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[me.jsx(Y_,{className:"w-4 h-4 text-yellow-500"}),me.jsx("span",{children:"Powered by AI"})]})})]})})}),w3=({onFileSelect:u})=>{const e=Me.useRef(null),[t,n]=Me.useState(!1),[i,r]=Me.useState(""),s=p=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(p.type)?p.size>10485760?"File size must be less than 10MB.":null:"Please upload a PDF, DOCX, DOC, or TXT file.",o=p=>{const g=s(p);if(g){r(g);return}r(""),u(p)},l=p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},h=p=>{p.preventDefault(),p.stopPropagation(),n(!1);const g=p.dataTransfer.files?.[0];g&&o(g)},d=p=>{const g=p.target.files?.[0];g&&o(g)};return me.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[me.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 ${t?"border-blue-400 bg-blue-50 scale-105":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,onDragEnter:l,onDragLeave:l,onDragOver:l,onDrop:h,children:[me.jsx("input",{ref:e,type:"file",accept:".pdf,.docx,.doc,.txt",onChange:d,className:"hidden"}),me.jsxs("div",{className:"space-y-4",children:[me.jsx("div",{className:"flex justify-center",children:me.jsx("div",{className:"bg-blue-100 p-4 rounded-full",children:me.jsx(b3,{className:"w-8 h-8 text-blue-600"})})}),me.jsxs("div",{children:[me.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t?"Drop your contract here":"Upload Contract Document"}),me.jsx("p",{className:"text-gray-600 mb-6",children:"Drag and drop your contract file, or click to browse"})]}),me.jsx("button",{onClick:()=>e.current?.click(),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg",children:"Choose File"}),me.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[me.jsxs("div",{className:"flex items-center space-x-2",children:[me.jsx(ld,{className:"w-4 h-4"}),me.jsx("span",{children:"PDF, DOCX, TXT"})]}),me.jsx("div",{children:"Max 10MB"})]})]})]}),i&&me.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[me.jsx(c3,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),me.jsx("p",{className:"text-red-800 text-sm",children:i})]})]})},Xn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Om=[.001,0,0,.001,0,0],fg=1.35,xi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},yr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},K_="pdfjs_internal_editor_",rt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Z_={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Wn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},sl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Zt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},go={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xl={ERRORS:0,WARNINGS:1,INFOS:5},ol={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Vu={moveTo:0,lineTo:1,curveTo:2,closePath:3},Q_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ud=xl.WARNINGS;function E3(u){Number.isInteger(u)&&(ud=u)}function T3(){return ud}function hd(u){ud>=xl.INFOS&&console.log(`Info: ${u}`)}function st(u){ud>=xl.WARNINGS&&console.log(`Warning: ${u}`)}function kt(u){throw new Error(u)}function hn(u,e){u||kt(e)}function S3(u){switch(u?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ub(u,e=null,t=null){if(!u)return null;if(t&&typeof u=="string"&&(t.addDefaultProtocol&&u.startsWith("www.")&&u.match(/\./g)?.length>=2&&(u=`http://${u}`),t.tryConvertEncoding))try{u=F3(u)}catch{}const n=e?URL.parse(u,e):URL.parse(u);return S3(n)?n:null}function hb(u,e,t=!1){const n=URL.parse(u);return n?(n.hash=e,n.href):t&&ub(u,"http://example.com")?u.split("#",1)[0]+`${e?`#${e}`:""}`:""}function gt(u,e,t,n=!1){return Object.defineProperty(u,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Aa=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();let R2=class extends Aa{constructor(e,t){super(e,"PasswordException"),this.code=t}},pg=class extends Aa{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},Yh=class extends Aa{constructor(e){super(e,"InvalidPDFException")}},cl=class extends Aa{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}},C3=class extends Aa{constructor(e){super(e,"FormatError")}},Gr=class extends Aa{constructor(e){super(e,"AbortException")}};function J_(u){(typeof u!="object"||u?.length===void 0)&&kt("Invalid argument for bytesToString");const e=u.length,t=8192;if(e<t)return String.fromCharCode.apply(null,u);const n=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),s=u.subarray(i,r);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function _l(u){typeof u!="string"&&kt("Invalid argument for stringToBytes");const e=u.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=u.charCodeAt(n)&255;return t}function R3(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function U3(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function k3(){try{return new Function(""),!0}catch{return!1}}let Cn=class{static get isLittleEndian(){return gt(this,"isLittleEndian",U3())}static get isEvalSupported(){return gt(this,"isEvalSupported",k3())}static get isOffscreenCanvasSupported(){return gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return gt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return gt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return gt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}};const gg=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));let $e=class{static makeHexColor(e,t,n){return`#${gg[e]}${gg[t]}${gg[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const i=e[n],r=e[n+1];e[n]=i*t[0]+r*t[2]+t[4],e[n+1]=i*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],r=t[1],s=t[2],o=t[3],l=t[4],h=t[5];for(let d=0;d<6;d+=2){const p=e[n+d],g=e[n+d+1];e[n+d]=p*i+g*s+l,e[n+d+1]=p*r+g*o+h}}static applyInverseTransform(e,t){const n=e[0],i=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],l=t[4],h=t[5],d=e[0],p=e[1],g=e[2],m=e[3];let v=i*d+l,y=v,A=i*g+l,x=A,_=o*p+h,w=_,S=o*m+h,E=S;if(r!==0||s!==0){const C=r*d,R=r*g,N=s*p,F=s*m;v+=N,x+=N,A+=F,y+=F,_+=C,E+=C,S+=R,w+=R}n[0]=Math.min(n[0],v,A,y,x),n[1]=Math.min(n[1],_,S,w,E),n[2]=Math.max(n[2],v,A,y,x),n[3]=Math.max(n[3],_,S,w,E)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],r=e[2],s=e[3],o=n**2+i**2,l=n*r+i*s,h=r**2+s**2,d=(o+h)/2,p=Math.sqrt(d**2-(o*h-l**2));t[0]=Math.sqrt(d+p||1),t[1]=Math.sqrt(d-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>s?null:[n,r,i,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,r){r[0]=Math.min(r[0],e,n),r[1]=Math.min(r[1],t,i),r[2]=Math.max(r[2],e,n),r[3]=Math.max(r[3],t,i)}static#e(e,t,n,i,r,s,o,l,h,d){if(h<=0||h>=1)return;const p=1-h,g=h*h,m=g*h,v=p*(p*(p*e+3*h*t)+3*g*n)+m*i,y=p*(p*(p*r+3*h*s)+3*g*o)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],y)}static#t(e,t,n,i,r,s,o,l,h,d,p,g){if(Math.abs(h)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,t,n,i,r,s,o,l,-p/d,g);return}const m=d**2-4*p*h;if(m<0)return;const v=Math.sqrt(m),y=2*h;this.#e(e,t,n,i,r,s,o,l,(-d+v)/y,g),this.#e(e,t,n,i,r,s,o,l,(-d-v)/y,g)}static bezierBoundingBox(e,t,n,i,r,s,o,l,h){h[0]=Math.min(h[0],e,o),h[1]=Math.min(h[1],t,l),h[2]=Math.max(h[2],e,o),h[3]=Math.max(h[3],t,l),this.#t(e,n,r,o,t,i,s,l,3*(-e+3*(n-r)+o),6*(e-2*n+r),3*(n-e),h),this.#t(e,n,r,o,t,i,s,l,3*(-t+3*(i-s)+l),6*(t-2*i+s),3*(i-t),h)}};function F3(u){return decodeURIComponent(escape(u))}let mg=null,U2=null;function eD(u){return mg||(mg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,U2=new Map([["ﬅ","ſt"]])),u.replaceAll(mg,(e,t,n)=>t?t.normalize("NFKC"):U2.get(n))}function db(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const u=new Uint8Array(32);return crypto.getRandomValues(u),J_(u)}const fb="pdfjs_internal_id_";function M3(u,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...r]=t;if(!u(n)&&!Number.isInteger(n)||!e(i))return!1;const s=r.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const l of r)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Hn(u,e,t){return Math.min(Math.max(u,e),t)}function tD(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(J_(u))}function L3(u){return Uint8Array.fromBase64?Uint8Array.fromBase64(u):_l(atob(u))}typeof Promise.try!="function"&&(Promise.try=function(u,...e){return new Promise(t=>{t(u(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(u){return u.reduce((e,t)=>e+t,0)});const Pr="http://www.w3.org/2000/svg";let pa=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};async function Oo(u,e="text"){if(Zc(u,document.baseURI)){const t=await fetch(u);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",u,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}let pb=class nD{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s,n*=t;const l=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let d,p,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,p=0,g=0,m=1;break;case 90:d=0,p=1,g=1,m=0;break;case 270:d=0,p=-1,g=-1,m=0;break;case 0:d=1,p=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,m=-m);let v,y,A,x;d===0?(v=Math.abs(h-e[1])*n+r,y=Math.abs(l-e[0])*n+s,A=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(v=Math.abs(l-e[0])*n+r,y=Math.abs(h-e[1])*n+s,A=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[d*n,p*n,g*n,m*n,v-d*n*l-g*n*h,y-p*n*l-m*n*h],this.width=A,this.height=x}get rawDims(){const e=this.viewBox;return gt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new nD({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){const n=[e,t];return $e.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];$e.applyTransform(t,this.transform);const n=[e[2],e[3]];return $e.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return $e.applyInverseTransform(n,this.transform),n}},dd=class extends Aa{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function Dl(u){const e=u.length;let t=0;for(;t<e&&u[t].trim()==="";)t++;return u.substring(t,t+5).toLowerCase()==="data:"}function fd(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function iD(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function rD(u,e="document.pdf"){if(typeof u!="string")return e;if(Dl(u))return st('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(u);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},r=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(r.test(s))return i(s);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const h of o)if(r.test(h))return i(h);const l=Array.from(n.searchParams.keys()).reverse();for(const h of l)if(r.test(h))return i(h)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}let k2=class{started=Object.create(null);times=[];time(e){e in this.started&&st(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||st(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms
`);return e.join("")}};function Zc(u,e){const t=e?URL.parse(u,e):URL.parse(u);return t?.protocol==="http:"||t?.protocol==="https:"}function Gi(u){u.preventDefault()}function Jt(u){u.preventDefault(),u.stopPropagation()}function N3(u){console.log("Deprecated API usage: "+u)}let gb=class{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const h=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(s+=d,o+=p):h==="+"&&(s-=d,o-=p),new Date(Date.UTC(n,i,r,s,o,l))}};function sD(u,{scale:e=1,rotation:t=0}){const{width:n,height:i}=u.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new pb({viewBox:r,userUnit:1,scale:e,rotation:t})}function mb(u){if(u.startsWith("#")){const e=parseInt(u.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(e=>parseInt(e)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(st(`Not a valid color format: "${u}"`),[0,0,0])}function O3(u){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of u.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;u.set(t,mb(n))}e.remove()}function Gt(u){const{a:e,b:t,c:n,d:i,e:r,f:s}=u.getTransform();return[e,t,n,i,r,s]}function ur(u){const{a:e,b:t,c:n,d:i,e:r,f:s}=u.getTransform().invertSelf();return[e,t,n,i,r,s]}function Ss(u,e,t=!1,n=!0){if(e instanceof pb){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:s}=u,o=Cn.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,h=`var(--total-scale-factor) * ${r}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,p=o?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(s.width=d,s.height=p):(s.width=p,s.height=d)}n&&u.setAttribute("data-main-rotation",e.rotation)}let Cs=class Bm{constructor(){const{pixelRatio:e}=Bm;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,r=-1){let s=1/0,o=1/0,l=1/0;n=Bm.capPixels(n,r),n>0&&(s=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const h=Math.min(s,o,l);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}};const Kh=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];let B3=class xh{#e=null;#t=null;#n;#i=null;#s=null;#r=null;static#a=null;constructor(e){this.#n=e,xh.#a||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Gi,{signal:t}),e.addEventListener("pointerdown",xh.#o,{signal:t});const n=this.#i=document.createElement("div");n.className="buttons",e.append(n);const i=this.#n.toolbarPosition;if(i){const{style:r}=e,s=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#o(e){e.stopPropagation()}#l(e){this.#n._focusEventsAllowed=!1,Jt(e)}#c(e){this.#n._focusEventsAllowed=!0,Jt(e)}#d(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Gi,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",xh.#a[e]),this.#d(n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#i.append(n)}get#u(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#d(t),this.#i.append(t,this.#u),this.#s=e}addColorPicker(e){this.#t=e;const t=e.renderButton();this.#d(t),this.#i.append(t,this.#u)}async addEditSignatureButton(e){const t=this.#r=await e.renderEditButton(this.#n);this.#d(t),this.#i.append(t,this.#u)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){this.#r&&(this.#r.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}};class I3{#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Gi,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#r(),e}#s(e,t){let n=0,i=0;for(const r of e){const s=r.y+r.height;if(s<n)continue;const o=r.x+(t?r.width:0);if(s>n){i=o,n=s;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]}show(e,t,n){const[i,r]=this.#s(t,n),{style:s}=this.#t||=this.#i();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;e.addEventListener("contextmenu",Gi,{signal:n}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#e.append(e)}}function aD(u,e,t){for(const n of t)e.addEventListener(n,u[n].bind(u))}let P3=class{#e=0;get id(){return`${K_}${this.#e++}`}},W3=class oD{#e=db();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return gt(this,"_isSVGFittingCanvas",r)}async#i(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(n.url=t,i=await Oo(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=oD._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((h,d)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,h()},s.onload=async()=>{const p=n.svgUrl=s.result;o.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},o.onerror=s.onerror=d});s.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){st(i),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return this.#i(`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return this.#i(e,e)}async getFromBlob(e,t){const n=await t;return this.#i(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},z3=class{#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:t,post:n,type:r};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(l);return}if(s&&this.#e[this.#i].type===r){o&&(l.undo=this.#e[this.#i].undo),this.#e[this.#i]=l;return}const h=this.#i+1;h===this.#n?this.#e.splice(0,1):(this.#i=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(l)}undo(){if(this.#i===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}cleanType(e){if(this.#i!==-1){for(let t=this.#i;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#i-t),this.#i=t;return}this.#e.length=0,this.#i=-1}}destroy(){this.#e=null}},wl=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Cn.platform;for(const[n,i,r={}]of e)for(const s of n){const o=s.startsWith("mac+");t&&o?(this.callbacks.set(s.slice(4),{callback:i,options:r}),this.allKeys.add(s.split("+").at(-1))):!t&&!o&&(this.callbacks.set(s,{callback:i,options:r}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:s=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...s,t)(),r||Jt(t))}},H3=class cD{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return O3(e),gt(this,"_colors",e)}convert(e){const t=mb(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((r,s)=>r===t[s]))return cD._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?$e.makeHexColor(...t):e}},ko=class Im{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#r=null;#a=null;#o=new z3;#l=null;#c=null;#d=0;#u=new Set;#f=null;#g=null;#p=new Set;_editorUndoBar=null;#h=!1;#m=!1;#y=!1;#b=null;#A=null;#x=null;#v=null;#w=!1;#C=null;#T=new P3;#D=!1;#k=!1;#E=null;#F=null;#L=null;#M=null;#N=null;#R=rt.NONE;#_=new Set;#O=null;#U=null;#S=null;#H=null;#q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#W=[0,0];#j=null;#z=null;#G=null;#$=null;#B=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Im.prototype,t=s=>s.#z.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return gt(this,"_keyboardManager",new wl([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#z.contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#z.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,n,i,r,s,o,l,h,d,p,g,m,v,y){const A=this._signal=this.#e.signal;this.#z=e,this.#G=t,this.#$=n,this.#s=i,this.#U=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:A}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),s._on("setpreference",this.onSetPreference.bind(this),{signal:A}),s._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:A}),this.#ne(),this.#se(),this.#Q(),this.#r=o.annotationStorage,this.#b=o.filterFactory,this.#S=l,this.#v=h||null,this.#h=d,this.#m=p,this.#y=g,this.#N=m||null,this.viewParameters={realScale:pa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=y!==!1}destroy(){this.#B?.resolve(),this.#B=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#M?.clear(),this.#t=null,this.#_.clear(),this.#o.destroy(),this.#s?.destroy(),this.#U?.destroy(),this.#C?.hide(),this.#C=null,this.#L?.destroy(),this.#L=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#j&&(clearTimeout(this.#j),this.#j=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#N}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return gt(this,"hcmFilter",this.#S?this.#b.addHCMFilter(this.#S.foreground,this.#S.background):"none")}get direction(){return gt(this,"direction",getComputedStyle(this.#z).direction)}get highlightColors(){return gt(this,"highlightColors",this.#v?new Map(this.#v.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return gt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}getSignature(e){this.#U?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#U}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=t;break}}onPageChanging({pageNumber:e}){this.#d=e-1}focusMainContainer(){this.#z.focus()}findParent(e,t){for(const n of this.#i.values()){const{x:i,y:r,width:s,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=r&&t<=r+o)return n}return null}disableUserSelect(e=!1){this.#G.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*pa.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Y({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#i.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t,o=t.toString(),h=this.#Y(t).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;t.empty();const p=this.#ee(h),g=this.#R===rt.NONE,m=()=>{p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s,text:o}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(rt.HIGHLIGHT,m);return}m()}#te(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Y(e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(this.#C||=new I3(this),this.#C.show(n,i,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#$;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#V(){const e=document.getSelection();if(!e||e.isCollapsed){this.#O&&(this.#C?.hide(),this.#O=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#O)return;const i=this.#Y(e).closest(".textLayer");if(!i){this.#O&&(this.#C?.hide(),this.#O=null,this.#P({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#O=t,this.#P({hasSelectedText:!0}),!(this.#R!==rt.HIGHLIGHT&&this.#R!==rt.NONE)&&(this.#R===rt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#R===rt.HIGHLIGHT?this.#ee(i):null;r?.toggleDrawing();const s=new AbortController,o=this.combinedSignal(s),l=h=>{h.type==="pointerup"&&h.button!==0||(s.abort(),r?.toggleDrawing(!0),h.type==="pointerup"&&this.#Z("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}}#Z(e=""){this.#R===rt.HIGHLIGHT?this.highlightSelection(e):this.#h&&this.#te()}#ne(){document.addEventListener("selectionchange",this.#V.bind(this),{signal:this._signal})}#le(){if(this.#x)return;this.#x=new AbortController;const e=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#Z("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#_)if(t.div.contains(e)){this.#F=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#F)return;const[e,t]=this.#F;this.#F=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#Q(){if(this.#E)return;this.#E=new AbortController;const e=this.combinedSignal(this.#E);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#he(){this.#E?.abort(),this.#E=null}#ie(){if(this.#l)return;this.#l=new AbortController;const e=this.combinedSignal(this.#l);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#re(){this.#l?.abort(),this.#l=null}#se(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Q(),this.#ie()}removeEditListeners(){this.#he(),this.#re()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#g)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#g)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#_){const i=n.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const s of this.#g)if(s.isHandlingMimeForPasting(r.type)){s.paste(r,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){st(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of n){const h=await i.deserialize(l);if(!h)return;r.push(h)}const s=()=>{for(const l of r)this.#I(l);this.#oe(r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(r){st(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#R!==rt.NONE&&!this.isEditorHandlingKeyboard&&Im._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#Z("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#P(e){Object.entries(e).some(([n,i])=>this.#q[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#q,e)}),this.#R===rt.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#X([[mt.HIGHLIGHT_FREE,!0]]))}#X(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#le(),this.#ie(),this.#P({isEditing:this.#R!==rt.NONE,isEmpty:this.#J(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#re(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#g){this.#g=e;for(const t of this.#g)this.#X(t.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#d}addLayer(e){this.#i.set(e.pageIndex,e),this.#D?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1){if(this.#R!==e&&!(this.#B&&(await this.#B.promise,!this.#B))){if(this.#B=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#R=e,e===rt.NONE){this.setEditingState(!1),this.#de(),this._editorUndoBar?.hide(),this.#B.resolve();return}e===rt.SIGNATURE&&await this.#U?.loadSignatures(),this.setEditingState(!0),await this.#ae(),this.unselectAll();for(const r of this.#i.values())r.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),this.#B.resolve();return}for(const r of this.#n.values())r.annotationElementId===t||r.id===t?(this.setSelected(r),i&&r.enterInEditMode()):r.unselect();this.#B.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#R&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#g){switch(e){case mt.CREATE:this.currentLayer.addNewEditor(t);return;case mt.HIGHLIGHT_DEFAULT_COLOR:this.#L?.updateColor(t);break;case mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#H||=new Map).set(e,t),this.showAllEditors("highlight",t);break}for(const n of this.#_)n.updateParams(e,t);for(const n of this.#g)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const r of this.#n.values())r.editorType===e&&r.show(t);(this.#H?.get(mt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#X([[mt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#k!==e){this.#k=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#ae(){if(!this.#D){this.#D=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#de(){if(this.unselectAll(),this.#D){this.#D=!1;for(const e of this.#i.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#n.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#M?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#I(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#X(e.propertiesToUpdate))}get#K(){let e=null;for(e of this.#_);return e}updateUI(e){this.#K===e&&this.#X(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#X(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#_.has(e)){this.#_.delete(e),e.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#_.add(e),e.select(),this.#X(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#c?.commitOrRemove();for(const t of this.#_)t!==e&&t.unselect();this.#_.clear(),this.#_.add(e),e.select(),this.#X(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(e){return this.#_.has(e)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(e){e.unselect(),this.#_.delete(e),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#P({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#J()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#J()})}addCommands(e){this.#o.add(e),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#J()})}cleanUndoStack(e){this.#o.cleanType(e)}#J(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#_],n=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const r of t)r.remove()},i=()=>{for(const r of t)this.#I(r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#oe(e){for(const t of this.#_)t.unselect();this.#_.clear();for(const t of e)t.isEmpty()||(this.#_.add(t),t.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#_)e.commit();this.#oe(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#R!==rt.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const e of this.#_)e.unselect();this.#_.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#W[0]+=e,this.#W[1]+=t;const[i,r]=this.#W,s=[...this.#_],o=1e3;this.#j&&clearTimeout(this.#j),this.#j=setTimeout(()=>{this.#j=null,this.#W[0]=this.#W[1]=0,this.addCommands({cmd:()=>{for(const l of s)this.#n.has(l.id)&&(l.translateInPage(i,r),l.translationDone())},undo:()=>{for(const l of s)this.#n.has(l.id)&&(l.translateInPage(-i,-r),l.translationDone())},mustExec:!1})},o);for(const l of s)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#_)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:i,y:r,pageIndex:s},o]of e)o.newX=i,o.newY=r,o.newPageIndex=s,t||=i!==o.savedX||r!==o.savedY||s!==o.savedPageIndex;if(!t)return!1;const n=(i,r,s,o)=>{if(this.#n.has(i.id)){const l=this.#i.get(o);l?i._setParentAndPosition(l,r,s):(i.pageIndex=o,i.x=r,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:s,newPageIndex:o}]of e)n(i,r,s,o)},undo:()=>{for(const[i,{savedX:r,savedY:s,savedPageIndex:o}]of e)n(i,r,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const n of this.#f.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#R}get imageManager(){return gt(this,"imageManager",new W3)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,d=t.rangeCount;h<d;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(h,d,p,g)=>({x:(d-i)/s,y:1-(h+p-n)/r,width:g/s,height:p/r});break;case"180":o=(h,d,p,g)=>({x:1-(h+p-n)/r,y:1-(d+g-i)/s,width:p/r,height:g/s});break;case"270":o=(h,d,p,g)=>({x:1-(d+g-i)/s,y:(h-n)/r,width:g/s,height:p/r});break;default:o=(h,d,p,g)=>({x:(h-n)/r,y:(d-i)/s,width:p/r,height:g/s});break}const l=[];for(let h=0,d=t.rangeCount;h<d;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:g,y:m,width:v,height:y}of p.getClientRects())v===0||y===0||l.push(o(g,m,v,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#a||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#a?.delete(e)}renderAnnotationElement(e){const t=this.#a?.get(e.data.id);if(!t)return;const n=this.#r.getRawValue(t);n&&(this.#R===rt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const i=this.#M?.get(e);i&&(i.setCanvas(t,n),this.#M.delete(e))}addMissingCanvas(e,t){(this.#M||=new Map).set(e,t)}},F2=class As{#e=null;#t=!1;#n=null;#i=null;#s=null;#r=null;#a=!1;#o=null;#l=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#l=e,this.#u=e._uiManager.useNewAltTextFlow,As.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){As._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#i=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",As.#f.missing),t.setAttribute("data-l10n-id",As.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#l._uiManager._signal;e.addEventListener("contextmenu",Gi,{signal:n}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#u&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#a=!0,i(r))},{signal:n}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#d=await As._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#l.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#c===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(this.#c=n,this.#d=i),!(this.#e===e&&this.#t===t)&&(r||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!e)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",As.#f[this.#g]),this.#i?.setAttribute("data-l10n-id",As.#f[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#s;if(!t){this.#s=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#l.id}`;const i=100,r=this.#l._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:r}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:r})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#l.getElementForAltText()?.setAttribute("aria-describedby",t.id)}},bb=class lD{#e;#t=!1;#n=null;#i;#s;#r;#a;#o=null;#l;#c=null;#d;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:s=null,signal:o}){this.#e=e,this.#n=n,this.#i=t,this.#s=i,this.#r=r,this.#a=s,this.#d=new AbortController,this.#l=AbortSignal.any([o,this.#d.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#l})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Cs.pixelRatio}#f(e){if(this.#i?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,r=AbortSignal.any([this.#l,i.signal]),s=this.#e,o={capture:!0,signal:r,passive:!1},l=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};s.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Jt(h),l(h))},o),s.addEventListener("pointerup",l,o),s.addEventListener("pointercancel",l,o);return}if(!this.#u){this.#u=new AbortController;const i=AbortSignal.any([this.#l,this.#u.signal]),r=this.#e,s={signal:i,capture:!1,passive:!1};r.addEventListener("touchmove",this.#g.bind(this),s);const o=this.#p.bind(this);r.addEventListener("touchend",o,s),r.addEventListener("touchcancel",o,s),s.capture=!0,r.addEventListener("pointerdown",Jt,s),r.addEventListener("pointermove",Jt,s),r.addEventListener("pointercancel",Jt,s),r.addEventListener("pointerup",Jt,s),this.#s?.()}if(Jt(e),e.touches.length!==2||this.#n?.()){this.#c=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#c={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(e){if(!this.#c||e.touches.length!==2)return;Jt(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:r}=t,{screenX:s,screenY:o}=n,l=this.#c,{touch0X:h,touch0Y:d,touch1X:p,touch1Y:g}=l,m=p-h,v=g-d,y=s-i,A=o-r,x=Math.hypot(y,A)||1,_=Math.hypot(m,v)||1;if(!this.#t&&Math.abs(_-x)<=lD.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=r,l.touch1X=s,l.touch1Y=o,!this.#t){this.#t=!0;return}const w=[(i+s)/2,(r+o)/2];this.#r?.(w,_,x)}#p(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#a?.()),this.#c&&(Jt(e),this.#c=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}},jt=class Ut{#e=null;#t=null;#n=null;#i=!1;#s=null;#r="";#a=!1;#o=null;#l=null;#c=null;#d=null;#u="";#f=!1;#g=null;#p=!1;#h=!1;#m=!1;#y=null;#b=0;#A=0;#x=null;#v=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#C=Ut._zIndex++;static _borderLineWidth=-1;static _colorManager=new H3;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Ut.prototype._resizeWithKeyboard,t=ko.TRANSLATE_SMALL,n=ko.TRANSLATE_BIG;return gt(this,"_resizerKeyboardManager",new wl([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ut.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return gt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new j3({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ut._l10n??=e,Ut._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ut._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ut._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){kt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#G(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}#T([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#T(this.parentDimensions,e,t)}translateInPage(e,t){this.#g||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#g||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[i,r]}=this;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,h]=this.getBaseTranslation();s+=l,o+=h;const{style:d}=n;d.left=`${(100*s).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#g&&(this.#g[0]!==this.x||this.#g[1]!==this.y)}get _hasBeenResized(){return!!this.#g&&(this.#g[2]!==this.width||this.#g[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ut,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:r,y:s,width:o,height:l}=this;if(o*=n,l*=i,r*=n,s*=i,this._mustFixPosition)switch(e){case 0:r=Hn(r,0,n-o),s=Hn(s,0,i-l);break;case 90:r=Hn(r,0,n-l),s=Hn(s,o,i);break;case 180:r=Hn(r,o,n),s=Hn(s,l,i);break;case 270:r=Hn(r,l,n),s=Hn(s,0,i-o);break}this.x=r/=n,this.y=s/=i;const[h,d]=this.getBaseTranslation();r+=h,s+=d,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#D(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Ut.#D(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Ut.#D(e,t,360-this.parentRotation)}#k(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*e/n).toFixed(2)}%`,this.#a||(r.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!this.#a&&t.endsWith("%");if(i&&r)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),!this.#a&&!r&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#E(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");this.#o.append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",this.#F.bind(this,n),{signal:t}),i.addEventListener("contextmenu",Gi,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#o)}#F(e,t){t.preventDefault();const{isMac:n}=Cn.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const r=new AbortController,s=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#N.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Jt,{passive:!1,signal:s}),window.addEventListener("contextmenu",Gi,{signal:s}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#M()};window.addEventListener("pointerup",h,{signal:s}),window.addEventListener("blur",h,{signal:s})}#L(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[r,s]=this.parentDimensions;this.setDims(r*n,s*i),this.fixAndSetPosition(),this._onResized()}_onResized(){}#M(){if(!this.#c)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#c;this.#c=null;const r=this.x,s=this.y,o=this.width,l=this.height;r===e&&s===t&&o===n&&l===i||this.addCommands({cmd:this.#L.bind(this,r,s,o,l),undo:this.#L.bind(this,e,t,n,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#N(e,t){const[n,i]=this.parentDimensions,r=this.x,s=this.y,o=this.width,l=this.height,h=Ut.MIN_SIZE/n,d=Ut.MIN_SIZE/i,p=this.#k(this.rotation),g=(M,O)=>[p[0]*M+p[2]*O,p[1]*M+p[3]*O],m=this.#k(360-this.rotation),v=(M,O)=>[m[0]*M+m[2]*O,m[1]*M+m[3]*O];let y,A,x=!1,_=!1;switch(e){case"topLeft":x=!0,y=(M,O)=>[0,0],A=(M,O)=>[M,O];break;case"topMiddle":y=(M,O)=>[M/2,0],A=(M,O)=>[M/2,O];break;case"topRight":x=!0,y=(M,O)=>[M,0],A=(M,O)=>[0,O];break;case"middleRight":_=!0,y=(M,O)=>[M,O/2],A=(M,O)=>[0,O/2];break;case"bottomRight":x=!0,y=(M,O)=>[M,O],A=(M,O)=>[0,0];break;case"bottomMiddle":y=(M,O)=>[M/2,O],A=(M,O)=>[M/2,0];break;case"bottomLeft":x=!0,y=(M,O)=>[0,O],A=(M,O)=>[M,0];break;case"middleLeft":_=!0,y=(M,O)=>[0,O/2],A=(M,O)=>[M,O/2];break}const w=y(o,l),S=A(o,l);let E=g(...S);const C=Ut._round(r+E[0]),R=Ut._round(s+E[1]);let N=1,F=1,I,q;if(t.fromKeyboard)({deltaX:I,deltaY:q}=t);else{const{screenX:M,screenY:O}=t,[K,Q]=this.#l;[I,q]=this.screenToPageTranslation(M-K,O-Q),this.#l[0]=M,this.#l[1]=O}if([I,q]=v(I/n,q/i),x){const M=Math.hypot(o,l);N=F=Math.max(Math.min(Math.hypot(S[0]-w[0]-I,S[1]-w[1]-q)/M,1/o,1/l),h/o,d/l)}else _?N=Hn(Math.abs(S[0]-w[0]-I),h,1)/o:F=Hn(Math.abs(S[1]-w[1]-q),d,1)/l;const L=Ut._round(o*N),H=Ut._round(l*F);E=g(...A(L,H));const k=C-E[0],Z=R-E[1];this.#g||=[this.x,this.y,this.width,this.height],this.width=L,this.height=H,this.x=k,this.y=Z,this.setDims(n*L,i*H),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#h)return this._editToolbar;this._editToolbar=new B3(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(F2.initialize(Ut._l10n),this.#n=new F2(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#i?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#H();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),aD(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#v||=new bb({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#R.bind(this),onPinching:this.#_.bind(this),onPinchEnd:this.#O.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#R(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#_(e,t,n){let r=.7*(n/t)+1-.7;if(r===1)return;const s=this.#k(this.rotation),o=(C,R)=>[s[0]*C+s[2]*R,s[1]*C+s[3]*R],[l,h]=this.parentDimensions,d=this.x,p=this.y,g=this.width,m=this.height,v=Ut.MIN_SIZE/l,y=Ut.MIN_SIZE/h;r=Math.max(Math.min(r,1/g,1/m),v/g,y/m);const A=Ut._round(g*r),x=Ut._round(m*r);if(A===g&&x===m)return;this.#g||=[d,p,g,m];const _=o(g/2,m/2),w=Ut._round(d+_[0]),S=Ut._round(p+_[1]),E=o(A/2,x/2);this.x=w-E[0],this.y=S-E[1],this.width=A,this.height=x,this.setDims(l*A,h*x),this.fixAndSetPosition(),this._onResizing()}#O(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#M()}pointerdown(e){const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#S(e);return}this.#U(e)}#U(e){const{isMac:t}=Cn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#S(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:r},o=h=>{i.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#U(h),n&&this._onStopDragging()};t&&(this.#b=e.clientX,this.#A=e.clientY,this.#s=e.pointerId,this.#r=e.pointerType,window.addEventListener("pointermove",h=>{n||(n=!0,this._onStartDragging());const{clientX:d,clientY:p,pointerId:g}=h;if(g!==this.#s){Jt(h);return}const[m,v]=this.screenToPageTranslation(d-this.#b,p-this.#A);this.#b=d,this.#A=p,this._uiManager.dragSelectedEditors(m,v)},s),window.addEventListener("touchmove",Jt,s),window.addEventListener("pointerdown",h=>{h.pointerType===this.#r&&(this.#v||h.isPrimary)&&o(h),Jt(h)},s));const l=h=>{if(!this.#s||this.#s===h.pointerId){o(h);return}Jt(h)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,s]=this.pageDimensions,[o,l]=this.pageTranslation,h=e/i,d=t/i,p=this.x*r,g=this.y*s,m=this.width*r,v=this.height*s;switch(n){case 0:return[p+h+o,s-g-d-v+l,p+h+m+o,s-g-d+l];case 90:return[p+d+o,s-g+h+l,p+d+v+o,s-g+h+m+l];case 180:return[p-h-m+o,s-g+d+l,p-h+o,s-g+d+v+l];case 270:return[p-d-v+o,s-g-h-m+l,p-d+o,s-g-h+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,s]=e,o=r-n,l=s-i;switch(this.rotation){case 0:return[n,t-s,o,l];case 90:return[n,t-i,l,o];case 180:return[r,t-i,o,l];case 270:return[r,t-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#h=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#h=!1,!0):!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:s}=window;return t<s&&i>0&&e<r&&n>0}#H(){if(this.#d||!this.div)return;this.#d=new AbortController;const e=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#H()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){kt("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[r,s]=i.pageDimensions,[o,l,h,d]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/r,i.y=l/s,i.width=h/r,i.height=d/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#G(),this.removeEditToolbar(),this.#x){for(const e of this.#x.values())clearTimeout(e);this.#x=null}this.parent=null,this.#v?.destroy(),this.#v=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#E(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#o.children;if(!this.#t){this.#t=Array.from(t);const s=this.#q.bind(this),o=this.#W.bind(this),l=this._uiManager._signal;for(const h of this.#t){const d=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",s,{signal:l}),h.addEventListener("blur",o,{signal:l}),h.addEventListener("focus",this.#j.bind(this,d),{signal:l}),h.setAttribute("data-l10n-id",Ut._l10nResizer[d])}}const n=this.#t[0];let i=0;for(const s of t){if(s===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)this.#o.append(this.#o.firstChild);else if(r>i)for(let o=0;o<r-i;o++)this.#o.firstChild.before(this.#o.lastChild);let s=0;for(const o of t){const h=this.#t[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Ut._l10nResizer[h])}}this.#z(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#q(e){Ut._resizerKeyboardManager.exec(this,e)}#W(e){this.#m&&e.relatedTarget?.parentNode!==this.#o&&this.#G()}#j(e){this.#u=this.#m?e:""}#z(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#m&&this.#N(this.#u,{deltaX:e,deltaY:t,fromKeyboard:!0})}#G(){this.#m=!1,this.#z(-1),this.#M()}_stopResizingWithKeyboard(){this.#G(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#a=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#x||=new Map;const{action:n}=e;let i=this.#x.get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},Ut._telemetryTimeout),this.#x.set(n,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},j3=class extends jt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}};const M2=3285377520,Bi=4294901760,hr=65535;let uD=class{constructor(e){this.h1=e?e&4294967295:M2,this.h2=e?e&4294967295:M2}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let y=0,A=e.length;y<A;y++){const x=e.charCodeAt(y);x<=255?t[n++]=x:(t[n++]=x>>>8,t[n++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,s=new Uint32Array(t.buffer,0,i);let o=0,l=0,h=this.h1,d=this.h2;const p=3432918353,g=461845907,m=p&hr,v=g&hr;for(let y=0;y<i;y++)y&1?(o=s[y],o=o*p&Bi|o*m&hr,o=o<<15|o>>>17,o=o*g&Bi|o*v&hr,h^=o,h=h<<13|h>>>19,h=h*5+3864292196):(l=s[y],l=l*p&Bi|l*m&hr,l=l<<15|l>>>17,l=l*g&Bi|l*v&hr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,r){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*p&Bi|o*m&hr,o=o<<15|o>>>17,o=o*g&Bi|o*v&hr,i&1?h^=o:d^=o}this.h1=h,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Bi|e*36045&hr,t=t*4283543511&Bi|((t<<16|e>>>16)*2950163797&Bi)>>>16,e^=t>>>1,e=e*444984403&Bi|e*60499&hr,t=t*3301882366&Bi|((t<<16|e>>>16)*3120437893&Bi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}};const Pm=Object.freeze({map:null,hash:"",transfer:void 0});let yb=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of this.#n.values())if(t instanceof jt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let i=!1;if(n!==void 0)for(const[r,s]of Object.entries(t))n[r]!==s&&(i=!0,n[r]=s);else i=!0,this.#n.set(e,t);i&&this.#i(),t instanceof jt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new hD(this)}get serializable(){if(this.#n.size===0)return Pm;const e=new Map,t=new uD,n=[],i=Object.create(null);let r=!1;for(const[s,o]of this.#n){const l=o instanceof jt?o.serialize(!1,i):o;l&&(e.set(s,l),t.update(`${s}:${JSON.stringify(l)}`),r||=!!l.bitmap)}if(r)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Pm}get editorStats(){let e=null;const t=new Map;for(const n of this.#n.values()){if(!(n instanceof jt))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const s=e[r]||=new Map;for(const[o,l]of Object.entries(i)){if(o==="type")continue;let h=s.get(o);h||(h=new Map,s.set(o,h));const d=h.get(l)??0;h.set(l,d+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof jt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}},hD=class extends yb{#e;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);this.#e={map:r,hash:n,transfer:i}}get print(){kt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return gt(this,"modifiedIds",{ids:new Set,hash:""})}},q3=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(hn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),this.#e.add(i),n?.(e)}catch{st(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}kt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw st(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return gt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return gt(this,"isSyncFontLoadingSupported",Xn||Cn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(hn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return gt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(S,E){return S.charCodeAt(E)<<24|S.charCodeAt(E+1)<<16|S.charCodeAt(E+2)<<8|S.charCodeAt(E+3)&255}function i(S,E,C,R){const N=S.substring(0,E),F=S.substring(E+C);return N+R+F}let r,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let h=0;function d(S,E){if(++h>30){st("Load test font never loaded."),E();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(d.bind(null,S,E))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const v=16,y=1482184792;let A=n(g,v);for(r=0,s=p.length-3;r<s;r+=4)A=A-y+n(p,r)|0;r<p.length&&(A=A-y+n(p+"XXX",r)|0),g=i(g,v,4,R3(A));const x=`url(data:font/opentype;base64,${btoa(g)});`,_=`@font-face {font-family:"${p}";src:${x}}`;this.insertRule(_);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const S of[e.loadedName,p]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=S,w.append(E)}this._document.body.append(w),d(p,()=>{w.remove(),t.complete()})}},G3=class{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${tD(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(s){st(`getPathGenerator - ignoring character: "${s}".`)}const r=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=r}};function $3(u){if(u instanceof URL)return u.href;if(typeof u=="string"){if(Xn)return u;const e=URL.parse(u,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function V3(u){if(Xn&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return _l(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u?.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Xu(u){if(typeof u!="string")return null;if(u.endsWith("/"))return u;throw new Error(`Invalid factory url: "${u}" must include trailing slash.`)}const Wm=u=>typeof u=="object"&&Number.isInteger(u?.num)&&u.num>=0&&Number.isInteger(u?.gen)&&u.gen>=0,X3=u=>typeof u=="object"&&typeof u?.name=="string",dD=M3.bind(null,Wm,X3);let Y3=class{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if(n?.signal instanceof AbortSignal){const{signal:r}=n;if(r.aborted){st("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",s),r.addEventListener("abort",s)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}};const Yu={DATA:1,ERROR:2},on={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function L2(){}function si(u){if(u instanceof Gr||u instanceof Yh||u instanceof R2||u instanceof cl||u instanceof pg)return u;switch(u instanceof Error||typeof u=="object"&&u!==null||kt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new Gr(u.message);case"InvalidPDFException":return new Yh(u.message);case"PasswordException":return new R2(u.message,u.code);case"ResponseException":return new cl(u.message,u.status,u.missing);case"UnknownErrorException":return new pg(u.message,u.details)}return new pg(u.message,u.toString())}let Qc=class{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#i(e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Yu.DATA)i.resolve(e.data);else if(e.callback===Yu.ERROR)i.reject(si(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(s){r.postMessage({sourceName:n,targetName:i,callback:Yu.DATA,callbackId:e.callbackId,data:s})},function(s){r.postMessage({sourceName:n,targetName:i,callback:Yu.ERROR,callbackId:e.callbackId,reason:si(s)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){r.reject(s)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:h=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:h,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:r,data:t,desiredSize:h.desiredSize},i),d.promise},pull:h=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,l.postMessage({sourceName:s,targetName:o,stream:on.PULL,streamId:r,desiredSize:h.desiredSize}),d.promise},cancel:h=>{hn(h instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:on.CANCEL,streamId:r,reason:si(h)}),d.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(h,d=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:on.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:on.CLOSE,streamId:t}),delete s.streamSinks[t])},error(h){hn(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:on.ERROR,streamId:t,reason:si(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:on.START_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:n,targetName:i,stream:on.START_COMPLETE,streamId:t,reason:si(h)})})}#i(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case on.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(si(e.reason));break;case on.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(si(e.reason));break;case on.PULL:if(!o){r.postMessage({sourceName:n,targetName:i,stream:on.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||L2).then(function(){r.postMessage({sourceName:n,targetName:i,stream:on.PULL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:n,targetName:i,stream:on.PULL_COMPLETE,streamId:t,reason:si(h)})});break;case on.ENQUEUE:if(hn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case on.CLOSE:if(hn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#s(s,t);break;case on.ERROR:hn(s,"error should have stream controller"),s.controller.error(si(e.reason)),this.#s(s,t);break;case on.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(si(e.reason)),this.#s(s,t);break;case on.CANCEL:if(!o)break;const l=si(e.reason);Promise.try(o.onCancel||L2,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:on.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:n,targetName:i,stream:on.CANCEL_COMPLETE,streamId:t,reason:si(h)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#s(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}},fD=class{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){kt("Abstract method `_createCanvas` called.")}},K3=class extends fD{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},pD=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){kt("Abstract method `_fetch` called.")}},N2=class extends pD{async _fetch(e){const t=await Oo(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):_l(t)}},gD=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}},Z3=class extends gD{#e;#t;#n;#i;#s;#r;#a=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#i=e,this.#s=t}get#o(){return this.#t||=new Map}get#l(){return this.#r||=new Map}get#c(){if(!this.#n){const e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#s.createElementNS(Pr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(Pr,"defs"),e.append(n),n.append(this.#n),this.#s.body.append(e)}return this.#n}#d(e){if(e.length===1){const l=e[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=l[p]/255;const d=h.join(",");return[d,d,d]}const[t,n,i]=e,r=new Array(256),s=new Array(256),o=new Array(256);for(let l=0;l<256;l++)r[l]=t[l]/255,s[l]=n[l]/255,o[l]=i[l]/255;return[r.join(","),s.join(","),o.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#s.URL;t!==this.#s.baseURI&&(Dl(t)?st('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=hb(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,i,r]=this.#d(e),s=e.length===1?n:`${n}${i}${r}`;if(t=this.#o.get(s),t)return this.#o.set(e,t),t;const o=`g_${this.#i}_transfer_map_${this.#a++}`,l=this.#u(o);this.#o.set(e,l),this.#o.set(s,l);const h=this.#p(o);return this.#m(n,i,r,h),l}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let r=this.#l.get(i);if(r?.key===n||(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#l.set(i,r)),!e||!t))return r.url;const s=this.#b(e);e=$e.makeHexColor(...s);const o=this.#b(t);if(t=$e.makeHexColor(...o),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return r.url;const l=new Array(256);for(let m=0;m<=255;m++){const v=m/255;l[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const h=l.join(","),d=`g_${this.#i}_hcm_filter`,p=r.filter=this.#p(d);this.#m(h,h,h,p),this.#g(p);const g=(m,v)=>{const y=s[m]/255,A=o[m]/255,x=new Array(v+1);for(let _=0;_<=v;_++)x[_]=y+_/v*(A-y);return x.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),p),r.url=this.#u(d),r.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#d([e]),i=`alpha_${n}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const r=`g_${this.#i}_alpha_map_${this.#a++}`,s=this.#u(r);this.#o.set(e,s),this.#o.set(i,s);const o=this.#p(r);return this.#y(n,o),s}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,i;if(e?([n]=this.#d([e]),i=`luminosity_${n}`):i="luminosity",t=this.#o.get(i),t)return this.#o.set(e,t),t;const r=`g_${this.#i}_luminosity_map_${this.#a++}`,s=this.#u(r);this.#o.set(e,s),this.#o.set(i,s);const o=this.#p(r);return this.#f(o),e&&this.#y(n,o),s}addHighlightHCMFilter(e,t,n,i,r){const s=`${t}-${n}-${i}-${r}`;let o=this.#l.get(e);if(o?.key===s||(o?(o.filter?.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},this.#l.set(e,o)),!t||!n))return o.url;const[l,h]=[t,n].map(this.#b.bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,m]=[i,r].map(this.#b.bind(this));p<d&&([d,p,g,m]=[p,d,m,g]),this.#c.style.color="";const v=(x,_,w)=>{const S=new Array(256),E=(p-d)/w,C=x/255,R=(_-x)/(255*w);let N=0;for(let F=0;F<=w;F++){const I=Math.round(d+F*E),q=C+F*R;for(let L=N;L<=I;L++)S[L]=q;N=I+1}for(let F=N;F<256;F++)S[F]=S[N-1];return S.join(",")},y=`g_${this.#i}_hcm_${e}_filter`,A=o.filter=this.#p(y);return this.#g(A),this.#m(v(g[0],m[0],5),v(g[1],m[1],5),v(g[2],m[2],5),A),o.url=this.#u(y),o.url}destroy(e=!1){e&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#a=0)}#f(e){const t=this.#s.createElementNS(Pr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#s.createElementNS(Pr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#s.createElementNS(Pr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#h(e,t,n){const i=this.#s.createElementNS(Pr,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#m(e,t,n,i){const r=this.#s.createElementNS(Pr,"feComponentTransfer");i.append(r),this.#h(r,"feFuncR",e),this.#h(r,"feFuncG",t),this.#h(r,"feFuncB",n)}#y(e,t){const n=this.#s.createElementNS(Pr,"feComponentTransfer");t.append(n),this.#h(n,"feFuncA",e)}#b(e){return this.#c.style.color=e,mb(getComputedStyle(this.#c).getPropertyValue("color"))}},mD=class{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){kt("Abstract method `_fetch` called.")}},O2=class extends mD{async _fetch(e){const t=await Oo(e,"arraybuffer");return new Uint8Array(t)}},bD=class{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){kt("Abstract method `_fetch` called.")}},B2=class extends bD{async _fetch(e){const t=await Oo(e,"arraybuffer");return new Uint8Array(t)}};Xn&&st("Please use the `legacy` build in Node.js environments.");async function vb(u){const t=await process.getBuiltinModule("fs").promises.readFile(u);return new Uint8Array(t)}let Q3=class extends gD{},J3=class extends fD{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}},eR=class extends pD{async _fetch(e){return vb(e)}},tR=class extends mD{async _fetch(e){return vb(e)}},nR=class extends bD{async _fetch(e){return vb(e)}};const Ln={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function zm(u,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),u.clip(i)}let Ab=class{isModifyingCurrentTransform(){return!1}getPattern(){kt("Abstract method `getPattern` called.")}},iR=class extends Ab{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===Ln.STROKE||i===Ln.FILL){const s=t.current.getClippedPathBoundingBox(i,Gt(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,h=t.cachedCanvases.getCanvas("pattern",o,l),d=h.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-s[0],-s[1]),n=$e.transform(n,[1,0,0,1,s[0],s[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),zm(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);r.setTransform(p)}else zm(e,this._bbox),r=this._createGradient(e);return r}};function bg(u,e,t,n,i,r,s,o){const l=e.coords,h=e.colors,d=u.data,p=u.width*4;let g;l[t+1]>l[n+1]&&(g=t,t=n,n=g,g=r,r=s,s=g),l[n+1]>l[i+1]&&(g=n,n=i,i=g,g=s,s=o,o=g),l[t+1]>l[n+1]&&(g=t,t=n,n=g,g=r,r=s,s=g);const m=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,y=(l[n]+e.offsetX)*e.scaleX,A=(l[n+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,_=(l[i+1]+e.offsetY)*e.scaleY;if(v>=_)return;const w=h[r],S=h[r+1],E=h[r+2],C=h[s],R=h[s+1],N=h[s+2],F=h[o],I=h[o+1],q=h[o+2],L=Math.round(v),H=Math.round(_);let k,Z,M,O,K,Q,z,P;for(let V=L;V<=H;V++){if(V<A){const ve=V<v?0:(v-V)/(v-A);k=m-(m-y)*ve,Z=w-(w-C)*ve,M=S-(S-R)*ve,O=E-(E-N)*ve}else{let ve;V>_?ve=1:A===_?ve=0:ve=(A-V)/(A-_),k=y-(y-x)*ve,Z=C-(C-F)*ve,M=R-(R-I)*ve,O=N-(N-q)*ve}let $;V<v?$=0:V>_?$=1:$=(v-V)/(v-_),K=m-(m-x)*$,Q=w-(w-F)*$,z=S-(S-I)*$,P=E-(E-q)*$;const se=Math.round(Math.min(k,K)),le=Math.round(Math.max(k,K));let ye=p*V+se*4;for(let ve=se;ve<=le;ve++)$=(k-ve)/(k-K),$<0?$=0:$>1&&($=1),d[ye++]=Z-(Z-Q)*$|0,d[ye++]=M-(M-z)*$|0,d[ye++]=O-(O-P)*$|0,d[ye++]=255}}function rR(u,e,t){const n=e.coords,i=e.colors;let r,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,h=o-1;for(r=0;r<l;r++){let d=r*o;for(let p=0;p<h;p++,d++)bg(u,t,n[d],n[d+1],n[d+o],i[d],i[d+1],i[d+o]),bg(u,t,n[d+o+1],n[d+1],n[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(r=0,s=n.length;r<s;r+=3)bg(u,t,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}let sR=class extends Ab{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=h/p,v=d/g,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/v},A=p+4,x=g+4,_=n.getCanvas("mesh",A,x),w=_.context,S=w.createImageData(p,g);if(t){const C=S.data;for(let R=0,N=C.length;R<N;R+=4)C[R]=t[0],C[R+1]=t[1],C[R+2]=t[2],C[R+3]=255}for(const C of this._figures)rR(S,C,y);return w.putImageData(S,2,2),{canvas:_.canvas,offsetX:o-2*m,offsetY:l-2*v,scaleX:m,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){zm(e,this._bbox);const r=new Float32Array(2);if(i===Ln.SHADING)$e.singularValueDecompose2dScale(Gt(e),r);else if(this.matrix){$e.singularValueDecompose2dScale(this.matrix,r);const[o,l]=r;$e.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=o,r[1]*=l}else $e.singularValueDecompose2dScale(t.baseTransform,r);const s=this._createMeshCanvas(r,i===Ln.SHADING?null:this._background,t.cachedCanvases);return i!==Ln.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}},aR=class extends Ab{getPattern(){return"hotpink"}};function oR(u){switch(u[0]){case"RadialAxial":return new iR(u);case"Mesh":return new sR(u);case"Dummy":return new aR}throw new Error(`Unknown IR type: ${u[0]}`)}const I2={COLORED:1,UNCOLORED:2};let cR=class yD{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:r,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:h}=this;l=Math.abs(l),h=Math.abs(h),hd("TilingType: "+r);const d=t[0],p=t[1],g=t[2],m=t[3],v=g-d,y=m-p,A=new Float32Array(2);$e.singularValueDecompose2dScale(this.matrix,A);const[x,_]=A;$e.singularValueDecompose2dScale(this.baseTransform,A);const w=x*A[0],S=_*A[1];let E=v,C=y,R=!1,N=!1;const F=Math.ceil(l*w),I=Math.ceil(h*S),q=Math.ceil(v*w),L=Math.ceil(y*S);F>=q?E=l:R=!0,I>=L?C=h:N=!0;const H=this.getSizeAndScale(E,this.ctx.canvas.width,w),k=this.getSizeAndScale(C,this.ctx.canvas.height,S),Z=e.cachedCanvases.getCanvas("pattern",H.size,k.size),M=Z.context,O=o.createCanvasGraphics(M);if(O.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(O,i,s),M.translate(-H.scale*d,-k.scale*p),O.transform(H.scale,0,0,k.scale,0,0),M.save(),this.clipBbox(O,d,p,g,m),O.baseTransform=Gt(O.ctx),O.executeOperatorList(n),O.endDrawing(),M.restore(),R||N){const K=Z.canvas;R&&(E=l),N&&(C=h);const Q=this.getSizeAndScale(E,this.ctx.canvas.width,w),z=this.getSizeAndScale(C,this.ctx.canvas.height,S),P=Q.size,V=z.size,$=e.cachedCanvases.getCanvas("pattern-workaround",P,V),se=$.context,le=R?Math.floor(v/l):0,ye=N?Math.floor(y/h):0;for(let ve=0;ve<=le;ve++)for(let Ee=0;Ee<=ye;Ee++)se.drawImage(K,P*ve,V*Ee,P,V,0,0,P,V);return{canvas:$.canvas,scaleX:Q.scale,scaleY:z.scale,offsetX:d,offsetY:p}}return{canvas:Z.canvas,scaleX:H.scale,scaleY:k.scale,offsetX:d,offsetY:p}}getSizeAndScale(e,t,n){const i=Math.max(yD.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const s=i-t,o=r-n;e.ctx.rect(t,n,s,o),$e.axialAlignedBoundingBox([t,n,i,r],Gt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case I2.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;i.fillStyle=r.fillColor=s,i.strokeStyle=r.strokeColor=o;break;case I2.UNCOLORED:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new C3(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i){let r=n;i!==Ln.SHADING&&(r=$e.transform(r,t.baseTransform),this.matrix&&(r=$e.transform(r,this.matrix)));const s=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}};function lR({src:u,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:s=!1}){const o=Cn.isLittleEndian?4278190080:255,[l,h]=s?[r,o]:[o,r],d=n>>3,p=n&7,g=u.length;t=new Uint32Array(t.buffer);let m=0;for(let v=0;v<i;v++){for(const A=e+d;e<A;e++){const x=e<g?u[e]:255;t[m++]=x&128?h:l,t[m++]=x&64?h:l,t[m++]=x&32?h:l,t[m++]=x&16?h:l,t[m++]=x&8?h:l,t[m++]=x&4?h:l,t[m++]=x&2?h:l,t[m++]=x&1?h:l}if(p===0)continue;const y=e<g?u[e++]:255;for(let A=0;A<p;A++)t[m++]=y&1<<7-A?h:l}return{srcPos:e,destPos:m}}const P2=16,W2=100,uR=15,z2=10,oi=16,yg=new DOMMatrix,Di=new Float32Array(2),Ao=new Float32Array([1/0,1/0,-1/0,-1/0]);function hR(u,e){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){e.save(),this.__originalSave()},u.restore=function(){e.restore(),this.__originalRestore()},u.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},u.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},u.transform=function(t,n,i,r,s,o){e.transform(t,n,i,r,s,o),this.__originalTransform(t,n,i,r,s,o)},u.setTransform=function(t,n,i,r,s,o){e.setTransform(t,n,i,r,s,o),this.__originalSetTransform(t,n,i,r,s,o)},u.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},u.rotate=function(t){e.rotate(t),this.__originalRotate(t)},u.clip=function(t){e.clip(t),this.__originalClip(t)},u.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},u.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},u.bezierCurveTo=function(t,n,i,r,s,o){e.bezierCurveTo(t,n,i,r,s,o),this.__originalBezierCurveTo(t,n,i,r,s,o)},u.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},u.closePath=function(){e.closePath(),this.__originalClosePath()},u.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}let dR=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function Ku(u,e,t,n,i,r,s,o,l,h){const[d,p,g,m,v,y]=Gt(u);if(p===0&&g===0){const _=s*d+v,w=Math.round(_),S=o*m+y,E=Math.round(S),C=(s+l)*d+v,R=Math.abs(Math.round(C)-w)||1,N=(o+h)*m+y,F=Math.abs(Math.round(N)-E)||1;return u.setTransform(Math.sign(d),0,0,Math.sign(m),w,E),u.drawImage(e,t,n,i,r,0,0,R,F),u.setTransform(d,p,g,m,v,y),[R,F]}if(d===0&&m===0){const _=o*g+v,w=Math.round(_),S=s*p+y,E=Math.round(S),C=(o+h)*g+v,R=Math.abs(Math.round(C)-w)||1,N=(s+l)*p+y,F=Math.abs(Math.round(N)-E)||1;return u.setTransform(0,Math.sign(p),Math.sign(g),0,w,E),u.drawImage(e,t,n,i,r,0,0,F,R),u.setTransform(d,p,g,m,v,y),[F,R]}u.drawImage(e,t,n,i,r,s,o,l,h);const A=Math.hypot(d,p),x=Math.hypot(g,m);return[A*l,x*h]}let H2=class{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Om;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Wn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t){this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Ao.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ln.FILL,t=null){const n=this.minMax.slice();if(e===Ln.STROKE){t||kt("Stroke bounding box must include transform."),$e.singularValueDecompose2dScale(t,Di);const i=Di[0]*this.lineWidth/2,r=Di[1]*this.lineWidth/2;n[0]-=i,n[1]-=r,n[2]+=i,n[3]+=r}return n}updateClipFromPath(){const e=$e.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Ao,0)}getClippedPathBoundingBox(e=Ln.FILL,t=null){return $e.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function j2(u,e){if(e instanceof ImageData){u.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%oi,r=(t-i)/oi,s=i===0?r:r+1,o=u.createImageData(n,oi);let l=0,h;const d=e.data,p=o.data;let g,m,v,y;if(e.kind===sl.GRAYSCALE_1BPP){const A=d.byteLength,x=new Uint32Array(p.buffer,0,p.byteLength>>2),_=x.length,w=n+7>>3,S=4294967295,E=Cn.isLittleEndian?4278190080:255;for(g=0;g<s;g++){for(v=g<r?oi:i,h=0,m=0;m<v;m++){const C=A-l;let R=0;const N=C>w?n:C*8-7,F=N&-8;let I=0,q=0;for(;R<F;R+=8)q=d[l++],x[h++]=q&128?S:E,x[h++]=q&64?S:E,x[h++]=q&32?S:E,x[h++]=q&16?S:E,x[h++]=q&8?S:E,x[h++]=q&4?S:E,x[h++]=q&2?S:E,x[h++]=q&1?S:E;for(;R<N;R++)I===0&&(q=d[l++],I=128),x[h++]=q&I?S:E,I>>=1}for(;h<_;)x[h++]=0;u.putImageData(o,0,g*oi)}}else if(e.kind===sl.RGBA_32BPP){for(m=0,y=n*oi*4,g=0;g<r;g++)p.set(d.subarray(l,l+y)),l+=y,u.putImageData(o,0,m),m+=oi;g<s&&(y=n*i*4,p.set(d.subarray(l,l+y)),u.putImageData(o,0,m))}else if(e.kind===sl.RGB_24BPP)for(v=oi,y=n*v,g=0;g<s;g++){for(g>=r&&(v=i,y=n*v),h=0,m=y;m--;)p[h++]=d[l++],p[h++]=d[l++],p[h++]=d[l++],p[h++]=255;u.putImageData(o,0,g*oi)}else throw new Error(`bad image kind: ${e.kind}`)}function q2(u,e){if(e.bitmap){u.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%oi,r=(t-i)/oi,s=i===0?r:r+1,o=u.createImageData(n,oi);let l=0;const h=e.data,d=o.data;for(let p=0;p<s;p++){const g=p<r?oi:i;({srcPos:l}=lR({src:h,srcPos:l,dest:d,width:n,height:g,nonBlackColor:0})),u.putImageData(o,0,p*oi)}}function Mc(u,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)u[n]!==void 0&&(e[n]=u[n]);u.setLineDash!==void 0&&(e.setLineDash(u.getLineDash()),e.lineDashOffset=u.lineDashOffset)}function Zu(u){u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0);const{filter:e}=u;e!=="none"&&e!==""&&(u.filter="none")}function G2(u,e){if(e)return!0;$e.singularValueDecompose2dScale(u,Di);const t=Math.fround(Cs.pixelRatio*pa.PDF_TO_CSS_UNITS);return Di[0]<=t&&Di[1]<=t}const fR=["butt","round","square"],pR=["miter","round","bevel"],gR={},$2={};let _h=class vD{constructor(e,t,n,i,r,{optionalContentConfig:s,markedContentStack:o=null},l,h){this.ctx=e,this.current=new H2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new dR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Gt(this.compositeCtx))}this.ctx.save(),Zu(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Gt(this.ctx)}executeOperatorList(e,t,n,i){const r=e.argsArray,s=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const h=l-o>z2&&typeof n=="function",d=h?Date.now()+uR:0;let p=0;const g=this.commonObjs,m=this.objs;let v;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(v=s[o],v!==ol.dependency)this[v].apply(this,r[o]);else for(const y of r[o]){const A=y.startsWith("g_")?g:m;if(!A.has(y))return A.get(y,n),o}if(o++,o===l)return o;if(h&&++p>z2){if(Date.now()>d)return n(),o;p=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,h="prescale1",d,p;for(;r>2&&o>1||s>2&&l>1;){let g=o,m=l;r>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/g),s>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/m),d=this.cachedCanvases.getCanvas(h,g,m),p=d.context,p.clearRect(0,0,g,m),p.drawImage(e,0,0,o,l,0,0,g,m),e=d.canvas,o=g,l=m,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,r=this.current.fillColor,s=this.current.patternFill,o=Gt(t);let l,h,d,p;if((e.bitmap||e.data)&&e.count>1){const F=e.bitmap||e.data.buffer;h=JSON.stringify(s?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(F),l||(l=new Map,this._cachedBitmapsMap.set(F,l));const I=l.get(h);if(I&&!s){const q=Math.round(Math.min(o[0],o[2])+o[4]),L=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:I,offsetX:q,offsetY:L}}d=I}d||(p=this.cachedCanvases.getCanvas("maskCanvas",n,i),q2(p.context,e));let g=$e.transform(o,[1/n,0,0,-1/i,0,0]);g=$e.transform(g,[1,0,0,1,0,-i]);const m=Ao.slice();$e.axialAlignedBoundingBox([0,0,n,i],g,m);const[v,y,A,x]=m,_=Math.round(A-v)||1,w=Math.round(x-y)||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,w),E=S.context,C=v,R=y;E.translate(-C,-R),E.transform(...g),d||(d=this._scaleImage(p.canvas,ur(E)),d=d.img,l&&s&&l.set(h,d)),E.imageSmoothingEnabled=G2(Gt(E),e.interpolate),Ku(E,d,0,0,d.width,d.height,0,0,n,i),E.globalCompositeOperation="source-in";const N=$e.transform(ur(E),[1,0,0,1,-C,-R]);return E.fillStyle=s?r.getPattern(t,this,N,Ln.FILL):r,E.fillRect(0,0,n,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(h,S.canvas)),{canvas:S.canvas,offsetX:Math.round(C),offsetY:Math.round(R)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=fR[e]}setLineJoin(e){this.ctx.lineJoin=pR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const r=this.ctx=i.context;r.setTransform(this.suspendedCtx.getTransform()),Mc(this.suspendedCtx,r),hR(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Mc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],s=i[1],o=i[2]-r,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,r,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,s,o,l,h,d,p){let g=e.canvas,m=l-d,v=h-p;if(s)if(m<0||v<0||m+n>g.width||v+i>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,i),x=A.context;x.drawImage(g,-m,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=s,x.fillRect(0,0,n,i),x.globalCompositeOperation="source-over",g=A.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(m,v,n,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(m,v,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,h,n,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(g,m,v,n,i,l,h,n,i),t.restore()}save(){this.inSMaskMode&&Mc(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Mc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,r,s){this.ctx.transform(e,t,n,i,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[i]=t;if(!n){i||=t[0]=new Path2D,this[e](i);return}if(!(i instanceof Path2D)){const r=t[0]=new Path2D;for(let s=0,o=i.length;s<o;)switch(i[s++]){case Vu.moveTo:r.moveTo(i[s++],i[s++]);break;case Vu.lineTo:r.lineTo(i[s++],i[s++]);break;case Vu.curveTo:r.bezierCurveTo(i[s++],i[s++],i[s++],i[s++],i[s++],i[s++]);break;case Vu.closePath:r.closePath();break;default:st(`Unrecognized drawing path operator: ${i[s-1]}`);break}i=r}$e.axialAlignedBoundingBox(n,Gt(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,i=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&i?.getPattern){const r=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=i.getPattern(n,this,ur(n),Ln.STROKE),r){const s=new Path2D;s.addPath(e,n.getTransform().invertSelf().multiplySelf(r)),e=s}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Ln.STROKE,Gt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;if(r){const l=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=i.getPattern(n,this,ur(n),Ln.FILL),l){const h=new Path2D;h.addPath(e,n.getTransform().invertSelf().multiplySelf(l)),e=h}s=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),s&&n.restore(),t&&this.consumePath(e,o)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=gR}eoClip(){this.pendingClip=$2}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,i=t.getTransform().invertSelf();for(const{transform:r,x:s,y:o,fontSize:l,path:h}of e)n.addPath(h,new DOMMatrix(r).preMultiplySelf(i).translate(s,o).scale(l,-l));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||Om,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&st("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const r=n.loadedName||"sans-serif",s=n.systemFontInfo?.css||`"${r}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let h=t;t<P2?h=P2:t>W2&&(h=W2),this.current.fontSizeScale=t/h,this.ctx.font=`${l} ${o} ${h}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i}paintChar(e,t,n,i,r){const s=this.ctx,o=this.current,l=o.font,h=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,p=h&Wn.FILL_STROKE_MASK,g=!!(h&Wn.ADD_TO_PATH_FLAG),m=o.patternFill&&!l.missingFile,v=o.patternStroke&&!l.missingFile;let y;if((l.disableFontFace||g||m||v)&&(y=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||m||v){s.save(),s.translate(t,n),s.scale(d,-d);let A;if((p===Wn.FILL||p===Wn.FILL_STROKE)&&(i?(A=s.getTransform(),s.setTransform(...i),s.fill(this.#n(y,A,i))):s.fill(y)),p===Wn.STROKE||p===Wn.FILL_STROKE)if(r){A||=s.getTransform(),s.setTransform(...r);const{a:x,b:_,c:w,d:S}=A,E=$e.inverseTransform(r),C=$e.transform([x,_,w,S,0,0],E);$e.singularValueDecompose2dScale(C,Di),s.lineWidth*=Math.max(Di[0],Di[1])/d,s.stroke(this.#n(y,A,r))}else s.lineWidth/=d,s.stroke(y);s.restore()}else(p===Wn.FILL||p===Wn.FILL_STROKE)&&s.fillText(e,t,n),(p===Wn.STROKE||p===Wn.FILL_STROKE)&&s.strokeText(e,t,n);g&&(this.pendingTextPaths||=[]).push({transform:Gt(s),x:t,y:n,fontSize:d,path:y})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return gt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const r=this.ctx,s=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,p=e.length,g=n.vertical,m=g?1:-1,v=n.defaultVMetrics,y=i*t.fontMatrix[0],A=t.textRenderingMode===Wn.FILL&&!n.disableFontFace&&!t.patternFill;r.save(),t.textMatrix&&r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),h>0?r.scale(d,-1):r.scale(d,1);let x,_;if(t.patternFill){r.save();const R=t.fillColor.getPattern(r,this,ur(r),Ln.FILL);x=Gt(r),r.restore(),r.fillStyle=R}if(t.patternStroke){r.save();const R=t.strokeColor.getPattern(r,this,ur(r),Ln.STROKE);_=Gt(r),r.restore(),r.strokeStyle=R}let w=t.lineWidth;const S=t.textMatrixScale;if(S===0||w===0){const R=t.textRenderingMode&Wn.FILL_STROKE_MASK;(R===Wn.STROKE||R===Wn.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=S;if(s!==1&&(r.scale(s,s),w/=s),r.lineWidth=w,n.isInvalidPDFjsFont){const R=[];let N=0;for(const F of e)R.push(F.unicode),N+=F.width;r.fillText(R.join(""),0,0),t.x+=N*y*d,r.restore(),this.compose();return}let E=0,C;for(C=0;C<p;++C){const R=e[C];if(typeof R=="number"){E+=m*R*i/1e3;continue}let N=!1;const F=(R.isSpace?l:0)+o,I=R.fontChar,q=R.accent;let L,H,k=R.width;if(g){const M=R.vmetric||v,O=-(R.vmetric?M[1]:k*.5)*y,K=M[2]*y;k=M?-M[0]:k,L=O/s,H=(E+K)/s}else L=E/s,H=0;if(n.remeasure&&k>0){const M=r.measureText(I).width*1e3/i*s;if(k<M&&this.isFontSubpixelAAEnabled){const O=k/M;N=!0,r.save(),r.scale(O,1),L/=O}else k!==M&&(L+=(k-M)/2e3*i/s)}if(this.contentVisible&&(R.isInFont||n.missingFile)){if(A&&!q)r.fillText(I,L,H);else if(this.paintChar(I,L,H,x,_),q){const M=L+i*q.offset.x/s,O=H-i*q.offset.y/s;this.paintChar(q.fontChar,M,O,x,_)}}const Z=g?k*y-F*h:k*y+F*h;E+=Z,N&&r.restore()}g?t.y-=E:t.x+=E*d,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,r=n.fontSize,s=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,h=n.wordSpacing,d=n.textHScale*s,p=n.fontMatrix||Om,g=e.length,m=n.textRenderingMode===Wn.INVISIBLE;let v,y,A,x;if(!(m||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(d,s),v=0;v<g;++v){if(y=e[v],typeof y=="number"){x=o*y*r/1e3,this.ctx.translate(x,0),n.x+=x*d;continue}const _=(y.isSpace?h:0)+l,w=i.charProcOperatorList[y.operatorListId];w?this.contentVisible&&(this.save(),t.scale(r,r),t.transform(...p),this.executeOperatorList(w),this.restore()):st(`Type3 character "${y.operatorListId}" is not available.`);const S=[y.width,0];$e.applyTransform(S,p),A=S[0]*r+_,t.translate(A,0),n.x+=A*d}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,r,s){const o=new Path2D;o.rect(n,i,r-n,s-i),this.ctx.clip(o),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Gt(this.ctx),i={createCanvasGraphics:r=>new vD(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new cR(e,this.ctx,i,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=oR(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,ur(t),Ln.SHADING);const i=ur(t);if(i){const{width:r,height:s}=t.canvas,o=Ao.slice();$e.axialAlignedBoundingBox([0,0,r,s],i,o);const[l,h,d,p]=o;this.ctx.fillRect(l,h,d-l,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){kt("Should not call beginInlineImage")}beginImageData(){kt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Gt(this.ctx),t)){$e.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,i,r,s]=t,o=new Path2D;o.rect(n,i,r-n,s-i),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||hd("TODO: Support non-isolated groups."),e.knockout&&st("Knockout groups not supported.");const n=Gt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ao.slice();$e.axialAlignedBoundingBox(e.bbox,Gt(t),i);const r=[0,0,t.canvas.width,t.canvas.height];i=$e.intersect(i,r)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),h=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,h]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(d,l,h),g=p.context;g.translate(-s,-o),g.transform(...n);let m=new Path2D;const[v,y,A,x]=e.bbox;if(m.rect(v,y,A-v,x-y),e.matrix){const _=new Path2D;_.addPath(m,new DOMMatrix(e.matrix)),m=_}g.clip(m),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,o),t.save()),Mc(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Gt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=Ao.slice();$e.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,r),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,n,i,r){if(this.#e(),Zu(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const s=t[2]-t[0],o=t[3]-t[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=s,t[3]=o,$e.singularValueDecompose2dScale(Gt(this.ctx),Di);const{viewportScale:l}=this,h=Math.ceil(s*this.outputScaleX*l),d=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Di[0],0,0,-Di[1],0,o*Di[1]),Zu(this.ctx)}else{Zu(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],s,o),this.ctx.clip(l)}}this.current=new H2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this._createMaskCanvas(e),r=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(r,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,r,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Gt(o);o.transform(t,n,i,r,0,0);const h=this._createMaskCanvas(e);o.setTransform(1,0,0,1,h.offsetX-l[4],h.offsetY-l[5]);for(let d=0,p=s.length;d<p;d+=2){const g=$e.transform(l,[t,n,i,r,s[d],s[d+1]]);o.drawImage(h.canvas,g[4],g[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:s,width:o,height:l,transform:h}=r,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),p=d.context;p.save();const g=this.getObject(s,r);q2(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?n.getPattern(p,this,ur(t),Ln.FILL):n,p.fillRect(0,0,o,l),p.restore(),t.save(),t.transform(...h),t.scale(1,-1),Ku(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){st("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){st("Dependent image isn't ready yet");return}const s=r.width,o=r.height,l=[];for(let h=0,d=i.length;h<d;h+=2)l.push({transform:[t,0,0,n,i[h],i[h+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;this.save();const{filter:r}=i;r!=="none"&&r!==""&&(i.filter="none"),i.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,n).context;j2(h,e),s=this.applyTransferMapsToCanvas(h)}const o=this._scaleImage(s,ur(i));i.imageSmoothingEnabled=G2(Gt(i),e.interpolate),Ku(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const r=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,s).context;j2(l,e),i=this.applyTransferMapsToCanvas(l)}for(const r of t)n.save(),n.transform(...r.transform),n.scale(1,-1),Ku(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===$2?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Gt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let s,o;if(n===0&&i===0){const l=Math.abs(t),h=Math.abs(r);if(l===h)if(e===0)s=o=1/l;else{const d=l*e;s=o=d<1?1/d:1}else if(e===0)s=1/l,o=1/h;else{const d=l*e,p=h*e;s=d<1?1/d:1,o=p<1?1/p:1}}else{const l=Math.abs(t*r-n*i),h=Math.hypot(t,n),d=Math.hypot(i,r);if(e===0)s=d/l,o=h/l;else{const p=e*l;s=d>p?d/p:1,o=h>p?h/p:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[r,s]=this.getScaleForStroking();if(r===s){n.lineWidth=(i||1)*r,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(r,s),yg.a=1/r,yg.d=1/s;const l=new Path2D;if(l.addPath(e,yg),o.length>0){const h=Math.max(r,s);n.setLineDash(o.map(d=>d/h)),n.lineDashOffset/=h}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(const u in ol)_h.prototype[u]!==void 0&&(_h.prototype[ol[u]]=_h.prototype[u]);let Ts=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},mR=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}};const mo=Symbol("INTERNAL");let bR=class{#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:n,usage:i,rbGroups:r}){this.#e=!!(e&xi.DISPLAY),this.#t=!!(e&xi.PRINT),this.name=t,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==mo&&kt("Internal method `_setVisible` called."),this.#n=n,this.#i=t}},yR=class{#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=xi.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(const n of e.groups)this.#t.set(n.id,new bR(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(mo,!1);for(const n of e.on)this.#t.get(n)._setVisible(mo,!0);for(const n of e.off)this.#t.get(n)._setVisible(mo,!1);this.#n=this.getHash()}}#s(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const r=e[i];let s;if(Array.isArray(r))s=this.#s(r);else if(this.#t.has(r))s=this.#t.get(r).visible;else return st(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return hd("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(st(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return st(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return st(`Unknown optional content policy ${e.policy}.`),!0}return st(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const i=this.#t.get(e);if(!i){st(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const r of i.rbGroups)for(const s of r)s!==e&&this.#t.get(s)?._setVisible(mo,!1,!0);i._setVisible(mo,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=this.#t.get(i);if(r)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new uD;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}},vR=class{constructor(e,{disableRange:t=!1,disableStream:n=!1}){hn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,r?.length>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,h)=>{this._onReceiveData({begin:l,chunk:h})}),e.addProgressListener((l,h)=>{this._onProgress({loaded:l,total:h})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(n),!0)});hn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){hn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new AR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new xR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},AR=class{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=fd(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},xR=class{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function _R(u){let e=!0,t=n("filename\\*","i").exec(u);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=h(d),r(d)}if(t=s(u),t){const d=h(t);return r(d)}if(t=n("filename","i").exec(u),t){t=t[1];let d=o(t);return d=h(d),r(d)}function n(d,p){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(d,p){if(d){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(d,{fatal:!0}),m=_l(p);p=g.decode(m),e=!1}catch{}}return p}function r(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function s(d){const p=[];let g;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=m.exec(d))!==null;){let[,y,A,x]=g;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[A,x]}const v=[];for(let y=0;y<p.length&&y in p;++y){let[A,x]=p[y];x=o(x),A&&(x=unescape(x),y===0&&(x=l(x))),v.push(x)}return v.join("")}function o(d){if(d.startsWith('"')){const p=d.slice(1).split('\\"');for(let g=0;g<p.length;++g){const m=p[g].indexOf('"');m!==-1&&(p[g]=p[g].slice(0,m),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}d=p.join('"')}return d}function l(d){const p=d.indexOf("'");if(p===-1)return d;const g=d.slice(0,p),v=d.slice(p+1).replace(/^[^']*'/,"");return i(g,v)}function h(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,A){return String.fromCharCode(parseInt(A,16))}),i(g,v);try{v=atob(v)}catch{}return i(g,v)})}return""}function AD(u,e){const t=new Headers;if(!u||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function pd(u){return URL.parse(u)?.origin??null}function xD({responseHeaders:u,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(u.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||n||!e||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function _D(u){const e=u.get("Content-Disposition");if(e){let t=_R(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(fd(t))return t}return null}function El(u,e){return new cl(`Unexpected server response (${u}) while retrieving PDF "${e}".`,u,u===404||u===0&&e.startsWith("file:"))}function DD(u){return u===200||u===206}function wD(u,e,t){return{method:"GET",headers:u,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function ED(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(st(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}let DR=class{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=AD(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return hn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new ER(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}},wR=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,wD(n,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=pd(r.url),!DD(r.status))throw El(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=r.headers,{allowRangeRequests:o,suggestedLength:l}=xD({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=_D(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Gr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:ED(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},ER=class{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,wD(r,this._withCredentials,this._abortController)).then(o=>{const l=pd(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!DD(o.status))throw El(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:ED(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}};const vg=200,Ag=206;function TR(u){const e=u.response;return typeof e!="string"?e:_l(e).buffer}let SR=class{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=AD(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,s]of this.headers)t.setRequestHeader(r,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Ag):i.expectedStatus=vg,t.responseType="arraybuffer",hn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const r=i.status||vg;if(!(r===vg&&n.expectedStatus===Ag)&&r!==n.expectedStatus){n.onError(i.status);return}const o=TR(i);if(r===Ag){const l=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);h?n.onDone({begin:parseInt(h[1],10),chunk:o}):(st('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},CR=class{constructor(e){this._source=e,this._manager=new SR(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return hn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new RR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new UR(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}},RR=class{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=pd(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...h]=o.split(": ");return[l,h.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:s}=xD({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=_D(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=El(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},UR=class{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=pd(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=El(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}};const kR=/^[a-z][a-z0-9\-+.]+:/i;function FR(u){if(kR.test(u))return new URL(u);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(u))}let MR=class{constructor(e){this.source=e,this.url=FR(e.url),hn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return hn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new LR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new NR(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}},LR=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=El(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Gr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},NR=class{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}};const Lc=Symbol("INITIAL_DATA");let TD=class{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Lc}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const n=this.#e[e];if(!n||n.data===Lc)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Lc}delete(e){const t=this.#e[e];return!t||t.data===Lc?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Lc&&(yield[e,t])}}};const OR=1e5,V2=30;let ll=class Hi{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#a=0;#o=0;#l=null;#c=null;#d=0;#u=0;#f=Object.create(null);#g=[];#p=null;#h=[];#m=new WeakMap;#y=null;static#b=new Map;static#A=new Map;static#x=new WeakMap;static#v=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#u=n.scale*Cs.pixelRatio,this.#d=n.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:r,pageX:s,pageY:o}=n.rawDims;this.#y=[1,0,0,-1,-s,o+r],this.#o=i,this.#a=r,Hi.#F(),Ss(t,n),this.#e.promise.finally(()=>{Hi.#w.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Cn.platform;return gt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#l.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#f,t.styles),this.#C(t.items),e()},this.#e.reject)};return this.#l=this.#p.getReader(),Hi.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Cs.pixelRatio,i=e.rotation;if(i!==this.#d&&(t?.(),this.#d=i,Ss(this.#c,{rotation:i})),n!==this.#u){t?.(),this.#u=n;const r={div:null,properties:null,ctx:Hi.#k(this.#s)};for(const s of this.#h)r.properties=this.#m.get(s),r.div=s,this.#D(r)}}cancel(){const e=new Gr("TextLayer task cancelled.");this.#l?.cancel(e).catch(()=>{}),this.#l=null,this.#e.reject(e)}get textDivs(){return this.#h}get textContentItemsStr(){return this.#g}#C(e){if(this.#n)return;this.#r.ctx??=Hi.#k(this.#s);const t=this.#h,n=this.#g;for(const i of e){if(t.length>OR){st("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const r=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id!==null&&this.#t.setAttribute("id",`${i.id}`),r.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(i.str),this.#T(i)}}#T(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#h.push(t);const i=$e.transform(this.#y,e.transform);let r=Math.atan2(i[1],i[0]);const s=this.#f[e.fontName];s.vertical&&(r+=Math.PI/2);let o=this.#i&&s.fontSubstitution||s.fontFamily;o=Hi.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),h=l*Hi.#L(o,s,this.#s);let d,p;r===0?(d=i[4],p=i[5]-h):(d=i[4]+h*Math.sin(r),p=i[5]-h*Math.cos(r));const g="calc(var(--total-scale-factor) *",m=t.style;this.#t===this.#c?(m.left=`${(100*d/this.#o).toFixed(2)}%`,m.top=`${(100*p/this.#a).toFixed(2)}%`):(m.left=`${g}${d.toFixed(2)}px)`,m.top=`${g}${p.toFixed(2)}px)`),m.fontSize=`${g}${(Hi.#v*l).toFixed(2)}px)`,m.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);y!==A&&Math.max(y,A)/Math.min(y,A)>1.5&&(v=!0)}if(v&&(n.canvasWidth=s.vertical?e.height:e.width),this.#m.set(t,n),this.#r.div=t,this.#r.properties=n,this.#D(this.#r),n.hasText&&this.#t.append(t),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#t.append(y)}}#D(e){const{div:t,properties:n,ctx:i}=e,{style:r}=t;let s="";if(Hi.#v>1&&(s=`scale(${1/Hi.#v})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=r,{canvasWidth:l,fontSize:h}=n;Hi.#E(i,h*this.#u,o);const{width:d}=i.measureText(t.textContent);d>0&&(s=`scaleX(${l*this.#u/d}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(r.transform=s)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#A.values())e.remove();this.#A.clear()}}static#k(e=null){let t=this.#A.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#A.set(e,t),this.#x.set(t,{size:0,family:""})}return t}static#E(e,t,n){const i=this.#x.get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)}static#F(){if(this.#v!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#v=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const i=this.#b.get(e);if(i)return i;const r=this.#k(n);r.canvas.width=r.canvas.height=V2,this.#E(r,V2,e);const s=r.measureText(""),o=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let h=.8;return o?h=o/(o+l):(Cn.platform.isFirefox&&st("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#b.set(e,h),h}},Hm=class SD{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(r){if(!r)return;let s=null;const o=r.name;if(o==="#text")s=r.value;else if(SD.shouldBuildText(o))r?.attributes?.textContent?s=r.attributes.textContent:r.value&&(s=r.value);else return;if(s!==null&&t.push({str:s}),!!r.children)for(const l of r.children)i(l)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}};const BR=100;function xb(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const e=new IR,{docId:t}=e,n=u.url?$3(u.url):null,i=u.data?V3(u.data):null,r=u.httpHeaders||null,s=u.withCredentials===!0,o=u.password??null,l=u.range instanceof _b?u.range:null,h=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:2**16;let d=u.worker instanceof Zh?u.worker:null;const p=u.verbosity,g=typeof u.docBaseUrl=="string"&&!Dl(u.docBaseUrl)?u.docBaseUrl:null,m=Xu(u.cMapUrl),v=u.cMapPacked!==!1,y=u.CMapReaderFactory||(Xn?eR:N2),A=Xu(u.iccUrl),x=Xu(u.standardFontDataUrl),_=u.StandardFontDataFactory||(Xn?tR:O2),w=Xu(u.wasmUrl),S=u.WasmFactory||(Xn?nR:B2),E=u.stopAtErrors!==!0,C=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,R=u.isEvalSupported!==!1,N=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!Xn,F=typeof u.isImageDecoderSupported=="boolean"?u.isImageDecoderSupported:!Xn&&(Cn.platform.isFirefox||!globalThis.chrome),I=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,q=typeof u.disableFontFace=="boolean"?u.disableFontFace:Xn,L=u.fontExtraProperties===!0,H=u.enableXfa===!0,k=u.ownerDocument||globalThis.document,Z=u.disableRange===!0,M=u.disableStream===!0,O=u.disableAutoFetch===!0,K=u.pdfBug===!0,Q=u.CanvasFactory||(Xn?J3:K3),z=u.FilterFactory||(Xn?Q3:Z3),P=u.enableHWA===!0,V=u.useWasm!==!1,$=l?l.length:u.length??NaN,se=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!Xn&&!q,le=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:!!(y===N2&&_===O2&&S===B2&&m&&x&&w&&Zc(m,document.baseURI)&&Zc(x,document.baseURI)&&Zc(w,document.baseURI)),ye=null;E3(p);const ve={canvasFactory:new Q({ownerDocument:k,enableHWA:P}),filterFactory:new z({docId:t,ownerDocument:k}),cMapReaderFactory:le?null:new y({baseUrl:m,isCompressed:v}),standardFontDataFactory:le?null:new _({baseUrl:x}),wasmFactory:le?null:new S({baseUrl:w})};d||(d=Zh.create({verbosity:p,port:Ts.workerPort}),e._worker=d);const Ee={docId:t,apiVersion:"5.3.93",data:i,password:o,disableAutoFetch:O,rangeChunkSize:h,length:$,docBaseUrl:g,enableXfa:H,evaluatorOptions:{maxImageSize:C,disableFontFace:q,ignoreErrors:E,isEvalSupported:R,isOffscreenCanvasSupported:N,isImageDecoderSupported:F,canvasMaxAreaInBytes:I,fontExtraProperties:L,useSystemFonts:se,useWasm:V,useWorkerFetch:le,cMapUrl:m,iccUrl:A,standardFontDataUrl:x,wasmUrl:w}},Fe={ownerDocument:k,pdfBug:K,styleElement:ye,loadingParams:{disableAutoFetch:O,enableXfa:H}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ue=d.messageHandler.sendWithPromise("GetDocRequest",Ee,i?[i.buffer]:null);let Oe;if(l)Oe=new vR(l,{disableRange:Z,disableStream:M});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ve=Zc(n)?DR:Xn?MR:CR;Oe=new Ve({url:n,length:$,httpHeaders:r,withCredentials:s,rangeChunkSize:h,disableRange:Z,disableStream:M})}return Ue.then(Ve=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Be=new Qc(t,Ve,d.port),U=new zR(Be,e,Oe,Fe,ve);e._transport=U,Be.send("Ready",null)})}).catch(e._capability.reject),e}let IR=class CD{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${CD.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}},_b=class{#e=Promise.withResolvers();#t=[];#n=[];#i=[];#s=[];constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#i.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#s)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#i)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){kt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},PR=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return gt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},WR=class{#e=!1;constructor(e,t,n,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new k2:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new TD,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new pb({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return gt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=yr.ENABLE,transform:r=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:p=!1}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(n,i,d,p),{renderingIntent:m,cacheKey:v}=g;this.#e=!1,o||=this._transport.getOptionalContentConfig(m);let y=this._intentStates.get(v);y||(y=Object.create(null),this._intentStates.set(v,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const A=!!(m&xi.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const x=S=>{y.renderTasks.delete(_),A&&(this.#e=!0),this.#t(),S?(_.capability.reject(S),this._abortOperatorList({intentState:y,reason:S instanceof Error?S:new Error(S)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new jR({callback:x,params:{canvasContext:e,viewport:t,transform:r,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:h});(y.renderTasks||=new Set).add(_);const w=_.task;return Promise.all([y.displayReadyCapability.promise,o]).then(([S,E])=>{if(this.destroyed){x();return}if(this._stats?.time("Rendering"),!(E.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:S,optionalContentConfig:E}),_.operatorListChanged()}).catch(x),w}getOperatorList({intent:e="display",annotationMode:t=yr.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Hm.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function r(){s.read().then(function({value:l,done:h}){if(h){n(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},i)}const s=t.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new k2),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},s).getReader(),h=this._intentStates.get(t);h.streamReader=l;const d=()=>{l.read().then(({value:p,done:g})=>{if(g){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),d())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof dd){let i=BR;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Gr(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}};var Ds,tr,jr,oa,Lt,ad,ca,la,Zn,Dh,RD,UD,Jc,Ro,wh;let Zh=(Lt=class{constructor({name:e=null,port:t=null,verbosity:n=T3()}={}){gn(this,Zn);gn(this,Ds,Promise.withResolvers());gn(this,tr,null);gn(this,jr,null);gn(this,oa,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(nt(Lt,la).has(t))throw new Error("Cannot use more than one PDFWorker per port.");nt(Lt,la).set(t,this),mn(this,Zn,RD).call(this,t)}else mn(this,Zn,UD).call(this)}get promise(){return nt(this,Ds).promise}get port(){return nt(this,jr)}get messageHandler(){return nt(this,tr)}destroy(){this.destroyed=!0,nt(this,oa)?.terminate(),Bt(this,oa,null),nt(Lt,la).delete(nt(this,jr)),Bt(this,jr,null),nt(this,tr)?.destroy(),Bt(this,tr,null)}static create(e){const t=nt(this,la).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Lt(e)}static get workerSrc(){if(Ts.workerSrc)return Ts.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return gt(this,"_setupFakeWorkerGlobal",(async()=>nt(this,Ro,wh)?nt(this,Ro,wh):(await import(this.workerSrc)).WorkerMessageHandler)())}},Ds=new WeakMap,tr=new WeakMap,jr=new WeakMap,oa=new WeakMap,ad=new WeakMap,ca=new WeakMap,la=new WeakMap,Zn=new WeakSet,Dh=function(){nt(this,Ds).resolve(),nt(this,tr).send("configure",{verbosity:this.verbosity})},RD=function(e){Bt(this,jr,e),Bt(this,tr,new Qc("main","worker",e)),nt(this,tr).on("ready",()=>{}),mn(this,Zn,Dh).call(this)},UD=function(){if(nt(Lt,ca)||nt(Lt,Ro,wh)){mn(this,Zn,Jc).call(this);return}let{workerSrc:e}=Lt;try{Lt._isSameOrigin(window.location,e)||(e=Lt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Qc("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?nt(this,Ds).reject(new Error("Worker was destroyed")):mn(this,Zn,Jc).call(this)},r=new AbortController;t.addEventListener("error",()=>{nt(this,oa)||i()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}Bt(this,tr,n),Bt(this,jr,t),Bt(this,oa,t),mn(this,Zn,Dh).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{s()}catch{mn(this,Zn,Jc).call(this)}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{hd("The worker has been disabled.")}mn(this,Zn,Jc).call(this)},Jc=function(){nt(Lt,ca)||(st("Setting up fake worker."),Bt(Lt,ca,!0)),Lt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){nt(this,Ds).reject(new Error("Worker was destroyed"));return}const t=new Y3;Bt(this,jr,t);const n=`fake${ag(Lt,ad)._++}`,i=new Qc(n+"_worker",n,t);e.setup(i,t),Bt(this,tr,new Qc(n,n+"_worker",t)),mn(this,Zn,Dh).call(this)}).catch(e=>{nt(this,Ds).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Ro=new WeakSet,wh=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},gn(Lt,Ro),gn(Lt,ad,0),gn(Lt,ca,!1),gn(Lt,la,new WeakMap),Xn&&(Bt(Lt,ca,!0),Ts.workerSrc||="./pdf.worker.mjs"),Lt._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},Lt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Lt.fromPort=e=>{if(N3("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Lt.create(e)},Lt),zR=class{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(e,t,n,i,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new TD,this.fontLoader=new q3({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(e,t=null){const n=this.#e.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return gt(this,"annotationStorage",new yb)}getRenderingIntent(e,t=yr.ENABLE,n=null,i=!1,r=!1){let s=xi.DISPLAY,o=Pm;switch(e){case"any":s=xi.ANY;break;case"display":break;case"print":s=xi.PRINT;break;default:st(`getRenderingIntent - invalid intent: ${e}`)}const l=s&xi.PRINT&&n instanceof hD?n:this.annotationStorage;switch(t){case yr.DISABLE:s+=xi.ANNOTATIONS_DISABLE;break;case yr.ENABLE:break;case yr.ENABLE_FORMS:s+=xi.ANNOTATIONS_FORMS;break;case yr.ENABLE_STORAGE:s+=xi.ANNOTATIONS_STORAGE,o=l.serializable;break;default:st(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=xi.IS_EDITING),r&&(s+=xi.OPLIST);const{ids:h,hash:d}=l.modifiedIds,p=[s,o.hash,d];return{renderingIntent:s,cacheKey:p.join("_"),annotationStorageSerializable:o,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),ll.cleanup(),this._networkStream?.cancelAllRequests(new Gr("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{hn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:s}){if(s){i.close();return}hn(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:s}=this._fullReader;return(!i||!r)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{hn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:s,done:o}){if(o){i.close();return}hn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{r.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PR(n,this))}),e.on("DocException",n=>{t._capability.reject(si(n))}),e.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!t.onPassword)throw si(n);const i=r=>{r instanceof Error?this.#s.reject(r):this.#s.resolve({password:r})};t.onPassword(i,n.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,r])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in r){const h=r.error;st(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const s=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,o=new G3(r,s);this.fontLoader.bind(o).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(n,o)});break;case"CopyLocalImage":const{imageRef:l}=r;hn(l,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,d]of h.objs)if(d?.ref===l)return d.dataLen?(this.commonObjs.resolve(n,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,r,s])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){s?.bitmap?.close();return}switch(r){case"Image":case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&st("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#i.set(r.refStr,e);const s=new WR(t,r,this,this._params.pdfBug);return this.#t.set(t,s),s});return this.#n.set(t,i),i}getPageIndex(e){return Wm(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(t=>new yR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new mR(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),ll.cleanup()}}cachedPageNumber(e){if(!Wm(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#i.get(t)??null}},HR=class{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},jR=class el{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:h,useRequestAnimationFrame:d=!1,pdfBug:p=!1,pageColors:g=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=h,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new HR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(el.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");el.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,background:s}=this.params;this.gfx=new _h(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),el.#t.delete(this._canvas),e||=new dd(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),el.#t.delete(this._canvas),this.callback())))}};const Db="5.3.93",kD="cbeef3233";function X2(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function Nc(u){return Math.max(0,Math.min(255,255*u))}let Y2=class{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Nc(e),[e,e,e]}static G_HTML([e]){const t=X2(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Nc)}static RGB_HTML(e){return`#${e.map(X2).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Nc(1-Math.min(1,e+i)),Nc(1-Math.min(1,n+i)),Nc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,s=1-n,o=Math.min(i,r,s);return["CMYK",i,r,s,o]}},qR=class{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){kt("Abstract method `_createSVG` called.")}},ul=class extends qR{_createSVG(e){return document.createElementNS(Pr,e)}},wb=class{static setupStorage(e,t,n,i,r){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,h=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:s}=t,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,h]of Object.entries(s))if(h!=null)switch(l){case"class":h.length&&e.setAttribute(l,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,h)}o&&r.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:r,linkService:n});const o=r!=="richText",l=e.div;if(l.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);s.append(p),o&&Hm.shouldBuildText(i.name)&&h.push(p)}return{textDivs:h}}const d=[[i,-1,s]];for(;d.length>0;){const[p,g,m]=d.at(-1);if(g+1===p.children.length){d.pop();continue}const v=p.children[++d.at(-1)[1]];if(v===null)continue;const{name:y}=v;if(y==="#text"){const x=document.createTextNode(v.value);h.push(x),m.append(x);continue}const A=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y);if(m.append(A),v.attributes&&this.setAttributes({html:A,element:v,storage:t,intent:r,linkService:n}),v.children?.length>0)d.push([v,-1,A]);else if(v.value){const x=document.createTextNode(v.value);o&&Hm.shouldBuildText(y)&&h.push(x),A.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const GR=9,ga=new WeakSet;let K2=class{static create(e){switch(e.data.annotationType){case Zt.LINK:return new MD(e);case Zt.TEXT:return new $R(e);case Zt.WIDGET:switch(e.data.fieldType){case"Tx":return new VR(e);case"Btn":return e.data.radioButton?new LD(e):e.data.checkBox?new YR(e):new KR(e);case"Ch":return new ZR(e);case"Sig":return new XR(e)}return new xa(e);case Zt.POPUP:return new jm(e);case Zt.FREETEXT:return new ND(e);case Zt.LINE:return new JR(e);case Zt.SQUARE:return new eU(e);case Zt.CIRCLE:return new tU(e);case Zt.POLYLINE:return new OD(e);case Zt.CARET:return new iU(e);case Zt.INK:return new Eb(e);case Zt.POLYGON:return new nU(e);case Zt.HIGHLIGHT:return new BD(e);case Zt.UNDERLINE:return new rU(e);case Zt.SQUIGGLY:return new sU(e);case Zt.STRIKEOUT:return new aU(e);case Zt.STAMP:return new ID(e);case Zt.FILEATTACHMENT:return new oU(e);default:return new yn(e)}}},yn=class FD{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return FD._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#i(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:l}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-o)/r}%`,t.top=`${100*(s-e[3]+l)/s}%`,i===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof xa||(r.tabIndex=0);const{style:s}=r;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof jm){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,r),r}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(y>0||A>0){const _=`calc(${y}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;s.borderRadius=_}else if(this instanceof LD){const _=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;s.borderRadius=_}switch(t.borderStyle.style){case go.SOLID:s.borderStyle="solid";break;case go.DASHED:s.borderStyle="dashed";break;case go.BEVELED:st("Unimplemented border style: beveled");break;case go.INSET:st("Unimplemented border style: inset");break;case go.UNDERLINE:s.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(this.#t=!0,s.borderColor=$e.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):s.borderWidth=0}const h=$e.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:p,pageX:g,pageY:m}=i.rawDims;s.left=`${100*(h[0]-g)/d}%`,s.top=`${100*(h[1]-m)/p}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(s.width=`${100*o/d}%`,s.height=`${100*l/p}%`):this.setRotation(v,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:s}=this;e%180!==0&&([r,s]=[s,r]),t.style.width=`${100*r/n}%`,t.style.height=`${100*s/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const r=i.detail[t],s=r[0],o=r.slice(1);i.target.style[n]=Y2[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:Y2[`${s}_rgb`](o)})};return gt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||n[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const s=n[i];if(s){const o={detail:{[i]:r},target:e};s(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,A,x,_]=e.subarray(2,6);if(i===y&&r===A&&t===x&&n===_)return}const{style:s}=this.container;let o;if(this.#t){const{borderColor:y,borderWidth:A}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=i-t,h=r-n,{svgFactory:d}=this,p=d.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=d.createElement("defs");p.append(g);const m=d.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),g.append(m);for(let y=2,A=e.length;y<A;y+=8){const x=e[y],_=e[y+1],w=e[y+2],S=e[y+3],E=d.createElement("rect"),C=(w-t)/l,R=(r-_)/h,N=(x-w)/l,F=(_-S)/h;E.setAttribute("x",C),E.setAttribute("y",R),E.setAttribute("width",N),E.setAttribute("height",F),m.append(E),o?.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${R}" width="${N}" height="${F}"/>`)}this.#t&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(p),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,t=this.#n=new jm({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){kt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:s,exportValues:o}of i){if(r===-1||s===t)continue;const l=typeof o=="string"?o:null,h=document.querySelector(`[data-element-id="${s}"]`);if(h&&!ga.has(h)){st(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:h})}return n}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,s=i.getAttribute("data-element-id");s!==t&&ga.has(i)&&n.push({id:s,exportValue:r,domElement:i})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}},MD=class extends yn{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(this.#t(n,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#n(n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,n=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){st('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:i,refs:r,include:s}=t,o=[];if(i.length!==0||r.length!==0){const d=new Set(r);for(const p of i){const g=this._fieldObjects[p]||[];for(const{id:m}of g)d.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)d.has(g.id)===s&&o.push(g)}else for(const d of Object.values(this._fieldObjects))o.push(...d);const l=this.annotationStorage,h=[];for(const d of o){const{id:p}=d;switch(h.push(p),d.type){case"text":{const m=d.defaultValue||"";l.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=d.defaultValue===d.exportValues;l.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=d.defaultValue||"";l.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!ga.has(g)){st(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}},$R=class extends yn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},xa=class extends yn{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Cn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(s)}})})}_setEventListeners(e,t,n,i){for(const[r,s]of n)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,r,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":$e.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||GR,r=e.style;let s;const o=2,l=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(h/(fg*i))||1,p=h/d;s=Math.min(i,l(p/fg))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(h/fg))}r.fontSize=`calc(${s}px * var(--total-scale-factor))`,r.color=$e.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},VR=class extends xa{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),r.setValue(s.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let r=i.value||"";const s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:r,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=o??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",o??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ga.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const h=this.data.dateFormat||this.data.timeFormat;h&&(n.title=h),this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(n,"value",p.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";n.value=l.userValue=g,l.formattedValue=null});let d=p=>{const{formattedValue:g}=l;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{if(l.focused)return;const{target:m}=g;l.userValue&&(m.value=l.userValue),l.lastCommittedValue=m.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(v){l.userValue=v.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){const{formattedValue:y}=v.detail;l.formattedValue=y,y!=null&&v.target!==document.activeElement&&(v.target.value=y),e.setValue(t,{formattedValue:y})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:y}=v.detail,{target:A}=v;if(y===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",y);let x=l.userValue;!x||x.length<=y||(x=x.slice(0,y),A.value=l.userValue=x,e.setValue(t,{value:x}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),n.addEventListener("keydown",g=>{l.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(l.commitKey=3),m===-1)return;const{value:v}=g.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=d;d=null,n.addEventListener("blur",g=>{if(!l.focused||!g.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:m}=g.target;l.userValue=m,l.lastCommittedValue!==m&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:l.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),p(g)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",g=>{l.lastCommittedValue=null;const{data:m,target:v}=g,{value:y,selectionStart:A,selectionEnd:x}=v;let _=A,w=x;switch(g.inputType){case"deleteWordBackward":{const S=y.substring(0,A).match(/\w*[^\w]*$/);S&&(_-=S[0].length);break}case"deleteWordForward":{const S=y.substring(A).match(/^[^\w]*\w*/);S&&(w+=S[0].length);break}case"deleteContentBackward":A===x&&(_-=1);break;case"deleteContentForward":A===x&&(w+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,change:m||"",willCommit:!1,selStart:_,selEnd:w}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}},XR=class extends xa{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},YR=class extends xa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return ga.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const h of this._getElementsByName(o,n)){const d=l&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}e.setValue(n,{value:l})}),r.addEventListener("resetform",s=>{const o=t.defaultFieldValue||"Off";s.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},LD=class extends xa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const r=document.createElement("input");if(ga.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const h of this._getElementsByName(o,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:l})}),r.addEventListener("resetform",s=>{const o=t.defaultFieldValue;s.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:h=>{const d=s===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const g=d&&p.id===n;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},KR=class extends MD{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}},ZR=class extends xa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");ga.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const d of this.data.options){const p=document.createElement("option");p.textContent=d.displayValue,p.value=d.exportValue,n.value.includes(d.exportValue)&&(p.setAttribute("selected",!0),r=!1),i.append(p)}let s=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),s=()=>{d.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=d=>{const p=d?"value":"textContent",{options:g,multiple:m}=i;return m?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let l=o(!1);const h=d=>{const p=d.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const p={value(g){s?.();const m=g.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const y of i.options)y.selected=v.has(y.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const m=i.options,v=g.detail.remove;m[v].selected=!1,i.remove(v),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:h(g)}),l=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:m,displayValue:v,exportValue:y}=g.detail.insert,A=i.children[m],x=document.createElement("option");x.textContent=v,x.value=y,A?A.before(x):i.append(x),e.setValue(t,{value:o(!0),items:h(g)}),l=o(!1)},items(g){const{items:m}=g.detail;for(;i.length!==0;)i.remove(0);for(const v of m){const{displayValue:y,exportValue:A}=v,x=document.createElement("option");x.textContent=y,x.value=A,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:h(g)}),l=o(!1)},indices(g){const m=new Set(g.detail.indices);for(const v of g.target.options)v.selected=m.has(v.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,d)}),i.addEventListener("input",d=>{const p=o(!0),g=o(!1);e.setValue(t,{value:p}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},jm=class extends yn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:yn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new QR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${fb}${i}`).join(",")),this.container}},QR=class{#e=this.#C.bind(this);#t=this.#E.bind(this);#n=this.#k.bind(this);#i=this.#D.bind(this);#s=null;#r=null;#a=null;#o=null;#l=null;#c=null;#d=null;#u=!1;#f=null;#g=null;#p=null;#h=null;#m=null;#y=null;#b=!1;constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:s,richText:o,parent:l,rect:h,parentRect:d,open:p}){this.#r=e,this.#m=i,this.#a=s,this.#h=o,this.#c=l,this.#s=t,this.#p=h,this.#d=d,this.#l=n,this.#o=gb.toDateObject(r),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",this.#i),g.addEventListener("mouseenter",this.#n),g.addEventListener("mouseleave",this.#t),g.classList.add("popupTriggerArea");for(const g of n)g.container?.addEventListener("keydown",this.#e);this.#r.hidden=!0,p&&this.#D()}render(){if(this.#f)return;const e=this.#f=document.createElement("div");if(e.className="popup",this.#s){const r=e.style.outlineColor=$e.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=this.#m,e.append(t),this.#o){const r=document.createElement("time");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),r.dateTime=this.#o.toISOString(),t.append(r)}const i=this.#A;if(i)wb.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(this.#a);e.append(r)}this.#r.append(e)}get#A(){const e=this.#h,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#h.html||null}get#x(){return this.#A?.attributes?.style?.fontSize||0}get#v(){return this.#A?.attributes?.style?.color||null}#w(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#v,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return n}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,s=i.length;r<s;++r){const o=i[r];n.append(document.createTextNode(o)),r<s-1&&n.append(document.createElement("br"))}return n}#C(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#u)&&this.#D()}updateEdited({rect:e,popupContent:t}){this.#y||={contentsObj:this.#a,richText:this.#h},e&&(this.#g=null),t&&(this.#h=this.#w(t),this.#a=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#a,richText:this.#h}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#g=null)}#T(){if(this.#g!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=this.#c;let s=!!this.#d,o=s?this.#d:this.#p;for(const v of this.#l)if(!o||$e.intersect(v.data.rect,o)!==null){o=v.data.rect,s=!0;break}const l=$e.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=s?o[2]-o[0]+5:0,p=l[0]+d,g=l[1];this.#g=[100*(p-i)/t,100*(g-r)/n];const{style:m}=this.#r;m.left=`${this.#g[0]}%`,m.top=`${this.#g[1]}%`}#D(){this.#u=!this.#u,this.#u?(this.#k(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#e)):(this.#E(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#e))}#k(){this.#f||this.render(),this.isVisible?this.#u&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#E(){this.#r.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#r.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#k(),this.#b=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}},ND=class extends yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=rt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},JR=class extends yn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=this.#e=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},eU=class extends yn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",t-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},tU=class extends yn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},OD=class extends yn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:r,height:s}=this;if(!t)return this.container;const o=this.svgFactory.create(r,s,!0);let l=[];for(let d=0,p=t.length;d<p;d+=2){const g=t[d]-e[0],m=e[3]-t[d+1];l.push(`${g},${m}`)}l=l.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",l),h.setAttribute("stroke-width",n.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},nU=class extends OD{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},iU=class extends yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},Eb=class extends yn{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?rt.HIGHLIGHT:rt.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{transform:s,width:o,height:l}=this.#n(t,e),h=this.svgFactory.create(o,l,!0),d=this.#e=this.svgFactory.createElement("svg:g");h.append(d),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",s);for(let p=0,g=n.length;p<g;p++){const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",n[p].join(",")),d.append(m)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,r=this.#e;if(t>=0&&r.setAttribute("stroke-width",t||1),n)for(let s=0,o=this.#t.length;s<o;s++)this.#t[s].setAttribute("points",n[s].join(","));if(i){const{transform:s,width:o,height:l}=this.#n(this.data.rotation,i);r.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),r.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}},BD=class extends yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=rt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},rU=class extends yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},sU=class extends yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},aU=class extends yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}},ID=class extends yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=rt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},oU=class extends yn{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:i}=Cn.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(i?r.metaKey:r.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},Tb=class PD{#e=null;#t=null;#n=new Map;#i=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:s,structTreeLayer:o}){this.div=e,this.#e=t,this.#t=n,this.#i=o||null,this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}async#s(e,t,n){const i=e.firstChild||e,r=i.id=`${fb}${t}`,s=await this.#i?.getAriaAttributes(r);if(s)for(const[o,l]of s)i.setAttribute(o,l);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1))}async render(e){const{annotations:t}=e,n=this.div;Ss(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ul,annotationStorage:e.annotationStorage||new yb,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of t){if(s.noHTML)continue;const o=s.annotationType===Zt.POPUP;if(o){const d=i.get(s.id);if(!d)continue;r.elements=d}else if(s.rect[2]===s.rect[0]||s.rect[3]===s.rect[1])continue;r.data=s;const l=K2.create(r);if(!l.isRenderable)continue;if(!o&&s.popupRef){const d=i.get(s.popupRef);d?d.push(l):i.set(s.popupRef,[l])}const h=l.render();s.hidden&&(h.style.visibility="hidden"),await this.#s(h,s.id,r.elements),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#r()}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new ul,parent:this};for(const i of e){i.borderStyle||=PD._defaultBorderStyle,n.data=i;const r=K2.create(n);if(!r.isRenderable)continue;const s=r.render();await this.#s(s,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Ss(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n);const s=this.#n.get(t);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,n),s._hasNoCanvas=!1):s.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return gt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:go.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Qu=/\r\n?|\n/g;let cU=class Tn extends jt{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Tn.prototype,t=r=>r.isEmpty(),n=ko.TRANSLATE_SMALL,i=ko.TRANSLATE_BIG;return gt(this,"_keyboardManager",new wl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=rt.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||Tn._defaultColor||jt._defaultLineColor,this.#s=e.fontSize||Tn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){jt.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case mt.FREETEXT_SIZE:Tn._defaultFontSize=t;break;case mt.FREETEXT_COLOR:Tn._defaultColor=t;break}}updateParams(e,t){switch(e){case mt.FREETEXT_SIZE:this.#r(t);break;case mt.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[mt.FREETEXT_SIZE,Tn._defaultFontSize],[mt.FREETEXT_COLOR,Tn._defaultColor||jt._defaultLineColor]]}get propertiesToUpdate(){return[[mt.FREETEXT_SIZE,this.#s],[mt.FREETEXT_COLOR,this.#e]]}#r(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#s)*this.parentScale),this.#s=i,this.#l()},n=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(e){const t=i=>{this.#e=this.editorDiv.style.color=i},n=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Tn._internalPadding*e,-(Tn._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Tn.#c(n)),t=n);return e.join(`
`)}#l(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:i,div:r}=this,s=r.style.display,o=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",i.div.append(this.div),n=r.getBoundingClientRect(),r.remove(),r.style.display=s,r.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#o().trimEnd();if(e===t)return;const n=i=>{if(this.#t=i,!i){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#l()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Tn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,r]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[h,d]=this.pageDimensions,[p,g]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=e+(s[0]-p)/h,v=t+this.height-(s[1]-g)/d;break;case 90:m=e+(s[0]-p)/h,v=t-(s[1]-g)/d,[o,l]=[l,-o];break;case 180:m=e-this.width+(s[0]-p)/h,v=t-(s[1]-g)/d,[o,l]=[-o,-l];break;case 270:m=e+(s[0]-p-this.height*d)/h,v=t+(s[1]-g-this.width*h)/d,[o,l]=[-l,o];break}this.setAt(m*i,v*r,o,l)}else this._moveAfterPaste(e,t);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Qu,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const i=Tn.#f(t.getData("text")||"").replaceAll(Qu,`
`);if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const s=r.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:o,startOffset:l}=s,h=[],d=[];if(o.nodeType===Node.TEXT_NODE){const m=o.parentElement;if(d.push(o.nodeValue.slice(l).replaceAll(Qu,"")),m!==this.editorDiv){let v=h;for(const y of this.editorDiv.childNodes){if(y===m){v=d;continue}v.push(Tn.#c(y))}}h.push(o.nodeValue.slice(0,l).replaceAll(Qu,""))}else if(o===this.editorDiv){let m=h,v=0;for(const y of this.editorDiv.childNodes)v++===l&&(m=d),m.push(Tn.#c(y))}this.#t=`${h.join(`
`)}${i}${d.join(`
`)}`,this.#d();const p=new Range;let g=Math.sumPrecise(h.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(g<=v){p.setStart(m,g),p.setEnd(m,g);break}g-=v}r.removeAllRanges(),r.addRange(p)}#d(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#u(){return this.#t.replaceAll(" "," ")}static#f(e){return e.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let i=null;if(e instanceof ND){const{data:{defaultAppearanceData:{fontSize:s,fontColor:o},rect:l,rotation:h,id:d,popupRef:p},textContent:g,textPosition:m,parent:{page:{pageNumber:v}}}=e;if(!g||g.length===0)return null;i=e={annotationType:rt.FREETEXT,color:Array.from(o),fontSize:s,value:g.join(`
`),position:m,pageIndex:v-1,rect:l.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:p}}const r=await super.deserialize(e,t,n);return r.#s=e.fontSize,r.#e=$e.makeHexColor(...e.color),r.#t=Tn.#f(e.value),r._initialData=i,r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Tn._internalPadding*this.parentScale,n=this.getRect(t,t),i=jt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),r={annotationType:rt.FREETEXT,color:i,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(r.isCopy=!0,r):this.annotationElementId&&!this.#g(r)?null:(r.id=this.annotationElementId,r)}#g(e){const{value:t,fontSize:n,color:i,pageIndex:r}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((s,o)=>s!==i[o])||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#e,t.replaceChildren();for(const r of this.#t.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}const i=Tn._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},Pe=class{static PRECISION=1e-4;toSVGPath(){kt("Abstract method `toSVGPath` must be implemented.")}get box(){kt("Abstract getter `box` must be implemented.")}serialize(e,t){kt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,r,s){s||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o]*i,s[o+1]=n+e[o+1]*r;return s}static _rescaleAndSwap(e,t,n,i,r,s){s||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o+1]*i,s[o+1]=n+e[o]*r;return s}static _translate(e,t,n,i){i||=new Float32Array(e.length);for(let r=0,s=e.length;r<s;r+=2)i[r]=t+e[r],i[r+1]=n+e[r+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,r){switch(r){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,r,s){return[(e+5*n)/6,(t+5*i)/6,(5*n+r)/6,(5*i+s)/6,(n+r)/2,(i+s)/2]}},WD=class tl{#e;#t=[];#n;#i;#s=[];#r=new Float32Array(18);#a;#o;#l;#c;#d;#u;#f=[];static#g=8;static#p=2;static#h=tl.#g+tl.#p;constructor({x:e,y:t},n,i,r,s,o=0){this.#e=n,this.#u=r*i,this.#i=s,this.#r.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=o,this.#c=tl.#g*i,this.#l=tl.#h*i,this.#d=i,this.#f.push(e,t)}isEmpty(){return isNaN(this.#r[8])}#m(){const e=this.#r.subarray(4,6),t=this.#r.subarray(16,18),[n,i,r,s]=this.#e;return[(this.#a+(e[0]-t[0])/2-n)/r,(this.#o+(e[1]-t[1])/2-i)/s,(this.#a+(t[0]-e[0])/2-n)/r,(this.#o+(t[1]-e[1])/2-i)/s]}add({x:e,y:t}){this.#a=e,this.#o=t;const[n,i,r,s]=this.#e;let[o,l,h,d]=this.#r.subarray(8,12);const p=e-h,g=t-d,m=Math.hypot(p,g);if(m<this.#l)return!1;const v=m-this.#c,y=v/m,A=y*p,x=y*g;let _=o,w=l;o=h,l=d,h+=A,d+=x,this.#f?.push(e,t);const S=-x/v,E=A/v,C=S*this.#u,R=E*this.#u;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([h+C,d+R],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([h-C,d-R],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([o+C,l+R],2),this.#s.push(NaN,NaN,NaN,NaN,(o+C-n)/r,(l+R-i)/s),this.#r.set([o-C,l-R],14),this.#t.push(NaN,NaN,NaN,NaN,(o-C-n)/r,(l-R-i)/s)),this.#r.set([_,w,o,l,h,d],6),!this.isEmpty()):(this.#r.set([_,w,o,l,h,d],6),Math.abs(Math.atan2(w-l,_-o)-Math.atan2(x,A))<Math.PI/2?([o,l,h,d]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((o+h)/2-n)/r,((l+d)/2-i)/s),[o,l,_,w]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((_+o)/2-n)/r,((w+l)/2-i)/s),!0):([_,w,o,l,h,d]=this.#r.subarray(0,6),this.#s.push(((_+5*o)/6-n)/r,((w+5*l)/6-i)/s,((5*o+h)/6-n)/r,((5*l+d)/6-i)/s,((o+h)/2-n)/r,((l+d)/2-i)/s),[h,d,o,l,_,w]=this.#r.subarray(12,18),this.#t.push(((_+5*o)/6-n)/r,((w+5*l)/6-i)/s,((5*o+h)/6-n)/r,((5*l+d)/6-i)/s,((o+h)/2-n)/r,((l+d)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,t=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#A(n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#b(n),n.join(" ")}#y(){const[e,t,n,i]=this.#e,[r,s,o,l]=this.#m();return`M${(this.#r[2]-e)/n} ${(this.#r[3]-t)/i} L${(this.#r[4]-e)/n} ${(this.#r[5]-t)/i} L${r} ${s} L${o} ${l} L${(this.#r[16]-e)/n} ${(this.#r[17]-t)/i} L${(this.#r[14]-e)/n} ${(this.#r[15]-t)/i} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#A(e){const[t,n,i,r]=this.#e,s=this.#r.subarray(4,6),o=this.#r.subarray(16,18),[l,h,d,p]=this.#m();e.push(`L${(s[0]-t)/i} ${(s[1]-n)/r} L${l} ${h} L${d} ${p} L${(o[0]-t)/i} ${(o[1]-n)/r}`)}newFreeDrawOutline(e,t,n,i,r,s){return new zD(e,t,n,i,r,s)}getOutlines(){const e=this.#s,t=this.#t,n=this.#r,[i,r,s,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let p=0,g=l.length-2;p<g;p+=2)l[p]=(this.#f[p]-i)/s,l[p+1]=(this.#f[p+1]-r)/o;if(l[l.length-2]=(this.#a-i)/s,l[l.length-1]=(this.#o-r)/o,isNaN(n[6])&&!this.isEmpty())return this.#x(l);const h=new Float32Array(this.#s.length+24+this.#t.length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){h[p]=h[p+1]=NaN;continue}h[p]=e[p],h[p+1]=e[p+1]}d=this.#w(h,d);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){h[d]=h[d+1]=NaN,d+=2;continue}h[d]=t[p+g],h[d+1]=t[p+g+1],d+=2}return this.#v(h,d),this.newFreeDrawOutline(h,l,this.#e,this.#d,this.#n,this.#i)}#x(e){const t=this.#r,[n,i,r,s]=this.#e,[o,l,h,d]=this.#m(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/r,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-n)/r,(t[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(t[16]-n)/r,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-n)/r,(t[15]-i)/s],0),this.newFreeDrawOutline(p,e,this.#e,this.#d,this.#n,this.#i)}#v(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#w(e,t){const n=this.#r.subarray(4,6),i=this.#r.subarray(16,18),[r,s,o,l]=this.#e,[h,d,p,g]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-r)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-s)/l],t),t+=24}},zD=class extends Pe{#e;#t=new Float32Array(4);#n;#i;#s;#r;#a;constructor(e,t,n,i,r,s){super(),this.#a=e,this.#s=t,this.#e=n,this.#r=i,this.#n=r,this.#i=s,this.lastPoint=[NaN,NaN],this.#o(s);const[o,l,h,d]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-o)/h,e[p+1]=(e[p+1]-l)/d;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-o)/h,t[p+1]=(t[p+1]-l)/d}toSVGPath(){const e=[`M${this.#a[4]} ${this.#a[5]}`];for(let t=6,n=this.#a.length;t<n;t+=6){if(isNaN(this.#a[t])){e.push(`L${this.#a[t+4]} ${this.#a[t+5]}`);continue}e.push(`C${this.#a[t]} ${this.#a[t+1]} ${this.#a[t+2]} ${this.#a[t+3]} ${this.#a[t+4]} ${this.#a[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,i],r){const s=n-e,o=i-t;let l,h;switch(r){case 0:l=Pe._rescale(this.#a,e,i,s,-o),h=Pe._rescale(this.#s,e,i,s,-o);break;case 90:l=Pe._rescaleAndSwap(this.#a,e,t,s,o),h=Pe._rescaleAndSwap(this.#s,e,t,s,o);break;case 180:l=Pe._rescale(this.#a,n,t,-s,o),h=Pe._rescale(this.#s,n,t,-s,o);break;case 270:l=Pe._rescaleAndSwap(this.#a,n,i,-s,-o),h=Pe._rescaleAndSwap(this.#s,n,i,-s,-o);break}return{outline:Array.from(l),points:[Array.from(h)]}}#o(e){const t=this.#a;let n=t[4],i=t[5];const r=[n,i,n,i];let s=n,o=i;const l=e?Math.max:Math.min;for(let d=6,p=t.length;d<p;d+=6){const g=t[d+4],m=t[d+5];if(isNaN(t[d]))$e.pointBoundingBox(g,m,r),o<m?(s=g,o=m):o===m&&(s=l(s,g));else{const v=[1/0,1/0,-1/0,-1/0];$e.bezierBoundingBox(n,i,...t.slice(d,d+6),v),$e.rectBoundingBox(...v,r),o<v[3]?(s=v[2],o=v[3]):o===v[3]&&(s=l(s,v[2]))}n=g,i=m}const h=this.#t;h[0]=r[0]-this.#n,h[1]=r[1]-this.#n,h[2]=r[2]-r[0]+2*this.#n,h[3]=r[3]-r[1]+2*this.#n,this.lastPoint=[s,o]}get box(){return this.#t}newOutliner(e,t,n,i,r,s=0){return new WD(e,t,n,i,r,s)}getNewOutline(e,t){const[n,i,r,s]=this.#t,[o,l,h,d]=this.#e,p=r*h,g=s*d,m=n*h+o,v=i*d+l,y=this.newOutliner({x:this.#s[0]*p+m,y:this.#s[1]*g+v},this.#e,this.#r,e,this.#i,t??this.#n);for(let A=2;A<this.#s.length;A+=2)y.add({x:this.#s[A]*p+m,y:this.#s[A+1]*g+v});return y.getOutlines()}},qm=class{#e;#t;#n=[];#i=[];constructor(e,t=0,n=0,i=!0){const r=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:m,y:v,width:y,height:A}of e){const x=Math.floor((m-t)/s)*s,_=Math.ceil((m+y+t)/s)*s,w=Math.floor((v-t)/s)*s,S=Math.ceil((v+A+t)/s)*s,E=[x,w,S,!0],C=[_,w,S,!1];this.#n.push(E,C),$e.rectBoundingBox(x,w,_,S,r)}const o=r[2]-r[0]+2*n,l=r[3]-r[1]+2*n,h=r[0]-n,d=r[1]-n,p=this.#n.at(i?-1:-2),g=[p[0],p[2]];for(const m of this.#n){const[v,y,A]=m;m[0]=(v-h)/o,m[1]=(y-d)/l,m[2]=(A-d)/l}this.#e=new Float32Array([h,d,o,l]),this.#t=g}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#a(t)):(this.#o(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const s of e){const[o,l,h]=s;t.push([o,l,s],[o,h,s])}t.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=t.length;s<o;s+=2){const l=t[s][2],h=t[s+1][2];l.push(h),h.push(l),n.add(l),n.add(h)}const i=[];let r;for(;n.size>0;){const s=n.values().next().value;let[o,l,h,d,p]=s;n.delete(s);let g=o,m=l;for(r=[o,h],i.push(r);;){let v;if(n.has(d))v=d;else if(n.has(p))v=p;else break;n.delete(v),[o,l,h,d,p]=v,g!==o&&(r.push(g,m,o,m===l?l:h),g=o),m=m===l?h:l}r.push(g,m)}return new lU(i,this.#e,this.#t)}#r(e){const t=this.#i;let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,s=t[r][0];if(s===e)return r;s<e?n=r+1:i=r-1}return i+1}#a([,e,t]){const n=this.#r(e);this.#i.splice(n,0,[e,t])}#o([,e,t]){const n=this.#r(e);for(let i=n;i<this.#i.length;i++){const[r,s]=this.#i[i];if(r!==e)break;if(r===e&&s===t){this.#i.splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,s]=this.#i[i];if(r!==e)break;if(r===e&&s===t){this.#i.splice(i,1);return}}}#l(e){const[t,n,i]=e,r=[[t,n,i]],s=this.#r(i);for(let o=0;o<s;o++){const[l,h]=this.#i[o];for(let d=0,p=r.length;d<p;d++){const[,g,m]=r[d];if(!(h<=g||m<=l)){if(g>=l){if(m>h)r[d][1]=h;else{if(p===1)return[];r.splice(d,1),d--,p--}continue}r[d][2]=l,m>h&&r.push([t,h,m])}}}return r}},lU=class extends Pe{#e;#t;constructor(e,t,n){super(),this.#t=e,this.#e=t,this.lastPoint=n}toSVGPath(){const e=[];for(const t of this.#t){let[n,i]=t;e.push(`M${n} ${i}`);for(let r=2;r<t.length;r+=2){const s=t[r],o=t[r+1];s===n?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${s}`),n=s)}e.push("Z")}return e.join(" ")}serialize([e,t,n,i],r){const s=[],o=n-e,l=i-t;for(const h of this.#t){const d=new Array(h.length);for(let p=0;p<h.length;p+=2)d[p]=e+h[p]*o,d[p+1]=i-h[p+1]*l;s.push(d)}return s}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}},Gm=class extends WD{newFreeDrawOutline(e,t,n,i,r,s){return new uU(e,t,n,i,r,s)}},uU=class extends zD{newOutliner(e,t,n,i,r,s=0){return new Gm(e,t,n,i,r,s)}},Sb=class gr{#e=null;#t=null;#n;#i=null;#s=!1;#r=!1;#a=null;#o;#l=null;#c=null;#d;static#u=null;static get _keyboardManager(){return gt(this,"_keyboardManager",new wl([[["Escape","mac+Escape"],gr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],gr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],gr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],gr.prototype._moveToPrevious],[["Home","mac+Home"],gr.prototype._moveToBeginning],[["End","mac+End"],gr.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#r=!1,this.#d=mt.HIGHLIGHT_COLOR,this.#a=e):(this.#r=!0,this.#d=mt.HIGHLIGHT_DEFAULT_COLOR),this.#c=e?._uiManager||t,this.#o=this.#c._eventBus,this.#n=e?.color?.toUpperCase()||this.#c?.highlightColors.values().next().value||"#FFFF98",gr.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#a&&(e.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const t=this.#c._signal;e.addEventListener("click",this.#h.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#i=this.#f();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#f(){const e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",Gi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(e.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,i]of this.#c.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",gr.#u[n]);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=i,r.ariaSelected=i===this.#n,r.addEventListener("click",this.#g.bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#g(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#h(e);return}const t=e.target.getAttribute("data-color");t&&this.#g(t,e)}_moveToNext(e){if(!this.#y){this.#h(e);return}if(e.target===this.#e){this.#i.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#i?.firstChild||e.target===this.#e){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#h(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#y){this.#h(e);return}this.#i.firstChild?.focus()}_moveToEnd(e){if(!this.#y){this.#h(e);return}this.#i.lastChild?.focus()}#p(e){gr._keyboardManager.exec(this,e)}#h(e){if(this.#y){this.hideDropdown();return}if(this.#s=e.detail===0,this.#l||(this.#l=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#c.combinedSignal(this.#l)})),this.#e.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const t=this.#i=this.#f();this.#e.append(t)}#m(e){this.#i?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#l?.abort(),this.#l=null}get#y(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#y){this.#a?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#i)return;const t=this.#c.highlightColors.values();for(const n of this.#i.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}},Z2=class bn extends jt{#e=null;#t=0;#n;#i=null;#s=null;#r=null;#a=null;#o=0;#l=null;#c=null;#d=null;#u=!1;#f=null;#g;#p=null;#h="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=rt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=bn.prototype;return gt(this,"_keyboardManager",new wl([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||bn._defaultColor,this.#m=e.thickness||bn._defaultThickness,this.#g=e.opacity||bn._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#h=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#A(e),this.#T()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#T(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new qm(this.#n,.001);this.#c=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const t=new qm(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=t.getOutlines();const{lastPoint:n}=this.#r;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#A({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#c=e;const i=1.5;if(this.#r=e.getNewOutline(this.#m/2+i,.0025),t>=0)this.#d=t,this.#i=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:bn.#D(this.#c.box,(d-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:bn.#D(this.#r.box,d),path:{d:this.#r.toSVGPath()}})}const[r,s,o,l]=e.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=o,this.height=l;break;case 90:{const[d,p]=this.parentDimensions;this.x=s,this.y=1-r,this.width=o*p/d,this.height=l*d/p;break}case 180:this.x=1-r,this.y=1-s,this.width=o,this.height=l;break;case 270:{const[d,p]=this.parentDimensions;this.x=1-s,this.y=r,this.width=o*p/d,this.height=l*d/p;break}}const{lastPoint:h}=this.#r;this.#f=[(h[0]-r)/o,(h[1]-s)/l]}static initialize(e,t){jt.initialize(e,t),bn._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case mt.HIGHLIGHT_DEFAULT_COLOR:bn._defaultColor=t;break;case mt.HIGHLIGHT_THICKNESS:bn._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#f}updateParams(e,t){switch(e){case mt.HIGHLIGHT_COLOR:this.#x(t);break;case mt.HIGHLIGHT_THICKNESS:this.#v(t);break}}static get defaultPropertiesToUpdate(){return[[mt.HIGHLIGHT_DEFAULT_COLOR,bn._defaultColor],[mt.HIGHLIGHT_THICKNESS,bn._defaultThickness]]}get propertiesToUpdate(){return[[mt.HIGHLIGHT_COLOR,this.color||bn._defaultColor],[mt.HIGHLIGHT_THICKNESS,this.#m||bn._defaultThickness],[mt.HIGHLIGHT_FREE,this.#u]]}#x(e){const t=(r,s)=>{this.color=r,this.#g=s,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:r,"fill-opacity":s}}),this.#s?.updateColor(r)},n=this.color,i=this.#g;this.addCommands({cmd:t.bind(this,e,bn._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#v(e){const t=this.#m,n=i=>{this.#m=i,this.#w(i)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new Sb({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#F())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#F())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#T(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#C():e&&(this.#T(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#w(e){if(!this.#u)return;this.#A({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#T(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=e.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#u),this.#l&&(this.#l.style.clipPath=this.#i))}static#D([e,t,n,i],r){switch(r){case 90:return[1-t-i,e,i,n];case 180:return[1-e-n,1-t-i,n,i];case 270:return[t,1-e-n,i,n]}return[e,t,n,i]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#u?(e=(e-this.rotation+360)%360,n=bn.#D(this.#c.box,e)):n=bn.#D([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:bn.#D(this.#r.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#h&&(e.setAttribute("aria-label",this.#h),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const t=this.#l=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),aD(this,this.#l,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#k(e){bn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#E(!0);break;case 1:case 3:this.#E(!1);break}}#E(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#E(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#F(){return this.#u?this.rotation:0}#L(){if(this.#u)return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,r=this.#n,s=new Float32Array(r.length*8);let o=0;for(const{x:l,y:h,width:d,height:p}of r){const g=l*e+n,m=(1-h)*t+i;s[o]=s[o+4]=g,s[o+1]=s[o+3]=m,s[o+2]=s[o+6]=g+d*e,s[o+5]=s[o+7]=m-p*t,o+=8}return s}#M(e){return this.#c.serialize(e,this.#F())}static startHighlighting(e,t,{target:n,x:i,y:r}){const{x:s,y:o,width:l,height:h}=n.getBoundingClientRect(),d=new AbortController,p=e.combinedSignal(d),g=m=>{d.abort(),this.#R(e,m)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",Jt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Gi,{signal:p}),n.addEventListener("pointermove",this.#N.bind(this,e),{signal:p}),this._freeHighlight=new Gm({x:i,y:r},[s,o,l,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#R(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let i=null;if(e instanceof BD){const{data:{quadPoints:v,rect:y,rotation:A,id:x,color:_,opacity:w,popupRef:S},parent:{page:{pageNumber:E}}}=e;i=e={annotationType:rt.HIGHLIGHT,color:Array.from(_),opacity:w,quadPoints:v,boxes:null,pageIndex:E-1,rect:y.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,popupRef:S}}else if(e instanceof Eb){const{data:{inkLists:v,rect:y,rotation:A,id:x,color:_,borderStyle:{rawWidth:w},popupRef:S},parent:{page:{pageNumber:E}}}=e;i=e={annotationType:rt.HIGHLIGHT,color:Array.from(_),thickness:w,inkLists:v,boxes:null,pageIndex:E-1,rect:y.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,popupRef:S}}const{color:r,quadPoints:s,inkLists:o,opacity:l}=e,h=await super.deserialize(e,t,n);h.color=$e.makeHexColor(...r),h.#g=l||1,o&&(h.#m=e.thickness),h._initialData=i;const[d,p]=h.pageDimensions,[g,m]=h.pageTranslation;if(s){const v=h.#n=[];for(let y=0;y<s.length;y+=8)v.push({x:(s[y]-g)/d,y:1-(s[y+1]-m)/p,width:(s[y+2]-s[y])/d,height:(s[y+1]-s[y+5])/p});h.#b(),h.#T(),h.rotate(h.rotation)}else if(o){h.#u=!0;const v=o[0],y={x:v[0]-g,y:p-(v[1]-m)},A=new Gm(y,[0,0,d,p],1,h.#m/2,!0,.001);for(let w=0,S=v.length;w<S;w+=2)y.x=v[w]-g,y.y=p-(v[w+1]-m),A.add(y);const{id:x,clipPathId:_}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);h.#A({highlightOutlines:A.getOutlines(),highlightId:x,clipPathId:_}),h.#T(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=jt._colorManager.convert(this.color),i={annotationType:rt.HIGHLIGHT,color:n,opacity:this.#g,thickness:this.#m,quadPoints:this.#L(),outlines:this.#M(t),pageIndex:this.pageIndex,rect:t,rotation:this.#F(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#_(i)?null:(i.id=this.annotationElementId,i)}#_(e){const{color:t}=this._initialData;return e.color.some((n,i)=>n!==t[i])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},HD=class{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){kt("Not implemented")}},jD=class tt extends jt{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#r=NaN;static#a=null;static#o=null;static#l=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#c(e),this.#f())}#c({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#d(e,this.parent),this.#h(e.box)}#d(e,t){const{id:n}=t.drawLayer.draw(tt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,r]of Object.entries(t))n.has(i)?Object.assign(e[i],r):e[i]=r;return e}static getDefaultDrawingOptions(e){kt("Not implemented")}static get typesMap(){kt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(tt.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,r=i[t],s=o=>{i.updateProperty(t,o);const l=this.#e.updateProperty(t,o);l&&this.#h(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,tt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,tt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,tt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#h(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#e,e)}}#g([e,t,n,i]){const{parentDimensions:[r,s],rotation:o}=this;switch(o){case 90:return[t,1-e,n*(s/r),i*(r/s)];case 180:return[1-e,1-t,n,i];case 270:return[1-t,e,n*(s/r),i*(r/s)];default:return[e,t,n,i]}}#p(){const{x:e,y:t,width:n,height:i,parentDimensions:[r,s],rotation:o}=this;switch(o){case 90:return[1-t,e,n*(r/s),i*(s/r)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(r/s),i*(s/r)];default:return[e,t,n,i]}}#h(e){if([this.x,this.y,this.width,this.height]=this.#g(e),this.div){this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}this._onResized()}#m(){const{x:e,y:t,width:n,height:i,rotation:r,parentRotation:s,parentDimensions:[o,l]}=this;switch((r*4+s)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(o/l),i*(l/o),n*(o/l)];case 5:return[1-t,e,n*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-t,i*(l/o),n*(o/l)];case 7:return[t-n*(o/l),1-e-i*(l/o),n*(o/l),i*(l/o)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(l/o),t,i*(l/o),n*(o/l)];case 13:return[1-t-n*(o/l),e-i*(l/o),n*(o/l),i*(l/o)];case 14:return[1-e,1-t-n*(o/l),i*(l/o),n*(o/l)];case 15:return[t,1-e,n*(o/l),i*(l/o)];default:return[e,t,n,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,tt._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,r){kt("Not implemented")}static startDrawing(e,t,n,i){const{target:r,offsetX:s,offsetY:o,pointerId:l,pointerType:h}=i;if(tt.#a&&tt.#a!==h)return;const{viewport:{rotation:d}}=e,{width:p,height:g}=r.getBoundingClientRect(),m=tt.#i=new AbortController,v=e.combinedSignal(m);if(tt.#r||=l,tt.#a??=h,window.addEventListener("pointerup",y=>{tt.#r===y.pointerId?this._endDraw(y):tt.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointercancel",y=>{tt.#r===y.pointerId?this._currentParent.endDrawingSession():tt.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointerdown",y=>{tt.#a===y.pointerType&&((tt.#o||=new Set).add(y.pointerId),tt.#n.isCancellable()&&(tt.#n.removeLastElement(),tt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Gi,{signal:v}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),r.addEventListener("touchmove",y=>{y.timeStamp===tt.#l&&Jt(y)},{signal:v}),e.toggleDrawing(),t._editorUndoBar?.hide(),tt.#n){e.drawLayer.updateProperties(this._currentDrawId,tt.#n.startNew(s,o,p,g,d));return}t.updateUIForDefaultProperties(this),tt.#n=this.createDrawerInstance(s,o,p,g,d),tt.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(tt.#s.toSVGProperties(),tt.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(tt.#l=-1,!tt.#n)return;const{offsetX:t,offsetY:n,pointerId:i}=e;if(tt.#r===i){if(tt.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,tt.#n.add(t,n)),tt.#l=e.timeStamp,Jt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,tt.#n=null,tt.#s=null,tt.#a=null,tt.#l=NaN),tt.#i&&(tt.#i.abort(),tt.#i=null,tt.#r=NaN,tt.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,tt.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=tt.#n,i=this._currentDrawId,r=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,n.setLastElement(r))},undo:()=>{t.drawLayer.updateProperties(i,n.removeLastElement())},mustExec:!1,type:mt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(mt.DRAW_STEP),!tt.#n.isEmpty()){const{pageDimensions:[n,i],scale:r}=t,s=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:tt.#n.getOutlines(n*r,i*r,r,this._INNER_MARGIN),drawingOptions:tt.#s,mustBeCommitted:!e});return this._cleanup(!0),s}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,r,s){kt("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=t.viewport,l=this.deserializeDraw(s,o,i,r,this._INNER_MARGIN,e),h=await super.deserialize(e,t,n);return h.createDrawingOptions(e),h.#c({drawOutlines:l}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,n]=this.pageTranslation,[i,r]=this.pageDimensions;return this.#e.serialize([t,n,i,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},hU=class{#e=new Float64Array(6);#t;#n;#i;#s;#r;#a="";#o=0;#l=new Tl;#c;#d;constructor(e,t,n,i,r,s){this.#c=n,this.#d=i,this.#i=r,this.#s=s,[e,t]=this.#u(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t],this.#n=[{line:o,points:this.#r}],this.#e.set(o,0)}updateProperty(e,t){e==="stroke-width"&&(this.#s=t)}#u(e,t){return Pe._normalizePoint(e,t,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(e,t){[e,t]=this.#u(e,t);const[n,i,r,s]=this.#e.subarray(2,6),o=e-r,l=t-s;return Math.hypot(this.#c*o,this.#d*l)<=2?null:(this.#r.push(e,t),isNaN(n)?(this.#e.set([r,s,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,i,r,s,e,t],0),this.#t.push(...Pe.createBezierPoints(n,i,r,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,r){this.#c=n,this.#d=i,this.#i=r,[e,t]=this.#u(e,t);const s=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t];const o=this.#n.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#n.push({line:s,points:this.#r}),this.#e.set(s,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#r=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#l.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#l.removeLastElement();this.#n.pop(),this.#a="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:i}=this.#n[e];this.#t=n,this.#r=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const e=Pe.svgRound(this.#t[4]),t=Pe.svgRound(this.#t[5]);if(this.#r.length===2)return this.#a=`${this.#a} M ${e} ${t} Z`,this.#a;if(this.#r.length<=6){const i=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,i)} M ${e} ${t}`,this.#o=6}if(this.#r.length===4){const i=Pe.svgRound(this.#t[10]),r=Pe.svgRound(this.#t[11]);return this.#a=`${this.#a} L ${i} ${r}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let i=this.#o,r=this.#t.length;i<r;i+=6){const[s,o,l,h,d,p]=this.#t.slice(i,i+6).map(Pe.svgRound);n.push(`C${s} ${o} ${l} ${h} ${d} ${p}`)}return this.#a+=n.join(" "),this.#o=this.#t.length,this.#a}getOutlines(e,t,n,i){const r=this.#n.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#l.build(this.#n,e,t,n,this.#i,this.#s,i),this.#e=null,this.#t=null,this.#n=null,this.#a=null,this.#l}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}},Tl=class extends Pe{#e;#t=0;#n;#i;#s;#r;#a;#o;#l;build(e,t,n,i,r,s,o){this.#s=t,this.#r=n,this.#a=i,this.#o=r,this.#l=s,this.#n=o??0,this.#i=e,this.#u()}get thickness(){return this.#l}setLastElement(e){return this.#i.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#i){if(e.push(`M${Pe.svgRound(t[4])} ${Pe.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Pe.svgRound(t[10])} ${Pe.svgRound(t[11])}`);continue}for(let n=6,i=t.length;n<i;n+=6){const[r,s,o,l,h,d]=t.subarray(n,n+6).map(Pe.svgRound);e.push(`C${r} ${s} ${o} ${l} ${h} ${d}`)}}return e.join("")}serialize([e,t,n,i],r){const s=[],o=[],[l,h,d,p]=this.#d();let g,m,v,y,A,x,_,w,S;switch(this.#o){case 0:S=Pe._rescale,g=e,m=t+i,v=n,y=-i,A=e+l*n,x=t+(1-h-p)*i,_=e+(l+d)*n,w=t+(1-h)*i;break;case 90:S=Pe._rescaleAndSwap,g=e,m=t,v=n,y=i,A=e+h*n,x=t+l*i,_=e+(h+p)*n,w=t+(l+d)*i;break;case 180:S=Pe._rescale,g=e+n,m=t,v=-n,y=i,A=e+(1-l-d)*n,x=t+h*i,_=e+(1-l)*n,w=t+(h+p)*i;break;case 270:S=Pe._rescaleAndSwap,g=e+n,m=t+i,v=-n,y=-i,A=e+(1-h-p)*n,x=t+(1-l-d)*i,_=e+(1-h)*n,w=t+(1-l)*i;break}for(const{line:E,points:C}of this.#i)s.push(S(E,g,m,v,y,r?new Array(E.length):null)),o.push(S(C,g,m,v,y,r?new Array(C.length):null));return{lines:s,points:o,rect:[A,x,_,w]}}static deserialize(e,t,n,i,r,{paths:{lines:s,points:o},rotation:l,thickness:h}){const d=[];let p,g,m,v,y;switch(l){case 0:y=Pe._rescale,p=-e/n,g=t/i+1,m=1/n,v=-1/i;break;case 90:y=Pe._rescaleAndSwap,p=-t/i,g=-e/n,m=1/i,v=1/n;break;case 180:y=Pe._rescale,p=e/n+1,g=-t/i,m=-1/n,v=1/i;break;case 270:y=Pe._rescaleAndSwap,p=t/i+1,g=e/n+1,m=-1/i,v=-1/n;break}if(!s){s=[];for(const x of o){const _=x.length;if(_===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(_===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const w=new Float32Array(3*(_-2));s.push(w);let[S,E,C,R]=x.subarray(0,4);w.set([NaN,NaN,NaN,NaN,S,E],0);for(let N=4;N<_;N+=2){const F=x[N],I=x[N+1];w.set(Pe.createBezierPoints(S,E,C,R,F,I),(N-2)*3),[S,E,C,R]=[C,R,F,I]}}}for(let x=0,_=s.length;x<_;x++)d.push({line:y(s[x].map(w=>w??NaN),p,g,m,v),points:y(o[x].map(w=>w??NaN),p,g,m,v)});const A=new this.prototype.constructor;return A.build(d,n,i,1,l,h,r),A}#c(e=this.#l){const t=this.#n+e/2*this.#a;return this.#o%180===0?[t/this.#s,t/this.#r]:[t/this.#r,t/this.#s]}#d(){const[e,t,n,i]=this.#e,[r,s]=this.#c(0);return[e+r,t+s,n-2*r,i-2*s]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#i){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6)$e.pointBoundingBox(i[o],i[o+1],e);continue}let r=i[4],s=i[5];for(let o=6,l=i.length;o<l;o+=6){const[h,d,p,g,m,v]=i.subarray(o,o+6);$e.bezierBoundingBox(r,s,h,d,p,g,m,v,e),r=m,s=v}}const[t,n]=this.#c();e[0]=Hn(e[0]-t,0,1),e[1]=Hn(e[1]-n,0,1),e[2]=Hn(e[2]+t,0,1),e[3]=Hn(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#c();this.#l=e;const[i,r]=this.#c(),[s,o]=[i-t,r-n],l=this.#e;return l[0]-=s,l[1]-=o,l[2]+=2*s,l[3]+=2*o,l}updateParentDimensions([e,t],n){const[i,r]=this.#c();this.#s=e,this.#r=t,this.#a=n;const[s,o]=this.#c(),l=s-i,h=o-r,d=this.#e;return d[0]-=l,d[1]-=h,d[2]+=2*l,d[3]+=2*h,d}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Pe.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,i=0,r=0,s=0,o=0,l=0;switch(this.#t){case 90:i=t/e,r=-e/t,o=e;break;case 180:n=-1,s=-1,o=e,l=t;break;case 270:i=-t/e,r=e/t,l=t;break;default:return""}return`matrix(${n} ${i} ${r} ${s} ${Pe.svgRound(o)} ${Pe.svgRound(l)})`}getPathResizingSVGProperties([e,t,n,i]){const[r,s]=this.#c(),[o,l,h,d]=this.#e;if(Math.abs(h-r)<=Pe.PRECISION||Math.abs(d-s)<=Pe.PRECISION){const y=e+n/2-(o+h/2),A=t+i/2-(l+d/2);return{path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(t)}`,transform:`${this.rotationTransform} translate(${y} ${A})`}}}const p=(n-2*r)/(h-2*r),g=(i-2*s)/(d-2*s),m=h/n,v=d/i;return{path:{"transform-origin":`${Pe.svgRound(o)} ${Pe.svgRound(l)}`,transform:`${this.rotationTransform} scale(${m} ${v}) translate(${Pe.svgRound(r)} ${Pe.svgRound(s)}) scale(${p} ${g}) translate(${Pe.svgRound(-r)} ${Pe.svgRound(-s)})`}}}getPathResizedSVGProperties([e,t,n,i]){const[r,s]=this.#c(),o=this.#e,[l,h,d,p]=o;if(o[0]=e,o[1]=t,o[2]=n,o[3]=i,Math.abs(d-r)<=Pe.PRECISION||Math.abs(p-s)<=Pe.PRECISION){const A=e+n/2-(l+d/2),x=t+i/2-(h+p/2);for(const{line:_,points:w}of this.#i)Pe._translate(_,A,x,_),Pe._translate(w,A,x,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*r)/(d-2*r),m=(i-2*s)/(p-2*s),v=-g*(l+r)+e+r,y=-m*(h+s)+t+s;if(g!==1||m!==1||v!==0||y!==0)for(const{line:A,points:x}of this.#i)Pe._rescale(A,v,y,g,m,A),Pe._rescale(x,v,y,g,m,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[i,r]=n,s=this.#e,o=e-s[0],l=t-s[1];if(this.#s===i&&this.#r===r)for(const{line:h,points:d}of this.#i)Pe._translate(h,o,l,h),Pe._translate(d,o,l,d);else{const h=this.#s/i,d=this.#r/r;this.#s=i,this.#r=r;for(const{line:p,points:g}of this.#i)Pe._rescale(p,o,l,h,d,p),Pe._rescale(g,o,l,h,d,g);s[2]*=h,s[3]*=d}return s[0]=e,s[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Pe.svgRound(e)} ${Pe.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Pe.svgRound(e[0])} ${Pe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}},qD=class GD extends HD{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:jt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new GD(this._viewParameters);return e.updateAll(this),e}},dU=class $D extends jD{static _type="ink";static _editorType=rt.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){jt.initialize(e,t),this._defaultDrawingOptions=new qD(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return gt(this,"typesMap",new Map([[mt.INK_THICKNESS,"stroke-width"],[mt.INK_COLOR,"stroke"],[mt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,r){return new hU(e,t,n,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,r,s){return Tl.deserialize(e,t,n,i,r,s)}static async deserialize(e,t,n){let i=null;if(e instanceof Eb){const{data:{inkLists:s,rect:o,rotation:l,id:h,color:d,opacity:p,borderStyle:{rawWidth:g},popupRef:m},parent:{page:{pageNumber:v}}}=e;i=e={annotationType:rt.INK,color:Array.from(d),thickness:g,opacity:p,paths:{points:s},boxes:null,pageIndex:v-1,rect:o.slice(0),rotation:l,annotationElementId:h,id:h,deleted:!1,popupRef:m}}const r=await super.deserialize(e,t,n);return r._initialData=i,r}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=$D.getDefaultDrawingOptions({stroke:$e.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":o}}=this,l={annotationType:rt.INK,color:jt._colorManager.convert(r),opacity:s,thickness:o,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:i,pageIndex:r}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((s,o)=>s!==t[o])||e.thickness!==n||e.opacity!==i||e.pageIndex!==r}renderAnnotationElement(e){const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t}),null}},$m=class extends Tl{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}};const Ju=8,Oc=3;let sa=class{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(e,t,n,i,r,s,o){const l=this.#t(n,i,r,s);for(let h=0;h<8;h++){const d=(-h+l-o+16)%8,p=this.#n[2*d],g=this.#n[2*d+1];if(e[(n+p)*t+(i+g)]!==0)return d}return-1}static#s(e,t,n,i,r,s,o){const l=this.#t(n,i,r,s);for(let h=0;h<8;h++){const d=(h+l+o+16)%8,p=this.#n[2*d],g=this.#n[2*d+1];if(e[(n+p)*t+(i+g)]!==0)return d}return-1}static#r(e,t,n,i){const r=e.length,s=new Int32Array(r);for(let d=0;d<r;d++)s[d]=e[d]<=i?1:0;for(let d=1;d<n-1;d++)s[d*t]=s[d*t+t-1]=0;for(let d=0;d<t;d++)s[d]=s[t*n-1-d]=0;let o=1,l;const h=[];for(let d=1;d<n-1;d++){l=1;for(let p=1;p<t-1;p++){const g=d*t+p,m=s[g];if(m===0)continue;let v=d,y=p;if(m===1&&s[g-1]===0)o+=1,y-=1;else if(m>=1&&s[g+1]===0)o+=1,y+=1,m>1&&(l=m);else{m!==1&&(l=Math.abs(m));continue}const A=[p,d],x=y===p+1,_={isHole:x,points:A,id:o,parent:0};h.push(_);let w;for(const q of h)if(q.id===l){w=q;break}w?w.isHole?_.parent=x?w.parent:l:_.parent=x?l:w.parent:_.parent=x?l:0;const S=this.#i(s,t,d,p,v,y,0);if(S===-1){s[g]=-o,s[g]!==1&&(l=Math.abs(s[g]));continue}let E=this.#n[2*S],C=this.#n[2*S+1];const R=d+E,N=p+C;v=R,y=N;let F=d,I=p;for(;;){const q=this.#s(s,t,F,I,v,y,1);E=this.#n[2*q],C=this.#n[2*q+1];const L=F+E,H=I+C;A.push(H,L);const k=F*t+I;if(s[k+1]===0?s[k]=-o:s[k]===1&&(s[k]=o),L===d&&H===p&&F===R&&I===N){s[g]!==1&&(l=Math.abs(s[g]));break}else v=F,y=I,F=L,I=H}}}return h}static#a(e,t,n,i){if(n-t<=4){for(let R=t;R<n-2;R+=2)i.push(e[R],e[R+1]);return}const r=e[t],s=e[t+1],o=e[n-4]-r,l=e[n-3]-s,h=Math.hypot(o,l),d=o/h,p=l/h,g=d*s-p*r,m=l/o,v=1/h,y=Math.atan(m),A=Math.cos(y),x=Math.sin(y),_=v*(Math.abs(A)+Math.abs(x)),w=v*(1-_+_**2),S=Math.max(Math.atan(Math.abs(x+A)*w),Math.atan(Math.abs(x-A)*w));let E=0,C=t;for(let R=t+2;R<n-2;R+=2){const N=Math.abs(g-d*e[R+1]+p*e[R]);N>E&&(C=R,E=N)}E>(h*S)**2?(this.#a(e,t,C+2,i),this.#a(e,C,n,i)):i.push(r,s)}static#o(e){const t=[],n=e.length;return this.#a(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#l(e,t,n,i,r,s){const o=new Float32Array(s**2),l=-2*i**2,h=s>>1;for(let y=0;y<s;y++){const A=(y-h)**2;for(let x=0;x<s;x++)o[y*s+x]=Math.exp((A+(x-h)**2)/l)}const d=new Float32Array(256),p=-2*r**2;for(let y=0;y<256;y++)d[y]=Math.exp(y**2/p);const g=e.length,m=new Uint8Array(g),v=new Uint32Array(256);for(let y=0;y<n;y++)for(let A=0;A<t;A++){const x=y*t+A,_=e[x];let w=0,S=0;for(let C=0;C<s;C++){const R=y+C-h;if(!(R<0||R>=n))for(let N=0;N<s;N++){const F=A+N-h;if(F<0||F>=t)continue;const I=e[R*t+F],q=o[C*s+N]*d[Math.abs(I-_)];w+=I*q,S+=q}}const E=m[x]=Math.round(w/S);v[E]++}return[m,v]}static#c(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#d(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,r=1/0;for(let o=0,l=n.length;o<l;o++){if(e[(o<<2)+3]===0){i=n[o]=255;continue}const d=n[o]=e[o<<2];d>i&&(i=d),d<r&&(r=d)}const s=255/(i-r);for(let o=0;o<t;o++)n[o]=(n[o]-r)*s;return n}static#u(e){let t,n=-1/0,i=-1/0;const r=e.findIndex(l=>l!==0);let s=r,o=r;for(t=r;t<256;t++){const l=e[t];l>n&&(t-s>i&&(i=t-s,o=t-1),n=l,s=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:i}=e,{maxDim:r}=this.#e;let s=n,o=i;if(n>r||i>r){let g=n,m=i,v=Math.log2(Math.max(n,i)/r);const y=Math.floor(v);v=v===y?y-1:y;for(let x=0;x<v;x++){s=Math.ceil(g/2),o=Math.ceil(m/2);const _=new OffscreenCanvas(s,o);_.getContext("2d").drawImage(e,0,0,g,m,0,0,s,o),g=s,m=o,e!==t&&e.close(),e=_.transferToImageBitmap()}const A=Math.min(r/s,r/o);s=Math.round(s*A),o=Math.round(o*A)}const h=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,s,o);const d=h.getImageData(0,0,s,o).data;return[this.#d(d),s,o]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},r,s,o,l){let h=new OffscreenCanvas(1,1),d=h.getContext("2d",{alpha:!1});const p=200,g=d.font=`${n} ${i} ${p}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:v,actualBoundingBoxAscent:y,actualBoundingBoxDescent:A,fontBoundingBoxAscent:x,fontBoundingBoxDescent:_,width:w}=d.measureText(e),S=1.5,E=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||0,w)*S),C=Math.ceil(Math.max(Math.abs(y)+Math.abs(A)||p,Math.abs(x)+Math.abs(_)||p)*S);h=new OffscreenCanvas(E,C),d=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,E,C),d.fillStyle="black",d.fillText(e,E*(S-1)/2,C*(3-S)/2);const R=this.#d(d.getImageData(0,0,E,C).data),N=this.#c(R),F=this.#u(N),I=this.#r(R,E,C,F);return this.processDrawnLines({lines:{curves:I,width:E,height:C},pageWidth:r,pageHeight:s,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,r){const[s,o,l]=this.#f(e),[h,d]=this.#l(s,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#u(d),g=this.#r(h,o,l,p);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:s,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:h,height:d}=e,p=e.thickness??0,g=[],m=Math.min(t/h,n/d),v=m/t,y=m/n,A=[];for(const{points:_}of l){const w=s?this.#o(_):_;if(!w)continue;A.push(w);const S=w.length,E=new Float32Array(S),C=new Float32Array(3*(S===2?2:S-2));if(g.push({line:C,points:E}),S===2){E[0]=w[0]*v,E[1]=w[1]*y,C.set([NaN,NaN,NaN,NaN,E[0],E[1]],0);continue}let[R,N,F,I]=w;R*=v,N*=y,F*=v,I*=y,E.set([R,N,F,I],0),C.set([NaN,NaN,NaN,NaN,R,N],0);for(let q=4;q<S;q+=2){const L=E[q]=w[q]*v,H=E[q+1]=w[q+1]*y;C.set(Pe.createBezierPoints(R,N,F,I,L,H),(q-2)*3),[R,N,F,I]=[F,I,L,H]}}if(g.length===0)return null;const x=o?new $m:new Tl;return x.build(g,t,n,1,i,o?0:p,r),{outline:x,newCurves:A,areContours:o,thickness:p,width:h,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:r}){let s=1/0,o=-1/0,l=0;for(const w of e){l+=w.length;for(let S=2,E=w.length;S<E;S++){const C=w[S]-w[S-2];s=Math.min(s,C),o=Math.max(o,C)}}let h;s>=-128&&o<=127?h=Int8Array:s>=-32768&&o<=32767?h=Int16Array:h=Int32Array;const d=e.length,p=Ju+Oc*d,g=new Uint32Array(p);let m=0;g[m++]=p*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*h.BYTES_PER_ELEMENT,g[m++]=0,g[m++]=i,g[m++]=r,g[m++]=t?0:1,g[m++]=Math.max(0,Math.floor(n??0)),g[m++]=d,g[m++]=h.BYTES_PER_ELEMENT;for(const w of e)g[m++]=w.length-2,g[m++]=w[0],g[m++]=w[1];const v=new CompressionStream("deflate-raw"),y=v.writable.getWriter();await y.ready,y.write(g);const A=h.prototype.constructor;for(const w of e){const S=new A(w.length-2);for(let E=2,C=w.length;E<C;E++)S[E-2]=w[E]-w[E-2];y.write(S)}y.close();const x=await new Response(v.readable).arrayBuffer(),_=new Uint8Array(x);return tD(_)}static async decompressSignature(e){try{const t=L3(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),r=i.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let s=null,o=0;for await(const w of n)s||=new Uint8Array(new Uint32Array(w.buffer,0,4)[0]),s.set(w,o),o+=w.length;const l=new Uint32Array(s.buffer,0,s.length>>2),h=l[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const d=l[2],p=l[3],g=l[4]===0,m=l[5],v=l[6],y=l[7],A=[],x=(Ju+Oc*v)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(y){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(s.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(s.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(s.buffer,x);break}o=0;for(let w=0;w<v;w++){const S=l[Oc*w+Ju],E=new Float32Array(S+2);A.push(E);for(let C=0;C<Oc-1;C++)E[C]=l[Oc*w+Ju+C+1];for(let C=0;C<S;C++)E[C+2]=E[C]+_[o++]}return{areContours:g,thickness:m,outlines:A,width:d,height:p}}catch(t){return st(`decompressSignature: ${t}`),null}}},fU=class VD extends HD{constructor(){super(),super.updateProperties({fill:jt._defaultLineColor,"stroke-width":0})}clone(){const e=new VD;return e.updateAll(this),e}},pU=class XD extends qD{constructor(e){super(e),super.updateProperties({stroke:jt._defaultLineColor,"stroke-width":1})}clone(){const e=new XD(this._viewParameters);return e.updateAll(this),e}},gU=class Wr extends jD{#e=!1;#t=null;#n=null;#i=null;static _type="signature";static _editorType=rt.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){jt.initialize(e,t),this._defaultDrawingOptions=new fU,this._defaultDrawnSignatureOptions=new pU(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return gt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:i,mustSmooth:r,areContours:s,description:o,uuid:l,heightInPage:h}=this.#n,{rawDims:{pageWidth:d,pageHeight:p},rotation:g}=this.parent.viewport,m=sa.processDrawnLines({lines:i,pageWidth:d,pageHeight:p,rotation:g,innerMargin:Wr._INNER_MARGIN,mustSmooth:r,areContours:s});this.addSignature(m,h,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#i=e,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#t}set description(e){this.#t=e,super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:r}=this.#n,s=Math.max(i,r),o=sa.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:n,width:i,height:r},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,i){const{x:r,y:s}=this,{outline:o}=this.#n=e;this.#e=o instanceof $m,this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let l;this.#e?l=Wr.getDefaultDrawingOptions():(l=Wr._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[h,d]=this.parentDimensions,[,p]=this.pageDimensions;let g=t/p;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(h*this.width,d*this.height),this.x=r,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return sa.process(e,t,n,i,Wr._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return sa.extractContoursFromText(e,t,n,i,r,Wr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return sa.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:Wr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Wr.getDefaultDrawingOptions():(this._drawingOptions=Wr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s={annotationType:rt.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(s.paths={lines:t,points:n},s.uuid=this.#i,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,i,r,s){return s.areContours?$m.deserialize(e,t,n,i,r,s):Tl.deserialize(e,t,n,i,r,s)}static async deserialize(e,t,n){const i=await super.deserialize(e,t,n);return i.#e=e.areContours,i.#t=e.accessibilityData?.alt||"",i.#i=e.uuid,i}},mU=class extends jt{#e=null;#t=null;#n=null;#i=null;#s=null;#r="";#a=null;#o=!1;#l=null;#c=!1;#d=!1;static _type="stamp";static _editorType=rt.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#i=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){jt.initialize(e,t)}static isHandlingMimeForPasting(e){return Kh.includes(e)}static paste(e,t){t.pasteEditor({mode:rt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#r=e.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:s}=e||this.copyCanvas(null,null,!0).imageData,o=await n.guess({name:"altText",request:{data:i,width:r,height:s,channels:i.length/(r*s)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(i=>this.#u(i)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(i=>this.#u(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Kh.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(i)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#l!==null&&clearTimeout(this.#l);const e=200;this.#l=setTimeout(()=>{this.#l=null,this.#m()},e)}#p(){const{div:e}=this;let{width:t,height:n}=this.#e;const[i,r]=this.pageDimensions,s=.75;if(this.width)t=this.width*i,n=this.height*r;else if(t>s*i||n>s*r){const d=Math.min(s*i/t,s*r/n);t*=d,n*=d}const[o,l]=this.parentDimensions;this.setDims(t*o/i,n*l/r),this._uiManager.enableWaiting(!1);const h=this.#a=document.createElement("canvas");h.setAttribute("role","img"),this.addContainer(h),this.width=t/i,this.height=n/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:i,height:r}=this.#e,s=new Cs;let o=this.#e,l=i,h=r,d=null;if(t){if(i>t||r>t){const C=Math.min(t/i,t/r);l=Math.floor(i*C),h=Math.floor(r*C)}d=document.createElement("canvas");const g=d.width=Math.ceil(l*s.sx),m=d.height=Math.ceil(h*s.sy);this.#c||(o=this.#h(g,m));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",A="#42414d");const x=15,_=x*s.sx,w=x*s.sy,S=new OffscreenCanvas(_*2,w*2),E=S.getContext("2d");E.fillStyle=y,E.fillRect(0,0,_*2,w*2),E.fillStyle=A,E.fillRect(0,0,_,w),E.fillRect(_,w,_,w),v.fillStyle=v.createPattern(S,"repeat"),v.fillRect(0,0,g,m),v.drawImage(o,0,0,o.width,o.height,0,0,g,m)}let p=null;if(n){let g,m;if(s.symmetric&&o.width<e&&o.height<e)g=o.width,m=o.height;else if(o=this.#e,i>e||r>e){const A=Math.min(e/i,e/r);g=Math.floor(i*A),m=Math.floor(r*A),this.#c||(o=this.#h(g,m))}const y=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});y.drawImage(o,0,0,o.width,o.height,0,0,g,m),p={width:g,height:m,data:y.getImageData(0,0,g,m).data}}return{canvas:d,width:l,height:h,imageData:p}}#h(e,t){const{width:n,height:i}=this.#e;let r=n,s=i,o=this.#e;for(;r>2*e||s>2*t;){const l=r,h=s;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const d=new OffscreenCanvas(r,s);d.getContext("2d").drawImage(o,0,0,l,h,0,0,r,s),o=d.transferToImageBitmap()}return o}#m(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,r=new Cs,s=Math.ceil(n*e*r.sx),o=Math.ceil(i*t*r.sy),l=this.#a;if(!l||l.width===s&&l.height===o)return;l.width=s,l.height=o;const h=this.#c?this.#e:this.#h(s,o),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,s,o)}#y(e){if(e){if(this.#c){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,n]=this.pageDimensions,i=Math.round(this.width*t*pa.PDF_TO_CSS_UNITS),r=Math.round(this.height*n*pa.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,r);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,r),s.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let i=null,r=!1;if(e instanceof ID){const{data:{rect:y,rotation:A,id:x,structParent:_,popupRef:w},container:S,parent:{page:{pageNumber:E}},canvas:C}=e;let R,N;C?(delete e.canvas,{id:R,bitmap:N}=n.imageManager.getFromCanvas(S.id,C),C.remove()):(r=!0,e._hasNoCanvas=!0);const F=(await t._structTree.getAriaAttributes(`${fb}${x}`))?.get("aria-label")||"";i=e={annotationType:rt.STAMP,bitmapId:R,bitmap:N,pageIndex:E-1,rect:y.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:F},isSvg:!1,structParent:_,popupRef:w}}const s=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:h,bitmapId:d,isSvg:p,accessibilityData:g}=e;r?(n.addMissingCanvas(e.id,s),s.#o=!0):d&&n.imageManager.isValidId(d)?(s.#t=d,l&&(s.#e=l)):s.#i=h,s.#c=p;const[m,v]=s.pageDimensions;return s.width=(o[2]-o[0])/m,s.height=(o[3]-o[1])/v,g&&(s.altTextData=g),s._initialData=i,s.#d=!!i,s}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:rt.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const o=this.#b(n);if(o.isSame)return null;o.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,t===null)return n;t.stamps||=new Map;const s=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:s,serialized:n}),n.bitmap=this.#y(!1);else if(this.#c){const o=t.stamps.get(this.#t);s>o.area&&(o.area=s,o.serialized.bitmap.close(),o.serialized.bitmap=this.#y(!1))}return n}#b(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,i=e.pageIndex===t,r=(e.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}},YD=class xs{#e;#t=!1;#n=null;#i=null;#s=null;#r=new Map;#a=!1;#o=!1;#l=!1;#c=null;#d=null;#u=null;#f=null;#g=null;#p=-1;#h;static _initialized=!1;static#m=new Map([cU,dU,mU,Z2,gU].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:l,viewport:h,l10n:d}){const p=[...xs.#m.values()];if(!xs._initialized){xs._initialized=!0;for(const g of p)g.initialize(d,e)}e.registerEditorTypes(p),this.#h=e,this.pageIndex=t,this.div=n,this.#e=r,this.#n=s,this.viewport=h,this.#u=l,this.drawLayer=o,this._structTree=i,this.#h.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#h.getMode()===rt.NONE}updateToolbar(e){this.#h.updateToolbar(e)}updateMode(e=this.#h.getMode()){switch(this.#v(),e){case rt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case rt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case rt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of xs.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#h.setEditingState(e)}addCommands(e){this.#h.addCommands(e)}cleanUndoStack(e){this.#h.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#l=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const e=new Set;for(const n of this.#r.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#h.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#n){this.#l=!1;return}const t=this.#n.getEditableAnnotations();for(const n of t){if(n.hide(),this.#h.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}this.#l=!1}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#g){this.#g=new AbortController;const i=this.#h.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",r=>{const{clientX:o,clientY:l,timeStamp:h}=r,d=this.#p;if(h-d>500){this.#p=h;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(o,l);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let m;const v=new RegExp(`^${K_}[0-9]+$`);for(const A of g)if(v.test(A.id)){m=A.id;break}if(!m)return;const y=this.#r.get(m);y?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),y.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of this.#r.values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}if(this.#n){const i=this.#n.getEditableAnnotations();for(const r of i){const{id:s}=r.data;if(this.#h.isDeletedAnnotationElement(s))continue;let o=t.get(s);if(o){o.resetAnnotationElement(r),o.show(!1),r.show();continue}o=e.get(s),o&&(this.#h.addChangedExistingAnnotation(o),o.renderAnnotationElement(r)&&o.show(!1)),r.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of xs.#m.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#h.getActive()!==e&&this.#h.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#h.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#y(e){this.#h.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:n}=Cn.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#h.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Z2.startHighlighting(this,this.#h.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#h._signal}),e.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const e=this.#h.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#i?.abort(),this.#i=null}attach(e){this.#r.set(e.id,e);const{annotationElementId:t}=e;t&&this.#h.isDeletedAnnotationElement(t)&&this.#h.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#h.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#h.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#h.addDeletedAnnotationElement(e.annotationElementId),jt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#h.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#l),this.#h.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#h._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return this.#h.getId()}get#b(){return xs.#m.get(this.#h.getMode())}combinedSignal(e){return this.#h.combinedSignal(e)}#A(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#h.updateMode(e.mode);const{offsetX:n,offsetY:i}=this.#x(),r=this.getNextId(),s=this.#A({parent:this,id:r,x:n,y:i,uiManager:this.#h,isCentered:!0,...t});s&&this.add(s)}async deserialize(e){return await xs.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#h)||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=this.#A({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#h,isCentered:t,...n});return r&&this.add(r),r}#x(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),s=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),h=(r+o)/2-e,d=(s+l)/2-t,[p,g]=this.viewport.rotation%180===0?[h,d]:[d,h];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#x(),!0,e)}setSelected(e){this.#h.setSelected(e)}toggleSelected(e){this.#h.toggleSelected(e)}unselect(e){this.#h.unselect(e)}pointerup(e){const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#a||(this.#a=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#h.getMode();if(n===rt.STAMP||n===rt.SIGNATURE){this.#h.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#h.getMode()===rt.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#a=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const n=this.#h.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#c){this.#b.startDrawing(this,this.#h,!1,e);return}this.#h.setCurrentDrawingSession(this),this.#c=new AbortController;const t=this.#h.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#h,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#c?(this.#h.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#b.endDrawing(e)):null}findNewParent(e,t,n){const i=this.#h.findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#h.getActive()?.parent===this&&(this.#h.commitOrRemove(),this.#h.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#h.removeLayer(this)}#v(){for(const e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Ss(this.div,e);for(const t of this.#h.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#h.commitOrRemove(),this.#v();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Ss(this.div,{rotation:n}),t!==n)for(const i of this.#r.values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#h.viewParameters.realScale}},KD=class zn{#e=null;#t=new Map;#n=new Map;static#i=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return gt(this,"_svgFactory",new ul)}static#s(e,[t,n,i,r]){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*r}%`}#r(){const e=zn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#a(e,t){const n=zn._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=zn._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i}#o(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)}draw(e,t=!1,n=!1){const i=zn.#i++,r=this.#r(),s=zn._svgFactory.createElement("defs");r.append(s);const o=zn._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(i,o);const h=n?this.#a(s,l):null,d=zn._svgFactory.createElement("use");return r.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(r,e),this.#t.set(i,r),{id:i,clipPathId:`url(#${h})`}}drawOutline(e,t){const n=zn.#i++,i=this.#r(),r=zn._svgFactory.createElement("defs");i.append(r);const s=zn._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const p=zn._svgFactory.createElement("mask");r.append(p),l=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",l),p.setAttribute("maskUnits","objectBoundingBox");const g=zn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=zn._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const h=zn._svgFactory.createElement("use");i.append(h),h.setAttribute("href",`#${o}`),l&&h.setAttribute("mask",`url(#${l})`);const d=h.cloneNode();return i.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(n,i),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:i,rootClass:r,path:s}=t,o=typeof e=="number"?this.#t.get(e):e;if(o){if(n&&this.#o(o,n),i&&zn.#s(o,i),r){const{classList:l}=o;for(const[h,d]of Object.entries(r))l.toggle(h,d)}if(s){const h=o.firstChild.firstChild;this.#o(h,s)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}};globalThis._pdfjsTestingUtils={HighlightOutliner:qm};globalThis.pdfjsLib={AbortException:Gr,AnnotationEditorLayer:YD,AnnotationEditorParamsType:mt,AnnotationEditorType:rt,AnnotationEditorUIManager:ko,AnnotationLayer:Tb,AnnotationMode:yr,AnnotationType:Zt,build:kD,ColorPicker:Sb,createValidAbsoluteUrl:ub,DOMSVGFactory:ul,DrawLayer:KD,FeatureTest:Cn,fetchData:Oo,getDocument:xb,getFilenameFromUrl:iD,getPdfFilenameFromUrl:rD,getUuid:db,getXfaPageViewport:sD,GlobalWorkerOptions:Ts,ImageKind:sl,InvalidPDFException:Yh,isDataScheme:Dl,isPdfFile:fd,isValidExplicitDest:dD,MathClamp:Hn,noContextMenu:Gi,normalizeUnicode:eD,OPS:ol,OutputScale:Cs,PasswordResponses:Q_,PDFDataRangeTransport:_b,PDFDateString:gb,PDFWorker:Zh,PermissionFlag:Z_,PixelsPerInch:pa,RenderingCancelledException:dd,ResponseException:cl,setLayerDimensions:Ss,shadow:gt,SignatureExtractor:sa,stopEvent:Jt,SupportedImageMimeTypes:Kh,TextLayer:ll,TouchManager:bb,updateUrlHash:hb,Util:$e,VerbosityLevel:xl,version:Db,XfaLayer:wb};const bU=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Gr,AnnotationEditorLayer:YD,AnnotationEditorParamsType:mt,AnnotationEditorType:rt,AnnotationEditorUIManager:ko,AnnotationLayer:Tb,AnnotationMode:yr,AnnotationType:Zt,ColorPicker:Sb,DOMSVGFactory:ul,DrawLayer:KD,FeatureTest:Cn,GlobalWorkerOptions:Ts,ImageKind:sl,InvalidPDFException:Yh,MathClamp:Hn,OPS:ol,OutputScale:Cs,PDFDataRangeTransport:_b,PDFDateString:gb,PDFWorker:Zh,PasswordResponses:Q_,PermissionFlag:Z_,PixelsPerInch:pa,RenderingCancelledException:dd,ResponseException:cl,SignatureExtractor:sa,SupportedImageMimeTypes:Kh,TextLayer:ll,TouchManager:bb,Util:$e,VerbosityLevel:xl,XfaLayer:wb,build:kD,createValidAbsoluteUrl:ub,fetchData:Oo,getDocument:xb,getFilenameFromUrl:iD,getPdfFilenameFromUrl:rD,getUuid:db,getXfaPageViewport:sD,isDataScheme:Dl,isPdfFile:fd,isValidExplicitDest:dD,noContextMenu:Gi,normalizeUnicode:eD,setLayerDimensions:Ss,shadow:gt,stopEvent:Jt,updateUrlHash:hb,version:Db},Symbol.toStringTag,{value:"Module"}));function ZD(u){var e,t,n="";if(typeof u=="string"||typeof u=="number")n+=u;else if(typeof u=="object")if(Array.isArray(u)){var i=u.length;for(e=0;e<i;e++)u[e]&&(t=ZD(u[e]))&&(n&&(n+=" "),n+=t)}else for(t in u)u[t]&&(n&&(n+=" "),n+=t);return n}function gd(){for(var u,e,t=0,n="",i=arguments.length;t<i;t++)(u=arguments[t])&&(e=ZD(u))&&(n&&(n+=" "),n+=e);return n}var Q2=Object.prototype.hasOwnProperty;function J2(u,e,t){for(t of u.keys())if(Do(t,e))return t}function Do(u,e){var t,n,i;if(u===e)return!0;if(u&&e&&(t=u.constructor)===e.constructor){if(t===Date)return u.getTime()===e.getTime();if(t===RegExp)return u.toString()===e.toString();if(t===Array){if((n=u.length)===e.length)for(;n--&&Do(u[n],e[n]););return n===-1}if(t===Set){if(u.size!==e.size)return!1;for(n of u)if(i=n,i&&typeof i=="object"&&(i=J2(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(u.size!==e.size)return!1;for(n of u)if(i=n[0],i&&typeof i=="object"&&(i=J2(e,i),!i)||!Do(n[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)u=new Uint8Array(u),e=new Uint8Array(e);else if(t===DataView){if((n=u.byteLength)===e.byteLength)for(;n--&&u.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(u)){if((n=u.byteLength)===e.byteLength)for(;n--&&u[n]===e[n];);return n===-1}if(!t||typeof u=="object"){n=0;for(t in u)if(Q2.call(u,t)&&++n&&!Q2.call(e,t)||!(t in e)||!Do(u[t],e[t]))return!1;return Object.keys(e).length===n}}return u!==u&&e!==e}function Sl(u){let e=!1;return{promise:new Promise((n,i)=>{u.then(r=>!e&&n(r)).catch(r=>!e&&i(r))}),cancel(){e=!0}}}const yU=["onCopy","onCut","onPaste"],vU=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],AU=["onFocus","onBlur"],xU=["onInput","onInvalid","onReset","onSubmit"],_U=["onLoad","onError"],DU=["onKeyDown","onKeyPress","onKeyUp"],wU=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],EU=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],TU=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],SU=["onSelect"],CU=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],RU=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],UU=["onScroll"],kU=["onWheel"],FU=["onAnimationStart","onAnimationEnd","onAnimationIteration"],MU=["onTransitionEnd"],LU=["onToggle"],NU=["onChange"],OU=[...yU,...vU,...AU,...xU,..._U,...DU,...wU,...EU,...TU,...SU,...CU,...RU,...UU,...kU,...FU,...MU,...NU,...LU];function QD(u,e){const t={};for(const n of OU){const i=u[n];i&&(e?t[n]=(r=>i(r,e(n))):t[n]=i)}return t}var BU="Invariant failed";function Nt(u,e){if(!u)throw new Error(BU)}var xg,eA;function IU(){if(eA)return xg;eA=1;var u=function(){};return xg=u,xg}var PU=IU();const jn=cd(PU),JD=Me.createContext(null),WU="noopener noreferrer nofollow";class zU{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Nt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Nt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Nt(this.pdfDocument),Nt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Nt(Array.isArray(t));const n=t[0];new Promise(i=>{Nt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{i(r)}).catch(()=>{Nt(!1)}):typeof n=="number"?i(n):Nt(!1)}).then(i=>{const r=i+1;Nt(this.pdfViewer),Nt(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Nt(this.pdfViewer),Nt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||WU,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function wo({children:u,type:e}){return me.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:u})}const tA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function HU(u,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return u}}function Fo(){return Me.useReducer(HU,{value:void 0,error:void 0})}const md=typeof window<"u",ew=md&&window.location.protocol==="file:";function jU(u){return typeof u<"u"}function ta(u){return jU(u)&&u!==null}function qU(u){return typeof u=="string"}function GU(u){return u instanceof ArrayBuffer}function $U(u){return Nt(md),u instanceof Blob}function Vm(u){return qU(u)&&/^data:/.test(u)}function nA(u){Nt(Vm(u));const[e="",t=""]=u.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function VU(){return md&&window.devicePixelRatio||1}const tw="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function iA(){jn(!ew,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${tw}`)}function XU(){jn(!ew,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${tw}`)}function ma(u){u?.cancel&&u.cancel()}function Xm(u,e){return Object.defineProperty(u,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(u,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(u,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get(){return this.view[3]},configurable:!0}),u}function YU(u){return u.name==="RenderingCancelledException"}function KU(u){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(u)})}const{PDFDataRangeTransport:ZU}=bU,QU=(u,e)=>{switch(e){case tA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");u(t);break}case tA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");u(t);break}}};function rA(u){return typeof u=="object"&&u!==null&&("data"in u||"range"in u||"url"in u)}const JU=Me.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:r,file:s,inputRef:o,imageResourcesPath:l,loading:h="Loading PDF…",noData:d="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:m,onLoadSuccess:v,onPassword:y=QU,onSourceError:A,onSourceSuccess:x,options:_,renderMode:w,rotate:S,scale:E,...C},R){const[N,F]=Fo(),{value:I,error:q}=N,[L,H]=Fo(),{value:k,error:Z}=L,M=Me.useRef(new zU),O=Me.useRef([]),K=Me.useRef(void 0),Q=Me.useRef(void 0);s&&s!==K.current&&rA(s)&&(jn(!Do(s,K.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),K.current=s),_&&_!==Q.current&&(jn(!Do(_,Q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Q.current=_);const z=Me.useRef({scrollPageIntoView:Be=>{const{dest:U,pageNumber:ae,pageIndex:ee=ae-1}=Be;if(p){p({dest:U,pageIndex:ee,pageNumber:ae});return}const Y=O.current[ee];if(Y){Y.scrollIntoView();return}jn(!1,`An internal link leading to page ${ae} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Me.useImperativeHandle(R,()=>({linkService:M,pages:O,viewer:z}),[]);function P(){x&&x()}function V(){q&&(jn(!1,q.toString()),A&&A(q))}function $(){F({type:"RESET"})}Me.useEffect($,[s,F]);const se=Me.useCallback(async()=>{if(!s)return null;if(typeof s=="string")return Vm(s)?{data:nA(s)}:(iA(),{url:s});if(s instanceof ZU)return{range:s};if(GU(s))return{data:s};if(md&&$U(s))return{data:await KU(s)};if(Nt(typeof s=="object"),Nt(rA(s)),"url"in s&&typeof s.url=="string"){if(Vm(s.url)){const{url:Be,...U}=s;return{data:nA(Be),...U}}iA()}return s},[s]);Me.useEffect(()=>{const Be=Sl(se());return Be.promise.then(U=>{F({type:"RESOLVE",value:U})}).catch(U=>{F({type:"REJECT",error:U})}),()=>{ma(Be)}},[se,F]),Me.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){V();return}P()}},[I]);function le(){k&&(v&&v(k),O.current=new Array(k.numPages),M.current.setDocument(k))}function ye(){Z&&(jn(!1,Z.toString()),g&&g(Z))}Me.useEffect(function(){H({type:"RESET"})},[H,I]),Me.useEffect(function(){if(!I)return;const U=_?{...I,..._}:I,ae=xb(U);m&&(ae.onProgress=m),y&&(ae.onPassword=y);const ee=ae,Y=ee.promise.then(X=>{H({type:"RESOLVE",value:X})}).catch(X=>{ee.destroyed||H({type:"REJECT",error:X})});return()=>{Y.finally(()=>ee.destroy())}},[_,H,I]),Me.useEffect(()=>{if(!(typeof k>"u")){if(k===!1){ye();return}le()}},[k]),Me.useEffect(function(){M.current.setViewer(z.current),M.current.setExternalLinkRel(i),M.current.setExternalLinkTarget(r)},[i,r]);const ve=Me.useCallback((Be,U)=>{O.current[Be]=U},[]),Ee=Me.useCallback(Be=>{delete O.current[Be]},[]),Fe=Me.useMemo(()=>({imageResourcesPath:l,linkService:M.current,onItemClick:p,pdf:k,registerPage:ve,renderMode:w,rotate:S,scale:E,unregisterPage:Ee}),[l,p,k,ve,w,S,E,Ee]),Ue=Me.useMemo(()=>QD(C,()=>k),[C,k]);function Oe(){function Be(ae){return!!ae?.pdf}if(!Be(Fe))throw new Error("pdf is undefined");const U=typeof e=="function"?e(Fe):e;return me.jsx(JD.Provider,{value:Fe,children:U})}function Ve(){return s?k==null?me.jsx(wo,{type:"loading",children:typeof h=="function"?h():h}):k===!1?me.jsx(wo,{type:"error",children:typeof n=="function"?n():n}):Oe():me.jsx(wo,{type:"no-data",children:typeof d=="function"?d():d})}return me.jsx("div",{className:gd("react-pdf__Document",t),ref:o,...Ue,children:Ve()})});function nw(){return Me.useContext(JD)}function iw(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var t=u.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(r){for(var s=0,o=t;s<o.length;s++){var l=o[s];typeof l=="function"?l(r):l&&(l.current=r)}}}const rw=Me.createContext(null);function bd(){return Me.useContext(rw)}function ek(){const u=nw(),e=bd();Nt(e);const t={...u,...e},{imageResourcesPath:n,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:h,pdf:d,renderForms:p,rotate:g,scale:m=1}=t;Nt(d),Nt(h),Nt(i);const[v,y]=Fo(),{value:A,error:x}=v,_=Me.useRef(null);jn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){A&&s&&s(A)}function S(){x&&(jn(!1,x.toString()),r&&r(x))}Me.useEffect(function(){y({type:"RESET"})},[y,h]),Me.useEffect(function(){if(!h)return;const F=Sl(h.getAnnotations()),I=F;return F.promise.then(q=>{y({type:"RESOLVE",value:q})}).catch(q=>{y({type:"REJECT",error:q})}),()=>{ma(I)}},[y,h]),Me.useEffect(()=>{if(A!==void 0){if(A===!1){S();return}w()}},[A]);function E(){l&&l()}function C(N){jn(!1,`${N}`),o&&o(N)}const R=Me.useMemo(()=>h.getViewport({scale:m,rotation:g}),[h,g,m]);return Me.useEffect(function(){if(!d||!h||!i||!A)return;const{current:F}=_;if(!F)return;const I=R.clone({dontFlip:!0}),q={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:F,l10n:null,page:h,structTreeLayer:null,viewport:I},L={annotations:A,annotationStorage:d.annotationStorage,div:F,imageResourcesPath:n,linkService:i,page:h,renderForms:p,viewport:I};F.innerHTML="";try{new Tb(q).render(L),E()}catch(H){C(H)}return()=>{}},[A,n,i,h,d,p,R]),me.jsx("div",{className:gd("react-pdf__Page__annotations","annotationLayer"),ref:_})}const sw={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},tk=/^H(\d+)$/;function nk(u){return u in sw}function yd(u){return"children"in u}function aw(u){return yd(u)?u.children.length===1&&0 in u.children&&"id"in u.children[0]:!1}function ik(u){const e={};if(yd(u)){const{role:t}=u,n=t.match(tk);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(nk(t)){const i=sw[t];i&&(e.role=i)}}return e}function ow(u){const e={};if(yd(u)){if(u.alt!==void 0&&(e["aria-label"]=u.alt),u.lang!==void 0&&(e.lang=u.lang),aw(u)){const[t]=u.children;if(t){const n=ow(t);return{...e,...n}}}}else"id"in u&&(e["aria-owns"]=u.id);return e}function rk(u){return u?{...ik(u),...ow(u)}:null}function cw({className:u,node:e}){const t=Me.useMemo(()=>rk(e),[e]),n=Me.useMemo(()=>!yd(e)||aw(e)?null:e.children.map((i,r)=>me.jsx(cw,{node:i},r)),[e]);return me.jsx("span",{className:u,...t,children:n})}function sk(){const u=bd();Nt(u);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=u,[n,i]=Fo(),{value:r,error:s}=n,{customTextRenderer:o,page:l}=u;function h(){r&&t&&t(r)}function d(){s&&(jn(!1,s.toString()),e&&e(s))}return Me.useEffect(function(){i({type:"RESET"})},[i,l]),Me.useEffect(function(){if(o||!l)return;const g=Sl(l.getStructTree()),m=g;return g.promise.then(v=>{i({type:"RESOLVE",value:v})}).catch(v=>{i({type:"REJECT",error:v})}),()=>ma(m)},[o,l,i]),Me.useEffect(()=>{if(r!==void 0){if(r===!1){d();return}h()}},[r]),r?me.jsx(cw,{className:"react-pdf__Page__structTree structTree",node:r}):null}const sA=yr;function ak(u){const e=bd();Nt(e);const t={...e,...u},{_className:n,canvasBackground:i,devicePixelRatio:r=VU(),onRenderError:s,onRenderSuccess:o,page:l,renderForms:h,renderTextLayer:d,rotate:p,scale:g}=t,{canvasRef:m}=u;Nt(l);const v=Me.useRef(null);function y(){l&&o&&o(Xm(l,g))}function A(S){YU(S)||(jn(!1,S.toString()),s&&s(S))}const x=Me.useMemo(()=>l.getViewport({scale:g*r,rotation:p}),[r,l,p,g]),_=Me.useMemo(()=>l.getViewport({scale:g,rotation:p}),[l,p,g]);Me.useEffect(function(){if(!l)return;l.cleanup();const{current:E}=v;if(!E)return;E.width=x.width,E.height=x.height,E.style.width=`${Math.floor(_.width)}px`,E.style.height=`${Math.floor(_.height)}px`,E.style.visibility="hidden";const C={annotationMode:h?sA.ENABLE_FORMS:sA.ENABLE,canvasContext:E.getContext("2d",{alpha:!1}),viewport:x};i&&(C.background=i);const R=l.render(C),N=R;return R.promise.then(()=>{E.style.visibility="",y()}).catch(A),()=>ma(N)},[i,l,h,x,_]);const w=Me.useCallback(()=>{const{current:S}=v;S&&(S.width=0,S.height=0)},[]);return Me.useEffect(()=>w,[w]),me.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:iw(m,v),style:{display:"block",userSelect:"none"},children:d?me.jsx(sk,{}):null})}function ok(u){return"str"in u}function ck(){const u=bd();Nt(u);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:s,pageIndex:o,pageNumber:l,rotate:h,scale:d}=u;Nt(s);const[p,g]=Fo(),{value:m,error:v}=p,y=Me.useRef(null);jn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){m&&n&&n(m)}function x(){v&&(jn(!1,v.toString()),t&&t(v))}Me.useEffect(function(){g({type:"RESET"})},[s,g]),Me.useEffect(function(){if(!s)return;const N=Sl(s.getTextContent()),F=N;return N.promise.then(I=>{g({type:"RESOLVE",value:I})}).catch(I=>{g({type:"REJECT",error:I})}),()=>ma(F)},[s,g]),Me.useEffect(()=>{if(m!==void 0){if(m===!1){x();return}A()}},[m]);const _=Me.useCallback(()=>{r&&r()},[r]),w=Me.useCallback(R=>{jn(!1,R.toString()),i&&i(R)},[i]);function S(){const R=y.current;R&&R.classList.add("selecting")}function E(){const R=y.current;R&&R.classList.remove("selecting")}const C=Me.useMemo(()=>s.getViewport({scale:d,rotation:h}),[s,h,d]);return Me.useLayoutEffect(function(){if(!s||!m)return;const{current:N}=y;if(!N)return;N.innerHTML="";const F=s.streamTextContent({includeMarkedContent:!0}),I={container:N,textContentSource:F,viewport:C},q=new ll(I),L=q;return q.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",N.append(H);const k=N.querySelectorAll('[role="presentation"]');if(e){let Z=0;m.items.forEach((M,O)=>{if(!ok(M))return;const K=k[Z];if(!K)return;const Q=e({pageIndex:o,pageNumber:l,itemIndex:O,...M});K.innerHTML=Q,Z+=M.str&&M.hasEOL?2:1})}_()}).catch(w),()=>ma(L)},[e,w,_,s,o,l,m,C]),me.jsx("div",{className:gd("react-pdf__Page__textContent","textLayer"),onMouseUp:E,onMouseDown:S,ref:y})}const aA=1;function lk(u){const t={...nw(),...u},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:s,children:o,className:l,customRenderer:h,customTextRenderer:d,devicePixelRatio:p,error:g="Failed to load the page.",height:m,inputRef:v,loading:y="Loading page…",noData:A="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:_,onGetStructTreeError:w,onGetStructTreeSuccess:S,onGetTextError:E,onGetTextSuccess:C,onLoadError:R,onLoadSuccess:N,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:I,onRenderError:q,onRenderSuccess:L,onRenderTextLayerError:H,onRenderTextLayerSuccess:k,pageIndex:Z,pageNumber:M,pdf:O,registerPage:K,renderAnnotationLayer:Q=!0,renderForms:z=!1,renderMode:P="canvas",renderTextLayer:V=!0,rotate:$,scale:se=aA,unregisterPage:le,width:ye,...ve}=t,[Ee,Fe]=Fo(),{value:Ue,error:Oe}=Ee,Ve=Me.useRef(null);Nt(O);const Be=ta(M)?M-1:Z??null,U=M??(ta(Z)?Z+1:null),ae=$??(Ue?Ue.rotate:null),ee=Me.useMemo(()=>{if(!Ue)return null;let Re=1;const Ne=se??aA;if(ye||m){const Ie=Ue.getViewport({scale:1,rotation:ae});ye?Re=ye/Ie.width:m&&(Re=m/Ie.height)}return Ne*Re},[m,Ue,ae,se,ye]);Me.useEffect(function(){return()=>{ta(Be)&&i&&le&&le(Be)}},[i,O,Be,le]);function Y(){if(N){if(!Ue||!ee)return;N(Xm(Ue,ee))}if(i&&K){if(!ta(Be)||!Ve.current)return;K(Be,Ve.current)}}function X(){Oe&&(jn(!1,Oe.toString()),R&&R(Oe))}Me.useEffect(function(){Fe({type:"RESET"})},[Fe,O,Be]),Me.useEffect(function(){if(!O||!U)return;const Ne=Sl(O.getPage(U)),Ie=Ne;return Ne.promise.then(je=>{Fe({type:"RESOLVE",value:je})}).catch(je=>{Fe({type:"REJECT",error:je})}),()=>ma(Ie)},[Fe,O,U]),Me.useEffect(()=>{if(Ue!==void 0){if(Ue===!1){X();return}Y()}},[Ue,ee]);const ie=Me.useMemo(()=>ta(Be)&&U&&ta(ae)&&ta(ee)?{_className:n,canvasBackground:r,customTextRenderer:d,devicePixelRatio:p,onGetAnnotationsError:x,onGetAnnotationsSuccess:_,onGetStructTreeError:w,onGetStructTreeSuccess:S,onGetTextError:E,onGetTextSuccess:C,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:I,onRenderError:q,onRenderSuccess:L,onRenderTextLayerError:H,onRenderTextLayerSuccess:k,page:Ue,pageIndex:Be,pageNumber:U,renderForms:z,renderTextLayer:V,rotate:ae,scale:ee}:null,[n,r,d,p,x,_,w,S,E,C,F,I,q,L,H,k,Ue,Be,U,z,V,ae,ee]),De=Me.useMemo(()=>QD(ve,()=>Ue&&(ee?Xm(Ue,ee):void 0)),[ve,Ue,ee]),_e=`${Be}@${ee}/${ae}`;function oe(){switch(P){case"custom":return Nt(h),me.jsx(h,{},`${_e}_custom`);case"none":return null;case"canvas":default:return me.jsx(ak,{canvasRef:s},`${_e}_canvas`)}}function J(){return V?me.jsx(ck,{},`${_e}_text`):null}function re(){return Q?me.jsx(ek,{},`${_e}_annotations`):null}function ue(){function Re(Ie){return!!Ie?.page}if(!Re(ie))throw new Error("page is undefined");const Ne=typeof o=="function"?o(ie):o;return me.jsxs(rw.Provider,{value:ie,children:[oe(),J(),re(),Ne]})}function Ae(){return U?O===null||Ue===void 0||Ue===null?me.jsx(wo,{type:"loading",children:typeof y=="function"?y():y}):O===!1||Ue===!1?me.jsx(wo,{type:"error",children:typeof g=="function"?g():g}):ue():me.jsx(wo,{type:"no-data",children:typeof A=="function"?A():A})}return me.jsx("div",{className:gd(n,l),"data-page-number":U,ref:iw(v,Ve),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ee}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...De,children:Ae()})}XU();Ts.workerSrc="pdf.worker.mjs";Ts.workerSrc=`//unpkg.com/pdfjs-dist@${Db}/build/pdf.worker.min.js`;const uk=({file:u})=>{const[e,t]=Me.useState(null),[n,i]=Me.useState(1),[r,s]=Me.useState(1),o=({numPages:g})=>{t(g)},l=()=>{i(g=>Math.max(g-1,1))},h=()=>{i(g=>Math.min(g+1,e||1))},d=()=>{s(g=>Math.min(g+.2,2))},p=()=>{s(g=>Math.max(g-.2,.5))};return me.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[me.jsx("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-4 py-3",children:me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("div",{className:"flex items-center space-x-2",children:[me.jsx("button",{onClick:l,disabled:n<=1,className:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:me.jsx(r3,{className:"w-4 h-4"})}),me.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",n," of ",e||0]}),me.jsx("button",{onClick:h,disabled:n>=(e||0),className:"p-2 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:me.jsx(a3,{className:"w-4 h-4"})})]}),me.jsxs("div",{className:"flex items-center space-x-2",children:[me.jsx("button",{onClick:p,className:"p-2 rounded-md hover:bg-gray-100",children:me.jsx(_3,{className:"w-4 h-4"})}),me.jsxs("span",{className:"text-sm text-gray-600 min-w-[60px] text-center",children:[Math.round(r*100),"%"]}),me.jsx("button",{onClick:d,className:"p-2 rounded-md hover:bg-gray-100",children:me.jsx(A3,{className:"w-4 h-4"})})]})]})}),me.jsx("div",{className:"flex-1 overflow-auto p-4",children:me.jsx("div",{className:"flex justify-center",children:me.jsx(JU,{file:u,onLoadSuccess:o,className:"max-w-full",children:me.jsx(lk,{pageNumber:n,scale:r,className:"shadow-lg border border-gray-300"})})})})]})},hk=({content:u})=>me.jsx("div",{className:"h-full overflow-auto p-6",children:me.jsx("div",{className:"max-w-none",children:me.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-800 bg-white p-6 rounded-lg border border-gray-200",children:u})})});var Ii={},Cb="1.13.7",oA=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},vd=Array.prototype,Rb=Object.prototype,cA=typeof Symbol<"u"?Symbol.prototype:null,dk=vd.push,Cl=vd.slice,hl=Rb.toString,fk=Rb.hasOwnProperty,lw=typeof ArrayBuffer<"u",pk=typeof DataView<"u",gk=Array.isArray,lA=Object.keys,uA=Object.create,hA=lw&&ArrayBuffer.isView,mk=isNaN,bk=isFinite,uw=!{toString:null}.propertyIsEnumerable("toString"),dA=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],yk=Math.pow(2,53)-1;function Jn(u,e){return e=e==null?u.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+e];switch(e){case 0:return u.call(this,n);case 1:return u.call(this,arguments[0],n);case 2:return u.call(this,arguments[0],arguments[1],n)}var r=Array(e+1);for(i=0;i<e;i++)r[i]=arguments[i];return r[e]=n,u.apply(this,r)}}function Ms(u){var e=typeof u;return e==="function"||e==="object"&&!!u}function hw(u){return u===null}function Ub(u){return u===void 0}function kb(u){return u===!0||u===!1||hl.call(u)==="[object Boolean]"}function dw(u){return!!(u&&u.nodeType===1)}function Gn(u){var e="[object "+u+"]";return function(t){return hl.call(t)===e}}const Ad=Gn("String"),Fb=Gn("Number"),fw=Gn("Date"),pw=Gn("RegExp"),gw=Gn("Error"),Mb=Gn("Symbol"),Lb=Gn("ArrayBuffer");var mw=Gn("Function"),vk=oA.document&&oA.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof vk!="function"&&(mw=function(u){return typeof u=="function"||!1});const qn=mw,bw=Gn("Object");var yw=pk&&(!/\[native code\]/.test(String(DataView))||bw(new DataView(new ArrayBuffer(8)))),Nb=typeof Map<"u"&&bw(new Map),Ak=Gn("DataView");function xk(u){return u!=null&&qn(u.getInt8)&&Lb(u.buffer)}const dl=yw?xk:Ak,Ls=gk||Gn("Array");function Ns(u,e){return u!=null&&fk.call(u,e)}var Ym=Gn("Arguments");(function(){Ym(arguments)||(Ym=function(u){return Ns(u,"callee")})})();const xd=Ym;function vw(u){return!Mb(u)&&bk(u)&&!isNaN(parseFloat(u))}function Ob(u){return Fb(u)&&mk(u)}function Bb(u){return function(){return u}}function Aw(u){return function(e){var t=u(e);return typeof t=="number"&&t>=0&&t<=yk}}function xw(u){return function(e){return e?.[u]}}const Qh=xw("byteLength"),_k=Aw(Qh);var Dk=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function wk(u){return hA?hA(u)&&!dl(u):_k(u)&&Dk.test(hl.call(u))}const Ib=lw?wk:Bb(!1),li=xw("length");function Ek(u){for(var e={},t=u.length,n=0;n<t;++n)e[u[n]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,u.push(i)}}}function _w(u,e){e=Ek(e);var t=dA.length,n=u.constructor,i=qn(n)&&n.prototype||Rb,r="constructor";for(Ns(u,r)&&!e.contains(r)&&e.push(r);t--;)r=dA[t],r in u&&u[r]!==i[r]&&!e.contains(r)&&e.push(r)}function vn(u){if(!Ms(u))return[];if(lA)return lA(u);var e=[];for(var t in u)Ns(u,t)&&e.push(t);return uw&&_w(u,e),e}function Dw(u){if(u==null)return!0;var e=li(u);return typeof e=="number"&&(Ls(u)||Ad(u)||xd(u))?e===0:li(vn(u))===0}function Pb(u,e){var t=vn(e),n=t.length;if(u==null)return!n;for(var i=Object(u),r=0;r<n;r++){var s=t[r];if(e[s]!==i[s]||!(s in i))return!1}return!0}function _t(u){if(u instanceof _t)return u;if(!(this instanceof _t))return new _t(u);this._wrapped=u}_t.VERSION=Cb;_t.prototype.value=function(){return this._wrapped};_t.prototype.valueOf=_t.prototype.toJSON=_t.prototype.value;_t.prototype.toString=function(){return String(this._wrapped)};function fA(u){return new Uint8Array(u.buffer||u,u.byteOffset||0,Qh(u))}var pA="[object DataView]";function Km(u,e,t,n){if(u===e)return u!==0||1/u===1/e;if(u==null||e==null)return!1;if(u!==u)return e!==e;var i=typeof u;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:ww(u,e,t,n)}function ww(u,e,t,n){u instanceof _t&&(u=u._wrapped),e instanceof _t&&(e=e._wrapped);var i=hl.call(u);if(i!==hl.call(e))return!1;if(yw&&i=="[object Object]"&&dl(u)){if(!dl(e))return!1;i=pA}switch(i){case"[object RegExp]":case"[object String]":return""+u==""+e;case"[object Number]":return+u!=+u?+e!=+e:+u==0?1/+u===1/e:+u==+e;case"[object Date]":case"[object Boolean]":return+u==+e;case"[object Symbol]":return cA.valueOf.call(u)===cA.valueOf.call(e);case"[object ArrayBuffer]":case pA:return ww(fA(u),fA(e),t,n)}var r=i==="[object Array]";if(!r&&Ib(u)){var s=Qh(u);if(s!==Qh(e))return!1;if(u.buffer===e.buffer&&u.byteOffset===e.byteOffset)return!0;r=!0}if(!r){if(typeof u!="object"||typeof e!="object")return!1;var o=u.constructor,l=e.constructor;if(o!==l&&!(qn(o)&&o instanceof o&&qn(l)&&l instanceof l)&&"constructor"in u&&"constructor"in e)return!1}t=t||[],n=n||[];for(var h=t.length;h--;)if(t[h]===u)return n[h]===e;if(t.push(u),n.push(e),r){if(h=u.length,h!==e.length)return!1;for(;h--;)if(!Km(u[h],e[h],t,n))return!1}else{var d=vn(u),p;if(h=d.length,vn(e).length!==h)return!1;for(;h--;)if(p=d[h],!(Ns(e,p)&&Km(u[p],e[p],t,n)))return!1}return t.pop(),n.pop(),!0}function Ew(u,e){return Km(u,e)}function Bo(u){if(!Ms(u))return[];var e=[];for(var t in u)e.push(t);return uw&&_w(u,e),e}function Wb(u){var e=li(u);return function(t){if(t==null)return!1;var n=Bo(t);if(li(n))return!1;for(var i=0;i<e;i++)if(!qn(t[u[i]]))return!1;return u!==Cw||!qn(t[zb])}}var zb="forEach",Tw="has",Hb=["clear","delete"],Sw=["get",Tw,"set"],Tk=Hb.concat(zb,Sw),Cw=Hb.concat(Sw),Sk=["add"].concat(Hb,zb,Tw);const Rw=Nb?Wb(Tk):Gn("Map"),Uw=Nb?Wb(Cw):Gn("WeakMap"),kw=Nb?Wb(Sk):Gn("Set"),Fw=Gn("WeakSet");function _a(u){for(var e=vn(u),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=u[e[i]];return n}function Mw(u){for(var e=vn(u),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=[e[i],u[e[i]]];return n}function jb(u){for(var e={},t=vn(u),n=0,i=t.length;n<i;n++)e[u[t[n]]]=t[n];return e}function fl(u){var e=[];for(var t in u)qn(u[t])&&e.push(t);return e.sort()}function qb(u,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var i=1;i<n;i++)for(var r=arguments[i],s=u(r),o=s.length,l=0;l<o;l++){var h=s[l];(!e||t[h]===void 0)&&(t[h]=r[h])}return t}}const Gb=qb(Bo),Mo=qb(vn),$b=qb(Bo,!0);function Ck(){return function(){}}function Lw(u){if(!Ms(u))return{};if(uA)return uA(u);var e=Ck();e.prototype=u;var t=new e;return e.prototype=null,t}function Nw(u,e){var t=Lw(u);return e&&Mo(t,e),t}function Ow(u){return Ms(u)?Ls(u)?u.slice():Gb({},u):u}function Bw(u,e){return e(u),u}function Vb(u){return Ls(u)?u:[u]}_t.toPath=Vb;function Rl(u){return _t.toPath(u)}function Xb(u,e){for(var t=e.length,n=0;n<t;n++){if(u==null)return;u=u[e[n]]}return t?u:void 0}function Yb(u,e,t){var n=Xb(u,Rl(e));return Ub(n)?t:n}function Iw(u,e){e=Rl(e);for(var t=e.length,n=0;n<t;n++){var i=e[n];if(!Ns(u,i))return!1;u=u[i]}return!!t}function _d(u){return u}function ba(u){return u=Mo({},u),function(e){return Pb(e,u)}}function Dd(u){return u=Rl(u),function(e){return Xb(e,u)}}function Ul(u,e,t){if(e===void 0)return u;switch(t??3){case 1:return function(n){return u.call(e,n)};case 3:return function(n,i,r){return u.call(e,n,i,r)};case 4:return function(n,i,r,s){return u.call(e,n,i,r,s)}}return function(){return u.apply(e,arguments)}}function Pw(u,e,t){return u==null?_d:qn(u)?Ul(u,e,t):Ms(u)&&!Ls(u)?ba(u):Dd(u)}function wd(u,e){return Pw(u,e,1/0)}_t.iteratee=wd;function ui(u,e,t){return _t.iteratee!==wd?_t.iteratee(u,e):Pw(u,e,t)}function Ww(u,e,t){e=ui(e,t);for(var n=vn(u),i=n.length,r={},s=0;s<i;s++){var o=n[s];r[o]=e(u[o],o,u)}return r}function Kb(){}function zw(u){return u==null?Kb:function(e){return Yb(u,e)}}function Hw(u,e,t){var n=Array(Math.max(0,u));e=Ul(e,t,1);for(var i=0;i<u;i++)n[i]=e(i);return n}function Jh(u,e){return e==null&&(e=u,u=0),u+Math.floor(Math.random()*(e-u+1))}const Lo=Date.now||function(){return new Date().getTime()};function jw(u){var e=function(r){return u[r]},t="(?:"+vn(u).join("|")+")",n=RegExp(t),i=RegExp(t,"g");return function(r){return r=r==null?"":""+r,n.test(r)?r.replace(i,e):r}}const qw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Gw=jw(qw),Rk=jb(qw),$w=jw(Rk),Vw=_t.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _g=/(.)^/,Uk={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},kk=/\\|'|\r|\n|\u2028|\u2029/g;function Fk(u){return"\\"+Uk[u]}var Mk=/^\s*(\w|\$)+\s*$/;function Xw(u,e,t){!e&&t&&(e=t),e=$b({},e,_t.templateSettings);var n=RegExp([(e.escape||_g).source,(e.interpolate||_g).source,(e.evaluate||_g).source].join("|")+"|$","g"),i=0,r="__p+='";u.replace(n,function(h,d,p,g,m){return r+=u.slice(i,m).replace(kk,Fk),i=m+h.length,d?r+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:p?r+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:g&&(r+=`';
`+g+`
__p+='`),h}),r+=`';
`;var s=e.variable;if(s){if(!Mk.test(s))throw new Error("variable is not a bare identifier: "+s)}else r=`with(obj||{}){
`+r+`}
`,s="obj";r=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+r+`return __p;
`;var o;try{o=new Function(s,"_",r)}catch(h){throw h.source=r,h}var l=function(h){return o.call(this,h,_t)};return l.source="function("+s+`){
`+r+"}",l}function Yw(u,e,t){e=Rl(e);var n=e.length;if(!n)return qn(t)?t.call(u):t;for(var i=0;i<n;i++){var r=u?.[e[i]];r===void 0&&(r=t,i=n),u=qn(r)?r.call(u):r}return u}var Lk=0;function Kw(u){var e=++Lk+"";return u?u+e:e}function Zw(u){var e=_t(u);return e._chain=!0,e}function Qw(u,e,t,n,i){if(!(n instanceof e))return u.apply(t,i);var r=Lw(u.prototype),s=u.apply(r,i);return Ms(s)?s:r}var Da=Jn(function(u,e){var t=Da.placeholder,n=function(){for(var i=0,r=e.length,s=Array(r),o=0;o<r;o++)s[o]=e[o]===t?arguments[i++]:e[o];for(;i<arguments.length;)s.push(arguments[i++]);return Qw(u,n,this,this,s)};return n});Da.placeholder=_t;const Zb=Jn(function(u,e,t){if(!qn(u))throw new TypeError("Bind must be called on a function");var n=Jn(function(i){return Qw(u,n,e,this,t.concat(i))});return n}),Ei=Aw(li);function wa(u,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(u);for(var i=n.length,r=0,s=li(u);r<s;r++){var o=u[r];if(Ei(o)&&(Ls(o)||xd(o)))if(e>1)wa(o,e-1,t,n),i=n.length;else for(var l=0,h=o.length;l<h;)n[i++]=o[l++];else t||(n[i++]=o)}return n}const Jw=Jn(function(u,e){e=wa(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];u[n]=Zb(u[n],u)}return u});function eE(u,e){var t=function(n){var i=t.cache,r=""+(e?e.apply(this,arguments):n);return Ns(i,r)||(i[r]=u.apply(this,arguments)),i[r]};return t.cache={},t}const Qb=Jn(function(u,e,t){return setTimeout(function(){return u.apply(null,t)},e)}),tE=Da(Qb,_t,1);function nE(u,e,t){var n,i,r,s,o=0;t||(t={});var l=function(){o=t.leading===!1?0:Lo(),n=null,s=u.apply(i,r),n||(i=r=null)},h=function(){var d=Lo();!o&&t.leading===!1&&(o=d);var p=e-(d-o);return i=this,r=arguments,p<=0||p>e?(n&&(clearTimeout(n),n=null),o=d,s=u.apply(i,r),n||(i=r=null)):!n&&t.trailing!==!1&&(n=setTimeout(l,p)),s};return h.cancel=function(){clearTimeout(n),o=0,n=i=r=null},h}function iE(u,e,t){var n,i,r,s,o,l=function(){var d=Lo()-i;e>d?n=setTimeout(l,e-d):(n=null,t||(s=u.apply(o,r)),n||(r=o=null))},h=Jn(function(d){return o=this,r=d,i=Lo(),n||(n=setTimeout(l,e),t&&(s=u.apply(o,r))),s});return h.cancel=function(){clearTimeout(n),n=r=o=null},h}function rE(u,e){return Da(e,u)}function Ed(u){return function(){return!u.apply(this,arguments)}}function sE(){var u=arguments,e=u.length-1;return function(){for(var t=e,n=u[e].apply(this,arguments);t--;)n=u[t].call(this,n);return n}}function aE(u,e){return function(){if(--u<1)return e.apply(this,arguments)}}function Jb(u,e){var t;return function(){return--u>0&&(t=e.apply(this,arguments)),u<=1&&(e=null),t}}const oE=Da(Jb,2);function ey(u,e,t){e=ui(e,t);for(var n=vn(u),i,r=0,s=n.length;r<s;r++)if(i=n[r],e(u[i],i,u))return i}function cE(u){return function(e,t,n){t=ui(t,n);for(var i=li(e),r=u>0?0:i-1;r>=0&&r<i;r+=u)if(t(e[r],r,e))return r;return-1}}const Td=cE(1),ty=cE(-1);function ny(u,e,t,n){t=ui(t,n,1);for(var i=t(e),r=0,s=li(u);r<s;){var o=Math.floor((r+s)/2);t(u[o])<i?r=o+1:s=o}return r}function lE(u,e,t){return function(n,i,r){var s=0,o=li(n);if(typeof r=="number")u>0?s=r>=0?r:Math.max(r+o,s):o=r>=0?Math.min(r+1,o):r+o+1;else if(t&&r&&o)return r=t(n,i),n[r]===i?r:-1;if(i!==i)return r=e(Cl.call(n,s,o),Ob),r>=0?r+s:-1;for(r=u>0?s:o-1;r>=0&&r<o;r+=u)if(n[r]===i)return r;return-1}}const iy=lE(1,Td,ny),uE=lE(-1,ty);function pl(u,e,t){var n=Ei(u)?Td:ey,i=n(u,e,t);if(i!==void 0&&i!==-1)return u[i]}function hE(u,e){return pl(u,ba(e))}function ir(u,e,t){e=Ul(e,t);var n,i;if(Ei(u))for(n=0,i=u.length;n<i;n++)e(u[n],n,u);else{var r=vn(u);for(n=0,i=r.length;n<i;n++)e(u[r[n]],r[n],u)}return u}function $r(u,e,t){e=ui(e,t);for(var n=!Ei(u)&&vn(u),i=(n||u).length,r=Array(i),s=0;s<i;s++){var o=n?n[s]:s;r[s]=e(u[o],o,u)}return r}function dE(u){var e=function(t,n,i,r){var s=!Ei(t)&&vn(t),o=(s||t).length,l=u>0?0:o-1;for(r||(i=t[s?s[l]:l],l+=u);l>=0&&l<o;l+=u){var h=s?s[l]:l;i=n(i,t[h],h,t)}return i};return function(t,n,i,r){var s=arguments.length>=3;return e(t,Ul(n,r,4),i,s)}}const Eo=dE(1),ed=dE(-1);function Rs(u,e,t){var n=[];return e=ui(e,t),ir(u,function(i,r,s){e(i,r,s)&&n.push(i)}),n}function fE(u,e,t){return Rs(u,Ed(ui(e)),t)}function td(u,e,t){e=ui(e,t);for(var n=!Ei(u)&&vn(u),i=(n||u).length,r=0;r<i;r++){var s=n?n[r]:r;if(!e(u[s],s,u))return!1}return!0}function nd(u,e,t){e=ui(e,t);for(var n=!Ei(u)&&vn(u),i=(n||u).length,r=0;r<i;r++){var s=n?n[r]:r;if(e(u[s],s,u))return!0}return!1}function qi(u,e,t,n){return Ei(u)||(u=_a(u)),(typeof t!="number"||n)&&(t=0),iy(u,e,t)>=0}const pE=Jn(function(u,e,t){var n,i;return qn(e)?i=e:(e=Rl(e),n=e.slice(0,-1),e=e[e.length-1]),$r(u,function(r){var s=i;if(!s){if(n&&n.length&&(r=Xb(r,n)),r==null)return;s=r[e]}return s==null?s:s.apply(r,t)})});function Sd(u,e){return $r(u,Dd(e))}function gE(u,e){return Rs(u,ba(e))}function ry(u,e,t){var n=-1/0,i=-1/0,r,s;if(e==null||typeof e=="number"&&typeof u[0]!="object"&&u!=null){u=Ei(u)?u:_a(u);for(var o=0,l=u.length;o<l;o++)r=u[o],r!=null&&r>n&&(n=r)}else e=ui(e,t),ir(u,function(h,d,p){s=e(h,d,p),(s>i||s===-1/0&&n===-1/0)&&(n=h,i=s)});return n}function mE(u,e,t){var n=1/0,i=1/0,r,s;if(e==null||typeof e=="number"&&typeof u[0]!="object"&&u!=null){u=Ei(u)?u:_a(u);for(var o=0,l=u.length;o<l;o++)r=u[o],r!=null&&r<n&&(n=r)}else e=ui(e,t),ir(u,function(h,d,p){s=e(h,d,p),(s<i||s===1/0&&n===1/0)&&(n=h,i=s)});return n}var Nk=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function sy(u){return u?Ls(u)?Cl.call(u):Ad(u)?u.match(Nk):Ei(u)?$r(u,_d):_a(u):[]}function ay(u,e,t){if(e==null||t)return Ei(u)||(u=_a(u)),u[Jh(u.length-1)];var n=sy(u),i=li(n);e=Math.max(Math.min(e,i),0);for(var r=i-1,s=0;s<e;s++){var o=Jh(s,r),l=n[s];n[s]=n[o],n[o]=l}return n.slice(0,e)}function bE(u){return ay(u,1/0)}function yE(u,e,t){var n=0;return e=ui(e,t),Sd($r(u,function(i,r,s){return{value:i,index:n++,criteria:e(i,r,s)}}).sort(function(i,r){var s=i.criteria,o=r.criteria;if(s!==o){if(s>o||s===void 0)return 1;if(s<o||o===void 0)return-1}return i.index-r.index}),"value")}function Cd(u,e){return function(t,n,i){var r=e?[[],[]]:{};return n=ui(n,i),ir(t,function(s,o){var l=n(s,o,t);u(r,s,l)}),r}}const vE=Cd(function(u,e,t){Ns(u,t)?u[t].push(e):u[t]=[e]}),AE=Cd(function(u,e,t){u[t]=e}),xE=Cd(function(u,e,t){Ns(u,t)?u[t]++:u[t]=1}),_E=Cd(function(u,e,t){u[t?0:1].push(e)},!0);function DE(u){return u==null?0:Ei(u)?u.length:vn(u).length}function Ok(u,e,t){return e in t}const oy=Jn(function(u,e){var t={},n=e[0];if(u==null)return t;qn(n)?(e.length>1&&(n=Ul(n,e[1])),e=Bo(u)):(n=Ok,e=wa(e,!1,!1),u=Object(u));for(var i=0,r=e.length;i<r;i++){var s=e[i],o=u[s];n(o,s,u)&&(t[s]=o)}return t}),wE=Jn(function(u,e){var t=e[0],n;return qn(t)?(t=Ed(t),e.length>1&&(n=e[1])):(e=$r(wa(e,!1,!1),String),t=function(i,r){return!qi(e,r)}),oy(u,t,n)});function cy(u,e,t){return Cl.call(u,0,Math.max(0,u.length-(e==null||t?1:e)))}function To(u,e,t){return u==null||u.length<1?e==null||t?void 0:[]:e==null||t?u[0]:cy(u,u.length-e)}function fa(u,e,t){return Cl.call(u,e==null||t?1:e)}function EE(u,e,t){return u==null||u.length<1?e==null||t?void 0:[]:e==null||t?u[u.length-1]:fa(u,Math.max(0,u.length-e))}function TE(u){return Rs(u,Boolean)}function SE(u,e){return wa(u,e,!1)}const ly=Jn(function(u,e){return e=wa(e,!0,!0),Rs(u,function(t){return!qi(e,t)})}),CE=Jn(function(u,e){return ly(u,e)});function gl(u,e,t,n){kb(e)||(n=t,t=e,e=!1),t!=null&&(t=ui(t,n));for(var i=[],r=[],s=0,o=li(u);s<o;s++){var l=u[s],h=t?t(l,s,u):l;e&&!t?((!s||r!==h)&&i.push(l),r=h):t?qi(r,h)||(r.push(h),i.push(l)):qi(i,l)||i.push(l)}return i}const RE=Jn(function(u){return gl(wa(u,!0,!0))});function UE(u){for(var e=[],t=arguments.length,n=0,i=li(u);n<i;n++){var r=u[n];if(!qi(e,r)){var s;for(s=1;s<t&&qi(arguments[s],r);s++);s===t&&e.push(r)}}return e}function ml(u){for(var e=u&&ry(u,li).length||0,t=Array(e),n=0;n<e;n++)t[n]=Sd(u,n);return t}const kE=Jn(ml);function FE(u,e){for(var t={},n=0,i=li(u);n<i;n++)e?t[u[n]]=e[n]:t[u[n][0]]=u[n][1];return t}function ME(u,e,t){e==null&&(e=u||0,u=0),t||(t=e<u?-1:1);for(var n=Math.max(Math.ceil((e-u)/t),0),i=Array(n),r=0;r<n;r++,u+=t)i[r]=u;return i}function LE(u,e){if(e==null||e<1)return[];for(var t=[],n=0,i=u.length;n<i;)t.push(Cl.call(u,n,n+=e));return t}function uy(u,e){return u._chain?_t(e).chain():e}function hy(u){return ir(fl(u),function(e){var t=_t[e]=u[e];_t.prototype[e]=function(){var n=[this._wrapped];return dk.apply(n,arguments),uy(this,t.apply(_t,n))}}),_t}ir(["pop","push","reverse","shift","sort","splice","unshift"],function(u){var e=vd[u];_t.prototype[u]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(u==="shift"||u==="splice")&&t.length===0&&delete t[0]),uy(this,t)}});ir(["concat","join","slice"],function(u){var e=vd[u];_t.prototype[u]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),uy(this,t)}});const Bk=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Cb,after:aE,all:td,allKeys:Bo,any:nd,assign:Mo,before:Jb,bind:Zb,bindAll:Jw,chain:Zw,chunk:LE,clone:Ow,collect:$r,compact:TE,compose:sE,constant:Bb,contains:qi,countBy:xE,create:Nw,debounce:iE,default:_t,defaults:$b,defer:tE,delay:Qb,detect:pl,difference:ly,drop:fa,each:ir,escape:Gw,every:td,extend:Gb,extendOwn:Mo,filter:Rs,find:pl,findIndex:Td,findKey:ey,findLastIndex:ty,findWhere:hE,first:To,flatten:SE,foldl:Eo,foldr:ed,forEach:ir,functions:fl,get:Yb,groupBy:vE,has:Iw,head:To,identity:_d,include:qi,includes:qi,indexBy:AE,indexOf:iy,initial:cy,inject:Eo,intersection:UE,invert:jb,invoke:pE,isArguments:xd,isArray:Ls,isArrayBuffer:Lb,isBoolean:kb,isDataView:dl,isDate:fw,isElement:dw,isEmpty:Dw,isEqual:Ew,isError:gw,isFinite:vw,isFunction:qn,isMap:Rw,isMatch:Pb,isNaN:Ob,isNull:hw,isNumber:Fb,isObject:Ms,isRegExp:pw,isSet:kw,isString:Ad,isSymbol:Mb,isTypedArray:Ib,isUndefined:Ub,isWeakMap:Uw,isWeakSet:Fw,iteratee:wd,keys:vn,last:EE,lastIndexOf:uE,map:$r,mapObject:Ww,matcher:ba,matches:ba,max:ry,memoize:eE,methods:fl,min:mE,mixin:hy,negate:Ed,noop:Kb,now:Lo,object:FE,omit:wE,once:oE,pairs:Mw,partial:Da,partition:_E,pick:oy,pluck:Sd,property:Dd,propertyOf:zw,random:Jh,range:ME,reduce:Eo,reduceRight:ed,reject:fE,rest:fa,restArguments:Jn,result:Yw,sample:ay,select:Rs,shuffle:bE,size:DE,some:nd,sortBy:yE,sortedIndex:ny,tail:fa,take:To,tap:Bw,template:Xw,templateSettings:Vw,throttle:nE,times:Hw,toArray:sy,toPath:Vb,transpose:ml,unescape:$w,union:RE,uniq:gl,unique:gl,uniqueId:Kw,unzip:ml,values:_a,where:gE,without:CE,wrap:rE,zip:kE},Symbol.toStringTag,{value:"Module"}));var Zm=hy(Bk);Zm._=Zm;const Ik=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Cb,after:aE,all:td,allKeys:Bo,any:nd,assign:Mo,before:Jb,bind:Zb,bindAll:Jw,chain:Zw,chunk:LE,clone:Ow,collect:$r,compact:TE,compose:sE,constant:Bb,contains:qi,countBy:xE,create:Nw,debounce:iE,default:Zm,defaults:$b,defer:tE,delay:Qb,detect:pl,difference:ly,drop:fa,each:ir,escape:Gw,every:td,extend:Gb,extendOwn:Mo,filter:Rs,find:pl,findIndex:Td,findKey:ey,findLastIndex:ty,findWhere:hE,first:To,flatten:SE,foldl:Eo,foldr:ed,forEach:ir,functions:fl,get:Yb,groupBy:vE,has:Iw,head:To,identity:_d,include:qi,includes:qi,indexBy:AE,indexOf:iy,initial:cy,inject:Eo,intersection:UE,invert:jb,invoke:pE,isArguments:xd,isArray:Ls,isArrayBuffer:Lb,isBoolean:kb,isDataView:dl,isDate:fw,isElement:dw,isEmpty:Dw,isEqual:Ew,isError:gw,isFinite:vw,isFunction:qn,isMap:Rw,isMatch:Pb,isNaN:Ob,isNull:hw,isNumber:Fb,isObject:Ms,isRegExp:pw,isSet:kw,isString:Ad,isSymbol:Mb,isTypedArray:Ib,isUndefined:Ub,isWeakMap:Uw,isWeakSet:Fw,iteratee:wd,keys:vn,last:EE,lastIndexOf:uE,map:$r,mapObject:Ww,matcher:ba,matches:ba,max:ry,memoize:eE,methods:fl,min:mE,mixin:hy,negate:Ed,noop:Kb,now:Lo,object:FE,omit:wE,once:oE,pairs:Mw,partial:Da,partition:_E,pick:oy,pluck:Sd,property:Dd,propertyOf:zw,random:Jh,range:ME,reduce:Eo,reduceRight:ed,reject:fE,rest:fa,restArguments:Jn,result:Yw,sample:ay,select:Rs,shuffle:bE,size:DE,some:nd,sortBy:yE,sortedIndex:ny,tail:fa,take:To,tap:Bw,template:Xw,templateSettings:Vw,throttle:nE,times:Hw,toArray:sy,toPath:Vb,transpose:ml,unescape:$w,union:RE,uniq:gl,unique:gl,uniqueId:Kw,unzip:ml,values:_a,where:gE,without:CE,wrap:rE,zip:kE},Symbol.toStringTag,{value:"Module"})),tn=IC(Ik);var eh={},Pi={},Dg={exports:{}},th={exports:{}},gA;function Io(){if(gA)return th.exports;gA=1;var u=(function(){return this===void 0})();if(u)th.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:u,propertyIsWritable:function(d,p){var g=Object.getOwnPropertyDescriptor(d,p);return!!(!g||g.writable||g.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,i=function(d){var p=[];for(var g in d)e.call(d,g)&&p.push(g);return p},r=function(d,p){return{value:d[p]}},s=function(d,p,g){return d[p]=g.value,d},o=function(d){return d},l=function(d){try{return Object(d).constructor.prototype}catch{return n}},h=function(d){try{return t.call(d)==="[object Array]"}catch{return!1}};th.exports={isArray:h,keys:i,names:i,defineProperty:s,getDescriptor:r,freeze:o,getPrototypeOf:l,isES5:u,propertyIsWritable:function(){return!0}}}return th.exports}var Bc,mA;function It(){if(mA)return Bc;mA=1;var u={},e=Io(),t=typeof navigator>"u",n={e:{}},i,r=typeof self<"u"?self:typeof window<"u"?window:typeof Es<"u"?Es:Bc!==void 0?Bc:null;function s(){try{var $=i;return i=null,$.apply(this,arguments)}catch(se){return n.e=se,n}}function o($){return i=$,s}var l=function($,se){var le={}.hasOwnProperty;function ye(){this.constructor=$,this.constructor$=se;for(var ve in se.prototype)le.call(se.prototype,ve)&&ve.charAt(ve.length-1)!=="$"&&(this[ve+"$"]=se.prototype[ve])}return ye.prototype=se.prototype,$.prototype=new ye,$.prototype};function h($){return $==null||$===!0||$===!1||typeof $=="string"||typeof $=="number"}function d($){return typeof $=="function"||typeof $=="object"&&$!==null}function p($){return h($)?new Error(R($)):$}function g($,se){var le=$.length,ye=new Array(le+1),ve;for(ve=0;ve<le;++ve)ye[ve]=$[ve];return ye[ve]=se,ye}function m($,se,le){if(e.isES5){var ye=Object.getOwnPropertyDescriptor($,se);if(ye!=null)return ye.get==null&&ye.set==null?ye.value:le}else return{}.hasOwnProperty.call($,se)?$[se]:void 0}function v($,se,le){if(h($))return $;var ye={value:le,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty($,se,ye),$}function y($){throw $}var A=(function(){var $=[Array.prototype,Object.prototype,Function.prototype],se=function(ve){for(var Ee=0;Ee<$.length;++Ee)if($[Ee]===ve)return!0;return!1};if(e.isES5){var le=Object.getOwnPropertyNames;return function(ve){for(var Ee=[],Fe=Object.create(null);ve!=null&&!se(ve);){var Ue;try{Ue=le(ve)}catch{return Ee}for(var Oe=0;Oe<Ue.length;++Oe){var Ve=Ue[Oe];if(!Fe[Ve]){Fe[Ve]=!0;var Be=Object.getOwnPropertyDescriptor(ve,Ve);Be!=null&&Be.get==null&&Be.set==null&&Ee.push(Ve)}}ve=e.getPrototypeOf(ve)}return Ee}}else{var ye={}.hasOwnProperty;return function(ve){if(se(ve))return[];var Ee=[];e:for(var Fe in ve)if(ye.call(ve,Fe))Ee.push(Fe);else{for(var Ue=0;Ue<$.length;++Ue)if(ye.call($[Ue],Fe))continue e;Ee.push(Fe)}return Ee}}})(),x=/this\s*\.\s*\S+\s*=/;function _($){try{if(typeof $=="function"){var se=e.names($.prototype),le=e.isES5&&se.length>1,ye=se.length>0&&!(se.length===1&&se[0]==="constructor"),ve=x.test($+"")&&e.names($).length>0;if(le||ye||ve)return!0}return!1}catch{return!1}}function w($){return $}var S=/^[a-z$_][a-z$_0-9]*$/i;function E($){return S.test($)}function C($,se,le){for(var ye=new Array($),ve=0;ve<$;++ve)ye[ve]=se+ve+le;return ye}function R($){try{return $+""}catch{return"[no string representation]"}}function N($){return $!==null&&typeof $=="object"&&typeof $.message=="string"&&typeof $.name=="string"}function F($){try{v($,"isOperational",!0)}catch{}}function I($){return $==null?!1:$ instanceof Error.__BluebirdErrorTypes__.OperationalError||$.isOperational===!0}function q($){return N($)&&e.propertyIsWritable($,"stack")}var L=(function(){return"stack"in new Error?function($){return q($)?$:new Error(R($))}:function($){if(q($))return $;try{throw new Error(R($))}catch(se){return se}}})();function H($){return{}.toString.call($)}function k($,se,le){for(var ye=e.names($),ve=0;ve<ye.length;++ve){var Ee=ye[ve];if(le(Ee))try{e.defineProperty(se,Ee,e.getDescriptor($,Ee))}catch{}}}var Z=function($){return e.isArray($)?$:null};if(typeof Symbol<"u"&&Symbol.iterator){var M=typeof Array.from=="function"?function($){return Array.from($)}:function($){for(var se=[],le=$[Symbol.iterator](),ye;!(ye=le.next()).done;)se.push(ye.value);return se};Z=function($){return e.isArray($)?$:$!=null&&typeof $[Symbol.iterator]=="function"?M($):null}}var O=typeof process<"u"&&H(process).toLowerCase()==="[object process]",K=typeof process<"u"&&typeof u<"u";function Q($){return K?u[$]:void 0}function z(){if(typeof Promise=="function")try{var $=new Promise(function(){});if({}.toString.call($)==="[object Promise]")return Promise}catch{}}function P($,se){return $.bind(se)}var V={isClass:_,isIdentifier:E,inheritedDataKeys:A,getDataPropertyOrDefault:m,thrower:y,isArray:e.isArray,asArray:Z,notEnumerableProp:v,isPrimitive:h,isObject:d,isError:N,canEvaluate:t,errorObj:n,tryCatch:o,inherits:l,withAppended:g,maybeWrapAsError:p,toFastProperties:w,filledRange:C,toString:R,canAttachTrace:q,ensureErrorObject:L,originatesFromRejection:I,markAsOriginatingFromRejection:F,classString:H,copyDescriptors:k,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:O,hasEnvVariables:K,env:Q,global:r,getNativePromise:z,domainBind:P};V.isRecentNode=V.isNode&&(function(){var $=process.versions.node.split(".").map(Number);return $[0]===0&&$[1]>10||$[0]>0})(),V.isNode&&V.toFastProperties(process);try{throw new Error}catch($){V.lastLineError=$}return Bc=V,Bc}var nh={exports:{}},wg,bA;function Pk(){if(bA)return wg;bA=1;var u=It(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=u.getNativePromise();if(u.isNode&&typeof MutationObserver>"u"){var i=Es.setImmediate,r=process.nextTick;e=u.isRecentNode?function(o){i.call(Es,o)}:function(o){r.call(process,o)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var s=n.resolve();e=function(o){s.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},h=!1,d=document.createElement("div"),p=new MutationObserver(function(){o.classList.toggle("foo"),h=!1});p.observe(d,l);var g=function(){h||(h=!0,d.classList.toggle("foo"))};return function(v){var y=new MutationObserver(function(){y.disconnect(),v()});y.observe(o,l),g()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=t;return wg=e,wg}var Eg,yA;function Wk(){if(yA)return Eg;yA=1;function u(t,n,i,r,s){for(var o=0;o<s;++o)i[o+r]=t[o+n],t[o+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var i=this._front+n&this._capacity-1;this[i]=t,this._length=n+1},e.prototype.push=function(t,n,i){var r=this.length()+3;if(this._willBeOverCapacity(r)){this._pushOne(t),this._pushOne(n),this._pushOne(i);return}var s=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[s+0&o]=t,this[s+1&o]=n,this[s+2&o]=i,this._length=r},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var i=this._front,r=this._length,s=i+r&n-1;u(this,0,this,n,s)},Eg=e,Eg}var vA;function zk(){if(vA)return nh.exports;vA=1;var u;try{throw new Error}catch(l){u=l}var e=Pk(),t=Wk(),n=It();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var h=this._schedule;return this._schedule=l,this._customScheduler=!0,h},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,h){h?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,h){if(arguments.length===1&&(h=l,l=function(){throw h}),typeof setTimeout<"u")setTimeout(function(){l(h)},0);else try{this._schedule(function(){l(h)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function r(l,h,d){this._lateQueue.push(l,h,d),this._queueTick()}function s(l,h,d){this._normalQueue.push(l,h,d),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return n.hasDevTools?(i.prototype.invokeLater=function(l,h,d){this._trampolineEnabled?r.call(this,l,h,d):this._schedule(function(){setTimeout(function(){l.call(h,d)},100)})},i.prototype.invoke=function(l,h,d){this._trampolineEnabled?s.call(this,l,h,d):this._schedule(function(){l.call(h,d)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=r,i.prototype.invoke=s,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var h=l.shift();if(typeof h!="function"){h._settlePromises();continue}var d=l.shift(),p=l.shift();h.call(d,p)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},nh.exports=i,nh.exports.firstLineError=u,nh.exports}var Tg,AA;function Us(){if(AA)return Tg;AA=1;var u=Io(),e=u.freeze,t=It(),n=t.inherits,i=t.notEnumerableProp;function r(x,_){function w(S){if(!(this instanceof w))return new w(S);i(this,"message",typeof S=="string"?S:_),i(this,"name",x),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(w,Error),w}var s,o,l=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),p=r("AggregateError","aggregate error");try{s=TypeError,o=RangeError}catch{s=r("TypeError","type error"),o=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)typeof Array.prototype[g[m]]=="function"&&(p.prototype[g[m]]=Array.prototype[g[m]]);u.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var v=0;p.prototype.toString=function(){var x=Array(v*4+1).join(" "),_=`
`+x+`AggregateError of:
`;v++,x=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var S=this[w]===this?"[Circular AggregateError]":this[w]+"",E=S.split(`
`),C=0;C<E.length;++C)E[C]=x+E[C];S=E.join(`
`),_+=S+`
`}return v--,_};function y(x){if(!(this instanceof y))return new y(x);i(this,"name","OperationalError"),i(this,"message",x),this.cause=x,this.isOperational=!0,x instanceof Error?(i(this,"message",x.message),i(this,"stack",x.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(y,Error);var A=Error.__BluebirdErrorTypes__;return A||(A=e({CancellationError:h,TimeoutError:d,OperationalError:y,RejectionError:y,AggregateError:p}),u.defineProperty(Error,"__BluebirdErrorTypes__",{value:A,writable:!1,enumerable:!1,configurable:!1})),Tg={Error,TypeError:s,RangeError:o,CancellationError:A.CancellationError,OperationalError:A.OperationalError,TimeoutError:A.TimeoutError,AggregateError:A.AggregateError,Warning:l},Tg}var Sg,xA;function Hk(){return xA||(xA=1,Sg=function(u,e){var t=It(),n=t.errorObj,i=t.isObject;function r(p,g){if(i(p)){if(p instanceof u)return p;var m=o(p);if(m===n){g&&g._pushContext();var v=u.reject(m.e);return g&&g._popContext(),v}else if(typeof m=="function"){if(h(p)){var v=new u(e);return p._then(v._fulfill,v._reject,void 0,v,null),v}return d(p,m,g)}}return p}function s(p){return p.then}function o(p){try{return s(p)}catch(g){return n.e=g,n}}var l={}.hasOwnProperty;function h(p){try{return l.call(p,"_promise0")}catch{return!1}}function d(p,g,m){var v=new u(e),y=v;m&&m._pushContext(),v._captureStackTrace(),m&&m._popContext();var A=!0,x=t.tryCatch(g).call(p,_,w);A=!1,v&&x===n&&(v._rejectCallback(x.e,!0,!0),v=null);function _(S){v&&(v._resolveCallback(S),v=null)}function w(S){v&&(v._rejectCallback(S,A,!0),v=null)}return y}return r}),Sg}var Cg,_A;function jk(){return _A||(_A=1,Cg=function(u,e,t,n,i){var r=It();r.isArray;function s(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var h=this._promise=new u(e);l instanceof u&&h._propagateFrom(l,3),h._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return r.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(h,d){var p=t(this._values,this._promise);if(p instanceof u){p=p._target();var g=p._bitField;if(this._values=p,(g&50397184)===0)return this._promise._setAsyncGuaranteed(),p._then(l,this._reject,void 0,this,d);if((g&33554432)!==0)p=p._value();else return(g&16777216)!==0?this._reject(p._reason()):this._cancel()}if(p=r.asArray(p),p===null){var m=n("expecting an array or an iterable object but got "+r.classString(p)).reason();this._promise._rejectCallback(m,!1);return}if(p.length===0){d===-5?this._resolveEmptyArray():this._resolve(s(d));return}this._iterate(p)},o.prototype._iterate=function(l){var h=this.getActualLength(l.length);this._length=h,this._values=this.shouldCopyValues()?new Array(h):this._values;for(var d=this._promise,p=!1,g=null,m=0;m<h;++m){var v=t(l[m],d);v instanceof u?(v=v._target(),g=v._bitField):g=null,p?g!==null&&v.suppressUnhandledRejections():g!==null?(g&50397184)===0?(v._proxy(this,m),this._values[m]=v):(g&33554432)!==0?p=this._promiseFulfilled(v._value(),m):(g&16777216)!==0?p=this._promiseRejected(v._reason(),m):p=this._promiseCancelled(m):p=this._promiseFulfilled(v,m)}p||d._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,h){this._values[h]=l;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof u)l.cancel();else for(var h=0;h<l.length;++h)l[h]instanceof u&&l[h].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),Cg}var Rg,DA;function qk(){return DA||(DA=1,Rg=function(u){var e=!1,t=[];u.prototype._promiseCreated=function(){},u.prototype._pushContext=function(){},u.prototype._popContext=function(){return null},u._peekContext=u.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(r())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var s=t.pop(),o=s._promiseCreated;return s._promiseCreated=null,o}return null};function i(){if(e)return new n}function r(){var s=t.length-1;if(s>=0)return t[s]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var s=u.prototype._pushContext,o=u.prototype._popContext,l=u._peekContext,h=u.prototype._peekContext,d=u.prototype._promiseCreated;n.deactivateLongStackTraces=function(){u.prototype._pushContext=s,u.prototype._popContext=o,u._peekContext=l,u.prototype._peekContext=h,u.prototype._promiseCreated=d,e=!1},e=!0,u.prototype._pushContext=n.prototype._pushContext,u.prototype._popContext=n.prototype._popContext,u._peekContext=u.prototype._peekContext=r,u.prototype._promiseCreated=function(){var p=this._peekContext();p&&p._promiseCreated==null&&(p._promiseCreated=this)}},n}),Rg}var Ug,wA;function Gk(){return wA||(wA=1,Ug=function(u,e){var t=u._getDomain,n=u._async,i=Us().Warning,r=It(),s=r.canAttachTrace,o,l,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,g=null,m=null,v=!1,y,A=!!(r.env("BLUEBIRD_DEBUG")!=0&&(r.env("BLUEBIRD_DEBUG")||r.env("NODE_ENV")==="development")),x=!!(r.env("BLUEBIRD_WARNINGS")!=0&&(A||r.env("BLUEBIRD_WARNINGS"))),_=!!(r.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(A||r.env("BLUEBIRD_LONG_STACK_TRACES"))),w=r.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(x||!!r.env("BLUEBIRD_W_FORGOTTEN_RETURN"));u.prototype.suppressUnhandledRejections=function(){var J=this._target();J._bitField=J._bitField&-1048577|524288},u.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},u.prototype._notifyUnhandledRejectionIsHandled=function(){Ve("rejectionHandled",o,void 0,this)},u.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},u.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},u.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var J=this._settledValue();this._setUnhandledRejectionIsNotified(),Ve("unhandledRejection",l,J,this)}},u.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},u.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},u.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},u.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},u.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},u.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},u.prototype._warn=function(J,re,ue){return se(J,re,ue||this)},u.onPossiblyUnhandledRejection=function(J){var re=t();l=typeof J=="function"?re===null?J:r.domainBind(re,J):void 0},u.onUnhandledRejectionHandled=function(J){var re=t();o=typeof J=="function"?re===null?J:r.domainBind(re,J):void 0};var S=function(){};u.longStackTraces=function(){if(n.haveItemsQueued()&&!oe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!oe.longStackTraces&&ae()){var J=u.prototype._captureStackTrace,re=u.prototype._attachExtraTrace;oe.longStackTraces=!0,S=function(){if(n.haveItemsQueued()&&!oe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);u.prototype._captureStackTrace=J,u.prototype._attachExtraTrace=re,e.deactivateLongStackTraces(),n.enableTrampoline(),oe.longStackTraces=!1},u.prototype._captureStackTrace=z,u.prototype._attachExtraTrace=P,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},u.hasLongStackTraces=function(){return oe.longStackTraces&&ae()};var E=(function(){try{if(typeof CustomEvent=="function"){var J=new CustomEvent("CustomEvent");return r.global.dispatchEvent(J),function(re,ue){var Ae=new CustomEvent(re.toLowerCase(),{detail:ue,cancelable:!0});return!r.global.dispatchEvent(Ae)}}else if(typeof Event=="function"){var J=new Event("CustomEvent");return r.global.dispatchEvent(J),function(ue,Ae){var Re=new Event(ue.toLowerCase(),{cancelable:!0});return Re.detail=Ae,!r.global.dispatchEvent(Re)}}else{var J=document.createEvent("CustomEvent");return J.initCustomEvent("testingtheevent",!1,!0,{}),r.global.dispatchEvent(J),function(ue,Ae){var Re=document.createEvent("CustomEvent");return Re.initCustomEvent(ue.toLowerCase(),!1,!0,Ae),!r.global.dispatchEvent(Re)}}}catch{}return function(){return!1}})(),C=(function(){return r.isNode?function(){return process.emit.apply(process,arguments)}:r.global?function(J){var re="on"+J.toLowerCase(),ue=r.global[re];return ue?(ue.apply(r.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function R(J,re){return{promise:re}}var N={promiseCreated:R,promiseFulfilled:R,promiseRejected:R,promiseResolved:R,promiseCancelled:R,promiseChained:function(J,re,ue){return{promise:re,child:ue}},warning:function(J,re){return{warning:re}},unhandledRejection:function(J,re,ue){return{reason:re,promise:ue}},rejectionHandled:R},F=function(J){var re=!1;try{re=C.apply(null,arguments)}catch(Ae){n.throwLater(Ae),re=!0}var ue=!1;try{ue=E(J,N[J].apply(null,arguments))}catch(Ae){n.throwLater(Ae),ue=!0}return ue||re};u.config=function(J){if(J=Object(J),"longStackTraces"in J&&(J.longStackTraces?u.longStackTraces():!J.longStackTraces&&u.hasLongStackTraces()&&S()),"warnings"in J){var re=J.warnings;oe.warnings=!!re,w=oe.warnings,r.isObject(re)&&"wForgottenReturn"in re&&(w=!!re.wForgottenReturn)}if("cancellation"in J&&J.cancellation&&!oe.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");u.prototype._clearCancellationData=Z,u.prototype._propagateFrom=M,u.prototype._onCancel=H,u.prototype._setOnCancel=k,u.prototype._attachCancellationCallback=L,u.prototype._execute=q,K=M,oe.cancellation=!0}return"monitoring"in J&&(J.monitoring&&!oe.monitoring?(oe.monitoring=!0,u.prototype._fireEvent=F):!J.monitoring&&oe.monitoring&&(oe.monitoring=!1,u.prototype._fireEvent=I)),u};function I(){return!1}u.prototype._fireEvent=I,u.prototype._execute=function(J,re,ue){try{J(re,ue)}catch(Ae){return Ae}},u.prototype._onCancel=function(){},u.prototype._setOnCancel=function(J){},u.prototype._attachCancellationCallback=function(J){},u.prototype._captureStackTrace=function(){},u.prototype._attachExtraTrace=function(){},u.prototype._clearCancellationData=function(){},u.prototype._propagateFrom=function(J,re){};function q(J,re,ue){var Ae=this;try{J(re,ue,function(Re){if(typeof Re!="function")throw new TypeError("onCancel must be a function, got: "+r.toString(Re));Ae._attachCancellationCallback(Re)})}catch(Re){return Re}}function L(J){if(!this._isCancellable())return this;var re=this._onCancel();re!==void 0?r.isArray(re)?re.push(J):this._setOnCancel([re,J]):this._setOnCancel(J)}function H(){return this._onCancelField}function k(J){this._onCancelField=J}function Z(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(J,re){if((re&1)!==0){this._cancellationParent=J;var ue=J._branchesRemainingToCancel;ue===void 0&&(ue=0),J._branchesRemainingToCancel=ue+1}(re&2)!==0&&J._isBound()&&this._setBoundTo(J._boundTo)}function O(J,re){(re&2)!==0&&J._isBound()&&this._setBoundTo(J._boundTo)}var K=O;function Q(){var J=this._boundTo;return J!==void 0&&J instanceof u?J.isFulfilled()?J.value():void 0:J}function z(){this._trace=new De(this._peekContext())}function P(J,re){if(s(J)){var ue=this._trace;if(ue!==void 0&&re&&(ue=ue._parent),ue!==void 0)ue.attachExtraTrace(J);else if(!J.__stackCleaned__){var Ae=Ue(J);r.notEnumerableProp(J,"stack",Ae.message+`
`+Ae.stack.join(`
`)),r.notEnumerableProp(J,"__stackCleaned__",!0)}}}function V(J,re,ue,Ae,Re){if(J===void 0&&re!==null&&w){if(Re!==void 0&&Re._returnedNonUndefined()||(Ae._bitField&65535)===0)return;ue&&(ue=ue+" ");var Ne="",Ie="";if(re._trace){for(var je=re._trace.stack.split(`
`),ot=Ee(je),he=ot.length-1;he>=0;--he){var we=ot[he];if(!d.test(we)){var Le=we.match(p);Le&&(Ne="at "+Le[1]+":"+Le[2]+":"+Le[3]+" ");break}}if(ot.length>0){for(var qe=ot[0],he=0;he<je.length;++he)if(je[he]===qe){he>0&&(Ie=`
`+je[he-1]);break}}}var Xe="a promise was created in a "+ue+"handler "+Ne+"but was not returned from it, see http://goo.gl/rRqMUw"+Ie;Ae._warn(Xe,!0,re)}}function $(J,re){var ue=J+" is deprecated and will be removed in a future version.";return re&&(ue+=" Use "+re+" instead."),se(ue)}function se(J,re,ue){if(oe.warnings){var Ae=new i(J),Re;if(re)ue._attachExtraTrace(Ae);else if(oe.longStackTraces&&(Re=u._peekContext()))Re.attachExtraTrace(Ae);else{var Ne=Ue(Ae);Ae.stack=Ne.message+`
`+Ne.stack.join(`
`)}F("warning",Ae)||Oe(Ae,"",!0)}}function le(J,re){for(var ue=0;ue<re.length-1;++ue)re[ue].push("From previous event:"),re[ue]=re[ue].join(`
`);return ue<re.length&&(re[ue]=re[ue].join(`
`)),J+`
`+re.join(`
`)}function ye(J){for(var re=0;re<J.length;++re)(J[re].length===0||re+1<J.length&&J[re][0]===J[re+1][0])&&(J.splice(re,1),re--)}function ve(J){for(var re=J[0],ue=1;ue<J.length;++ue){for(var Ae=J[ue],Re=re.length-1,Ne=re[Re],Ie=-1,je=Ae.length-1;je>=0;--je)if(Ae[je]===Ne){Ie=je;break}for(var je=Ie;je>=0;--je){var ot=Ae[je];if(re[Re]===ot)re.pop(),Re--;else break}re=Ae}}function Ee(J){for(var re=[],ue=0;ue<J.length;++ue){var Ae=J[ue],Re=Ae==="    (No stack trace)"||g.test(Ae),Ne=Re&&ee(Ae);Re&&!Ne&&(v&&Ae.charAt(0)!==" "&&(Ae="    "+Ae),re.push(Ae))}return re}function Fe(J){for(var re=J.stack.replace(/\s+$/g,"").split(`
`),ue=0;ue<re.length;++ue){var Ae=re[ue];if(Ae==="    (No stack trace)"||g.test(Ae))break}return ue>0&&J.name!="SyntaxError"&&(re=re.slice(ue)),re}function Ue(J){var re=J.stack,ue=J.toString();return re=typeof re=="string"&&re.length>0?Fe(J):["    (No stack trace)"],{message:ue,stack:J.name=="SyntaxError"?re:Ee(re)}}function Oe(J,re,ue){if(typeof console<"u"){var Ae;if(r.isObject(J)){var Re=J.stack;Ae=re+m(Re,J)}else Ae=re+String(J);typeof y=="function"?y(Ae,ue):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ae)}}function Ve(J,re,ue,Ae){var Re=!1;try{typeof re=="function"&&(Re=!0,J==="rejectionHandled"?re(Ae):re(ue,Ae))}catch(Ne){n.throwLater(Ne)}J==="unhandledRejection"?!F(J,ue,Ae)&&!Re&&Oe(ue,"Unhandled rejection "):F(J,Ae)}function Be(J){var re;if(typeof J=="function")re="[function "+(J.name||"anonymous")+"]";else{re=J&&typeof J.toString=="function"?J.toString():r.toString(J);var ue=/\[object [a-zA-Z0-9$_]+\]/;if(ue.test(re))try{var Ae=JSON.stringify(J);re=Ae}catch{}re.length===0&&(re="(empty array)")}return"(<"+U(re)+">, no stack trace)"}function U(J){var re=41;return J.length<re?J:J.substr(0,re-3)+"..."}function ae(){return typeof _e=="function"}var ee=function(){return!1},Y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(J){var re=J.match(Y);if(re)return{fileName:re[1],line:parseInt(re[2],10)}}function ie(J,re){if(ae()){for(var ue=J.stack.split(`
`),Ae=re.stack.split(`
`),Re=-1,Ne=-1,Ie,je,ot=0;ot<ue.length;++ot){var he=X(ue[ot]);if(he){Ie=he.fileName,Re=he.line;break}}for(var ot=0;ot<Ae.length;++ot){var he=X(Ae[ot]);if(he){je=he.fileName,Ne=he.line;break}}Re<0||Ne<0||!Ie||!je||Ie!==je||Re>=Ne||(ee=function(we){if(h.test(we))return!0;var Le=X(we);return!!(Le&&Le.fileName===Ie&&Re<=Le.line&&Le.line<=Ne)})}}function De(J){this._parent=J,this._promisesCreated=0;var re=this._length=1+(J===void 0?0:J._length);_e(this,De),re>32&&this.uncycle()}r.inherits(De,Error),e.CapturedTrace=De,De.prototype.uncycle=function(){var J=this._length;if(!(J<2)){for(var re=[],ue={},Ae=0,Re=this;Re!==void 0;++Ae)re.push(Re),Re=Re._parent;J=this._length=Ae;for(var Ae=J-1;Ae>=0;--Ae){var Ne=re[Ae].stack;ue[Ne]===void 0&&(ue[Ne]=Ae)}for(var Ae=0;Ae<J;++Ae){var Ie=re[Ae].stack,je=ue[Ie];if(je!==void 0&&je!==Ae){je>0&&(re[je-1]._parent=void 0,re[je-1]._length=1),re[Ae]._parent=void 0,re[Ae]._length=1;var ot=Ae>0?re[Ae-1]:this;je<J-1?(ot._parent=re[je+1],ot._parent.uncycle(),ot._length=ot._parent._length+1):(ot._parent=void 0,ot._length=1);for(var he=ot._length+1,we=Ae-2;we>=0;--we)re[we]._length=he,he++;return}}}},De.prototype.attachExtraTrace=function(J){if(!J.__stackCleaned__){this.uncycle();for(var re=Ue(J),ue=re.message,Ae=[re.stack],Re=this;Re!==void 0;)Ae.push(Ee(Re.stack.split(`
`))),Re=Re._parent;ve(Ae),ye(Ae),r.notEnumerableProp(J,"stack",le(ue,Ae)),r.notEnumerableProp(J,"__stackCleaned__",!0)}};var _e=(function(){var re=/^\s*at\s*/,ue=function(Ie,je){return typeof Ie=="string"?Ie:je.name!==void 0&&je.message!==void 0?je.toString():Be(je)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,g=re,m=ue;var Ae=Error.captureStackTrace;return ee=function(Ie){return h.test(Ie)},function(Ie,je){Error.stackTraceLimit+=6,Ae(Ie,je),Error.stackTraceLimit-=6}}var Re=new Error;if(typeof Re.stack=="string"&&Re.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return g=/@/,m=ue,v=!0,function(je){je.stack=new Error().stack};var Ne;try{throw new Error}catch(Ie){Ne="stack"in Ie}return!("stack"in Re)&&Ne&&typeof Error.stackTraceLimit=="number"?(g=re,m=ue,function(je){Error.stackTraceLimit+=6;try{throw new Error}catch(ot){je.stack=ot.stack}Error.stackTraceLimit-=6}):(m=function(Ie,je){return typeof Ie=="string"?Ie:(typeof je=="object"||typeof je=="function")&&je.name!==void 0&&je.message!==void 0?je.toString():Be(je)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(y=function(J){console.warn(J)},r.isNode&&process.stderr.isTTY?y=function(J,re){var ue=re?"\x1B[33m":"\x1B[31m";console.warn(ue+J+`\x1B[0m
`)}:!r.isNode&&typeof new Error().stack=="string"&&(y=function(J,re){console.warn("%c"+J,re?"color: darkorange":"color: red")}));var oe={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1};return _&&u.longStackTraces(),{longStackTraces:function(){return oe.longStackTraces},warnings:function(){return oe.warnings},cancellation:function(){return oe.cancellation},monitoring:function(){return oe.monitoring},propagateFromFunction:function(){return K},boundValueFunction:function(){return Q},checkForgottenReturns:V,setBounds:ie,warn:se,deprecated:$,CapturedTrace:De,fireDomEvent:E,fireGlobalEvent:C}}),Ug}var kg,EA;function $k(){return EA||(EA=1,kg=function(u,e){var t=It(),n=u.CancellationError,i=t.errorObj;function r(p,g,m){this.promise=p,this.type=g,this.handler=m,this.called=!1,this.cancelPromise=null}r.prototype.isFinallyHandler=function(){return this.type===0};function s(p){this.finallyHandler=p}s.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(p,g){return p.cancelPromise!=null?(arguments.length>1?p.cancelPromise._reject(g):p.cancelPromise._cancel(),p.cancelPromise=null,!0):!1}function l(){return d.call(this,this.promise._target()._settledValue())}function h(p){if(!o(this,p))return i.e=p,i}function d(p){var g=this.promise,m=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?m.call(g._boundValue()):m.call(g._boundValue(),p);if(v!==void 0){g._setReturnedNonUndefined();var y=e(v,g);if(y instanceof u){if(this.cancelPromise!=null)if(y._isCancelled()){var A=new n("late cancellation observer");return g._attachExtraTrace(A),i.e=A,i}else y.isPending()&&y._attachCancellationCallback(new s(this));return y._then(l,h,void 0,this,void 0)}}}return g.isRejected()?(o(this),i.e=p,i):(o(this),p)}return u.prototype._passThrough=function(p,g,m,v){return typeof p!="function"?this.then():this._then(m,v,void 0,new r(this,g,p),void 0)},u.prototype.lastly=u.prototype.finally=function(p){return this._passThrough(p,0,d,d)},u.prototype.tap=function(p){return this._passThrough(p,1,d)},r}),kg}var Fg,TA;function Vk(){return TA||(TA=1,Fg=function(u){var e=It(),t=Io().keys,n=e.tryCatch,i=e.errorObj;function r(s,o,l){return function(h){var d=l._boundValue();e:for(var p=0;p<s.length;++p){var g=s[p];if(g===Error||g!=null&&g.prototype instanceof Error){if(h instanceof g)return n(o).call(d,h)}else if(typeof g=="function"){var m=n(g).call(d,h);if(m===i)return m;if(m)return n(o).call(d,h)}else if(e.isObject(h)){for(var v=t(g),y=0;y<v.length;++y){var A=v[y];if(g[A]!=h[A])continue e}return n(o).call(d,h)}}return u}}return r}),Fg}var Mg,SA;function NE(){if(SA)return Mg;SA=1;var u=It(),e=u.maybeWrapAsError,t=Us(),n=t.OperationalError,i=Io();function r(h){return h instanceof Error&&i.getPrototypeOf(h)===Error.prototype}var s=/^(?:name|message|stack|cause)$/;function o(h){var d;if(r(h)){d=new n(h),d.name=h.name,d.message=h.message,d.stack=h.stack;for(var p=i.keys(h),g=0;g<p.length;++g){var m=p[g];s.test(m)||(d[m]=h[m])}return d}return u.markAsOriginatingFromRejection(h),h}function l(h,d){return function(p,g){if(h!==null){if(p){var m=o(e(p));h._attachExtraTrace(m),h._reject(m)}else if(!d)h._fulfill(g);else{for(var v=arguments.length,y=new Array(Math.max(v-1,0)),A=1;A<v;++A)y[A-1]=arguments[A];h._fulfill(y)}h=null}}}return Mg=l,Mg}var Lg,CA;function Xk(){return CA||(CA=1,Lg=function(u,e,t,n,i){var r=It(),s=r.tryCatch;u.method=function(o){if(typeof o!="function")throw new u.TypeError("expecting a function but got "+r.classString(o));return function(){var l=new u(e);l._captureStackTrace(),l._pushContext();var h=s(o).apply(this,arguments),d=l._popContext();return i.checkForgottenReturns(h,d,"Promise.method",l),l._resolveFromSyncValue(h),l}},u.attempt=u.try=function(o){if(typeof o!="function")return n("expecting a function but got "+r.classString(o));var l=new u(e);l._captureStackTrace(),l._pushContext();var h;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],p=arguments[2];h=r.isArray(d)?s(o).apply(p,d):s(o).call(p,d)}else h=s(o)();var g=l._popContext();return i.checkForgottenReturns(h,g,"Promise.try",l),l._resolveFromSyncValue(h),l},u.prototype._resolveFromSyncValue=function(o){o===r.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),Lg}var Ng,RA;function Yk(){return RA||(RA=1,Ng=function(u,e,t,n){var i=!1,r=function(h,d){this._reject(d)},s=function(h,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(r,r,null,this,h)},o=function(h,d){(this._bitField&50397184)===0&&this._resolveCallback(d.target)},l=function(h,d){d.promiseRejectionQueued||this._reject(h)};u.prototype.bind=function(h){i||(i=!0,u.prototype._propagateFrom=n.propagateFromFunction(),u.prototype._boundValue=n.boundValueFunction());var d=t(h),p=new u(e);p._propagateFrom(this,1);var g=this._target();if(p._setBoundTo(d),d instanceof u){var m={promiseRejectionQueued:!1,promise:p,target:g,bindingPromise:d};g._then(e,s,void 0,p,m),d._then(o,l,void 0,p,m),p._setOnCancel(d)}else p._resolveCallback(g);return p},u.prototype._setBoundTo=function(h){h!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=h):this._bitField=this._bitField&-2097153},u.prototype._isBound=function(){return(this._bitField&2097152)===2097152},u.bind=function(h,d){return u.resolve(d).bind(h)}}),Ng}var Og,UA;function Kk(){return UA||(UA=1,Og=function(u,e,t,n){var i=It(),r=i.tryCatch,s=i.errorObj,o=u._async;u.prototype.break=u.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var l=this,h=l;l._isCancellable();){if(!l._cancelBy(h)){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}var d=l._cancellationParent;if(d==null||!d._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),h=l,l=d}},u.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},u.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},u.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},u.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},u.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},u.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},u.prototype._unsetOnCancel=function(){this._onCancelField=void 0},u.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},u.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},u.prototype._doInvokeOnCancel=function(l,h){if(i.isArray(l))for(var d=0;d<l.length;++d)this._doInvokeOnCancel(l[d],h);else if(l!==void 0)if(typeof l=="function"){if(!h){var p=r(l).call(this._boundValue());p===s&&(this._attachExtraTrace(p.e),o.throwLater(p.e))}}else l._resultCancelled(this)},u.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},u.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},u.prototype._resultCancelled=function(){this.cancel()}}),Og}var Bg,kA;function Zk(){return kA||(kA=1,Bg=function(u){function e(){return this.value}function t(){throw this.reason}u.prototype.return=u.prototype.thenReturn=function(n){return n instanceof u&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},u.prototype.throw=u.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},u.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var i=arguments[1],r=function(){throw i};return this.caught(n,r)},u.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof u&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof u&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}),Bg}var Ig,FA;function Qk(){return FA||(FA=1,Ig=function(u){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},r=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},s=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},u.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},u.prototype._isCancelled=function(){return this._target().__isCancelled()},u.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},u.prototype.isPending=function(){return s.call(this._target())},u.prototype.isRejected=function(){return r.call(this._target())},u.prototype.isFulfilled=function(){return i.call(this._target())},u.prototype.isResolved=function(){return o.call(this._target())},u.prototype.value=function(){return t.call(this._target())},u.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),n.call(l)},u.prototype._value=function(){return this._settledValue()},u.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},u.PromiseInspection=e}),Ig}var Pg,MA;function Jk(){return MA||(MA=1,Pg=function(u,e,t,n,i,r){var s=It(),o=s.canEvaluate,l=s.tryCatch,h=s.errorObj,d;if(o){for(var p=function(_){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,_))},g=function(_){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,_))},m=function(_){for(var w=new Array(_),S=0;S<w.length;++S)w[S]="this.p"+(S+1);var E=w.join(" = ")+" = null;",C=`var promise;
`+w.map(function(I){return`                                                         
	                promise = `+I+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),R=w.join(", "),N="Holder$"+_,F=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return F=F.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,_).replace(/\[ThePassedArguments\]/g,R).replace(/\[TheProperties\]/g,E).replace(/\[CancellationCode\]/g,C),new Function("tryCatch","errorObj","Promise","async",F)(l,h,u,i)},v=[],y=[],A=[],x=0;x<8;++x)v.push(m(x+1)),y.push(p(x+1)),A.push(g(x+1));d=function(_){this._reject(_)}}u.join=function(){var _=arguments.length-1,w;if(_>0&&typeof arguments[_]=="function"&&(w=arguments[_],_<=8&&o)){var k=new u(n);k._captureStackTrace();for(var S=v[_-1],E=new S(w),C=y,R=0;R<_;++R){var N=t(arguments[R],k);if(N instanceof u){N=N._target();var F=N._bitField;(F&50397184)===0?(N._then(C[R],d,void 0,k,E),A[R](N,E),E.asyncNeeded=!1):(F&33554432)!==0?C[R].call(k,N._value(),E):(F&16777216)!==0?k._reject(N._reason()):k._cancel()}else C[R].call(k,N,E)}if(!k._isFateSealed()){if(E.asyncNeeded){var I=r();I!==null&&(E.fn=s.domainBind(I,E.fn))}k._setAsyncGuaranteed(),k._setOnCancel(E)}return k}for(var q=arguments.length,L=new Array(q),H=0;H<q;++H)L[H]=arguments[H];w&&L.pop();var k=new e(L).promise();return w!==void 0?k.spread(w):k}}),Pg}var Wg,LA;function eF(){return LA||(LA=1,Wg=function(u,e,t,n,i,r){var s=u._getDomain,o=It(),l=o.tryCatch,h=o.errorObj,d=u._async;function p(m,v,y,A){this.constructor$(m),this._promise._captureStackTrace();var x=s();this._callback=x===null?v:o.domainBind(x,v),this._preservedValues=A===i?new Array(this.length()):null,this._limit=y,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}o.inherits(p,e),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(m,v){var y=this._values,A=this.length(),x=this._preservedValues,_=this._limit;if(v<0){if(v=v*-1-1,y[v]=m,_>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(_>=1&&this._inFlight>=_)return y[v]=m,this._queue.push(v),!1;x!==null&&(x[v]=m);var w=this._promise,S=this._callback,E=w._boundValue();w._pushContext();var C=l(S).call(E,m,v,A),R=w._popContext();if(r.checkForgottenReturns(C,R,x!==null?"Promise.filter":"Promise.map",w),C===h)return this._reject(C.e),!0;var N=n(C,this._promise);if(N instanceof u){N=N._target();var F=N._bitField;if((F&50397184)===0)return _>=1&&this._inFlight++,y[v]=N,N._proxy(this,(v+1)*-1),!1;if((F&33554432)!==0)C=N._value();else return(F&16777216)!==0?(this._reject(N._reason()),!0):(this._cancel(),!0)}y[v]=C}var I=++this._totalResolved;return I>=A?(x!==null?this._filter(y,x):this._resolve(y),!0):!1},p.prototype._drainQueue=function(){for(var m=this._queue,v=this._limit,y=this._values;m.length>0&&this._inFlight<v;){if(this._isResolved())return;var A=m.pop();this._promiseFulfilled(y[A],A)}},p.prototype._filter=function(m,v){for(var y=v.length,A=new Array(y),x=0,_=0;_<y;++_)m[_]&&(A[x++]=v[_]);A.length=x,this._resolve(A)},p.prototype.preservedValues=function(){return this._preservedValues};function g(m,v,y,A){if(typeof v!="function")return t("expecting a function but got "+o.classString(v));var x=0;if(y!==void 0)if(typeof y=="object"&&y!==null){if(typeof y.concurrency!="number")return u.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(y.concurrency)));x=y.concurrency}else return u.reject(new TypeError("options argument must be an object but it is "+o.classString(y)));return x=typeof x=="number"&&isFinite(x)&&x>=1?x:0,new p(m,v,x,A).promise()}u.prototype.map=function(m,v){return g(this,m,v,null)},u.map=function(m,v,y,A){return g(m,v,y,A)}}),Wg}var zg,NA;function tF(){if(NA)return zg;NA=1;var u=Object.create;if(u){var e=u(null),t=u(null);e[" size"]=t[" size"]=0}return zg=function(n){var i=It(),r=i.canEvaluate,s=i.isIdentifier,o,l;{var h=function(A){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,A))(g)},d=function(A){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",A))},p=function(A,x,_){var w=_[A];if(typeof w!="function"){if(!s(A))return null;if(w=x(A),_[A]=w,_[" size"]++,_[" size"]>512){for(var S=Object.keys(_),E=0;E<256;++E)delete _[S[E]];_[" size"]=S.length-256}}return w};o=function(A){return p(A,h,e)},l=function(A){return p(A,d,t)}}function g(A,x){var _;if(A!=null&&(_=A[x]),typeof _!="function"){var w="Object "+i.classString(A)+" has no method '"+i.toString(x)+"'";throw new n.TypeError(w)}return _}function m(A){var x=this.pop(),_=g(A,x);return _.apply(A,this)}n.prototype.call=function(A){for(var x=arguments.length,_=new Array(Math.max(x-1,0)),w=1;w<x;++w)_[w-1]=arguments[w];if(r){var S=o(A);if(S!==null)return this._then(S,void 0,void 0,_,void 0)}return _.push(A),this._then(m,void 0,void 0,_,void 0)};function v(A){return A[this]}function y(A){var x=+this;return x<0&&(x=Math.max(0,x+A.length)),A[x]}n.prototype.get=function(A){var x=typeof A=="number",_;if(x)_=y;else if(r){var w=l(A);_=w!==null?w:v}else _=v;return this._then(_,void 0,void 0,A,void 0)}},zg}var Hg,OA;function nF(){return OA||(OA=1,Hg=function(u,e,t,n,i,r){var s=It(),o=Us().TypeError,l=It().inherits,h=s.errorObj,d=s.tryCatch,p={};function g(w){setTimeout(function(){throw w},0)}function m(w){var S=t(w);return S!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&S._setDisposable(w._getDisposer()),S}function v(w,S){var E=0,C=w.length,R=new u(i);function N(){if(E>=C)return R._fulfill();var F=m(w[E++]);if(F instanceof u&&F._isDisposable()){try{F=t(F._getDisposer().tryDispose(S),w.promise)}catch(I){return g(I)}if(F instanceof u)return F._then(N,g,null,null,null)}N()}return N(),R}function y(w,S,E){this._data=w,this._promise=S,this._context=E}y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},y.prototype.tryDispose=function(w){var S=this.resource(),E=this._context;E!==void 0&&E._pushContext();var C=S!==p?this.doDispose(S,w):null;return E!==void 0&&E._popContext(),this._promise._unsetDisposable(),this._data=null,C},y.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function A(w,S,E){this.constructor$(w,S,E)}l(A,y),A.prototype.doDispose=function(w,S){var E=this.data();return E.call(w,w,S)};function x(w){return y.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function _(w){this.length=w,this.promise=null,this[w-1]=null}_.prototype._resultCancelled=function(){for(var w=this.length,S=0;S<w;++S){var E=this[S];E instanceof u&&E.cancel()}},u.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var S=arguments[w-1];if(typeof S!="function")return e("expecting a function but got "+s.classString(S));var E,C=!0;w===2&&Array.isArray(arguments[0])?(E=arguments[0],w=E.length,C=!1):(E=arguments,w--);for(var R=new _(w),N=0;N<w;++N){var F=E[N];if(y.isDisposer(F)){var I=F;F=F.promise(),F._setDisposable(I)}else{var q=t(F);q instanceof u&&(F=q._then(x,null,null,{resources:R,index:N},void 0))}R[N]=F}for(var L=new Array(R.length),N=0;N<L.length;++N)L[N]=u.resolve(R[N]).reflect();var H=u.all(L).then(function(Z){for(var M=0;M<Z.length;++M){var O=Z[M];if(O.isRejected())return h.e=O.error(),h;if(!O.isFulfilled()){H.cancel();return}Z[M]=O.value()}k._pushContext(),S=d(S);var K=C?S.apply(void 0,Z):S(Z),Q=k._popContext();return r.checkForgottenReturns(K,Q,"Promise.using",k),K}),k=H.lastly(function(){var Z=new u.PromiseInspection(H);return v(R,Z)});return R.promise=k,k._setOnCancel(R),k},u.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},u.prototype._isDisposable=function(){return(this._bitField&131072)>0},u.prototype._getDisposer=function(){return this._disposer},u.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},u.prototype.disposer=function(w){if(typeof w=="function")return new A(w,this,n());throw new o}}),Hg}var jg,BA;function iF(){return BA||(BA=1,jg=function(u,e,t){var n=It(),i=u.TimeoutError;function r(p){this.handle=p}r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(p){return o(+this).thenReturn(p)},o=u.delay=function(p,g){var m,v;return g!==void 0?(m=u.resolve(g)._then(s,null,null,p,void 0),t.cancellation()&&g instanceof u&&m._setOnCancel(g)):(m=new u(e),v=setTimeout(function(){m._fulfill()},+p),t.cancellation()&&m._setOnCancel(new r(v)),m._captureStackTrace()),m._setAsyncGuaranteed(),m};u.prototype.delay=function(p){return o(p,this)};var l=function(p,g,m){var v;typeof g!="string"?g instanceof Error?v=g:v=new i("operation timed out"):v=new i(g),n.markAsOriginatingFromRejection(v),p._attachExtraTrace(v),p._reject(v),m?.cancel()};function h(p){return clearTimeout(this.handle),p}function d(p){throw clearTimeout(this.handle),p}u.prototype.timeout=function(p,g){p=+p;var m,v,y=new r(setTimeout(function(){m.isPending()&&l(m,g,v)},p));return t.cancellation()?(v=this.then(),m=v._then(h,d,void 0,y,void 0),m._setOnCancel(y)):m=this._then(h,d,void 0,y,void 0),m}}),jg}var qg,IA;function rF(){return IA||(IA=1,qg=function(u,e,t,n,i,r){var s=Us(),o=s.TypeError,l=It(),h=l.errorObj,d=l.tryCatch,p=[];function g(v,y,A){for(var x=0;x<y.length;++x){A._pushContext();var _=d(y[x])(v);if(A._popContext(),_===h){A._pushContext();var w=u.reject(h.e);return A._popContext(),w}var S=n(_,A);if(S instanceof u)return S}return null}function m(v,y,A,x){if(r.cancellation()){var _=new u(t),w=this._finallyPromise=new u(t);this._promise=_.lastly(function(){return w}),_._captureStackTrace(),_._setOnCancel(this)}else{var S=this._promise=new u(t);S._captureStackTrace()}this._stack=x,this._generatorFunction=v,this._receiver=y,this._generator=void 0,this._yieldHandlers=typeof A=="function"?[A].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(m,i),m.prototype._isResolved=function(){return this._promise===null},m.prototype._cleanup=function(){this._promise=this._generator=null,r.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},m.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",y;if(v)this._promise._pushContext(),y=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var A=new u.CancellationError("generator .return() sentinel");u.coroutine.returnSentinel=A,this._promise._attachExtraTrace(A),this._promise._pushContext(),y=d(this._generator.throw).call(this._generator,A),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(y)}},m.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var y=d(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(y)},m.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var y=d(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(y)},m.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof u){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},m.prototype.promise=function(){return this._promise},m.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},m.prototype._continue=function(v){var y=this._promise;if(v===h)return this._cleanup(),this._cancellationPhase?y.cancel():y._rejectCallback(v.e,!1);var A=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?y.cancel():y._resolveCallback(A);var x=n(A,this._promise);if(!(x instanceof u)&&(x=g(x,this._yieldHandlers,this._promise),x===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",A)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}x=x._target();var _=x._bitField;(_&50397184)===0?(this._yieldedPromise=x,x._proxy(this,null)):(_&33554432)!==0?u._async.invoke(this._promiseFulfilled,this,x._value()):(_&16777216)!==0?u._async.invoke(this._promiseRejected,this,x._reason()):this._promiseCancelled()},u.coroutine=function(v,y){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var A=Object(y).yieldHandler,x=m,_=new Error().stack;return function(){var w=v.apply(this,arguments),S=new x(void 0,void 0,A,_),E=S.promise();return S._generator=w,S._promiseFulfilled(void 0),E}},u.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));p.push(v)},u.spawn=function(v){if(r.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=new m(v,this),A=y.promise();return y._run(u.spawn),A}}),qg}var Gg,PA;function sF(){return PA||(PA=1,Gg=function(u){var e=It(),t=u._async,n=e.tryCatch,i=e.errorObj;function r(l,h){var d=this;if(!e.isArray(l))return s.call(d,l,h);var p=n(h).apply(d._boundValue(),[null].concat(l));p===i&&t.throwLater(p.e)}function s(l,h){var d=this,p=d._boundValue(),g=l===void 0?n(h).call(p,null):n(h).call(p,null,l);g===i&&t.throwLater(g.e)}function o(l,h){var d=this;if(!l){var p=new Error(l+"");p.cause=l,l=p}var g=n(h).call(d._boundValue(),l);g===i&&t.throwLater(g.e)}u.prototype.asCallback=u.prototype.nodeify=function(l,h){if(typeof l=="function"){var d=s;h!==void 0&&Object(h).spread&&(d=r),this._then(d,o,void 0,this,l)}return this}}),Gg}var $g,WA;function aF(){return WA||(WA=1,$g=function(u,e){var t={},n=It(),i=NE(),r=n.withAppended,s=n.maybeWrapAsError,o=n.canEvaluate,l=Us().TypeError,h="Async",d={__isPromisified__:!0},p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],g=new RegExp("^(?:"+p.join("|")+")$"),m=function(H){return n.isIdentifier(H)&&H.charAt(0)!=="_"&&H!=="constructor"};function v(H){return!g.test(H)}function y(H){try{return H.__isPromisified__===!0}catch{return!1}}function A(H,k,Z){var M=n.getDataPropertyOrDefault(H,k+Z,d);return M?y(M):!1}function x(H,k,Z){for(var M=0;M<H.length;M+=2){var O=H[M];if(Z.test(O)){for(var K=O.replace(Z,""),Q=0;Q<H.length;Q+=2)if(H[Q]===K)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",k))}}}function _(H,k,Z,M){for(var O=n.inheritedDataKeys(H),K=[],Q=0;Q<O.length;++Q){var z=O[Q],P=H[z],V=M===m?!0:m(z);typeof P=="function"&&!y(P)&&!A(H,z,k)&&M(z,P,H,V)&&K.push(z,P)}return x(K,k,Z),K}var w=function(H){return H.replace(/([$])/,"\\$")},S;{var E=function(H){for(var k=[H],Z=Math.max(0,H-1-3),M=H-1;M>=Z;--M)k.push(M);for(var M=H+1;M<=3;++M)k.push(M);return k},C=function(H){return n.filledRange(H,"_arg","")},R=function(H){return n.filledRange(Math.max(H,3),"_arg","")},N=function(H){return typeof H.length=="number"?Math.max(Math.min(H.length,1024),0):0};S=function(H,k,Z,M,O,K){var Q=Math.max(0,N(M)-1),z=E(Q),P=typeof H=="string"||k===t;function V(ye){var ve=C(ye).join(", "),Ee=ye>0?", ":"",Fe;return P?Fe=`ret = callback.call(this, {{args}}, nodeback); break;
`:Fe=k===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Fe.replace("{{args}}",ve).replace(", ",Ee)}function $(){for(var ye="",ve=0;ve<z.length;++ve)ye+="case "+z[ve]+":"+V(z[ve]);return ye+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",P?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ye}var se=typeof H=="string"?"this != null ? this['"+H+"'] : fn":"fn",le=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+K+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",$()).replace("[GetFunctionCode]",se);return le=le.replace("Parameters",R(Q)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",le)(u,M,k,r,s,i,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function F(H,k,Z,M,O,K){var Q=(function(){return this})(),z=H;typeof z=="string"&&(H=M);function P(){var V=k;k===t&&(V=this);var $=new u(e);$._captureStackTrace();var se=typeof z=="string"&&this!==Q?this[z]:H,le=i($,K);try{se.apply(V,r(arguments,le))}catch(ye){$._rejectCallback(s(ye),!0,!0)}return $._isFateSealed()||$._setAsyncGuaranteed(),$}return n.notEnumerableProp(P,"__isPromisified__",!0),P}var I=o?S:F;function q(H,k,Z,M,O){for(var K=new RegExp(w(k)+"$"),Q=_(H,k,K,Z),z=0,P=Q.length;z<P;z+=2){var V=Q[z],$=Q[z+1],se=V+k;if(M===I)H[se]=I(V,t,V,$,k,O);else{var le=M($,function(){return I(V,t,V,$,k,O)});n.notEnumerableProp(le,"__isPromisified__",!0),H[se]=le}}return n.toFastProperties(H),H}function L(H,k,Z){return I(H,k,void 0,H,null,Z)}u.promisify=function(H,k){if(typeof H!="function")throw new l("expecting a function but got "+n.classString(H));if(y(H))return H;k=Object(k);var Z=k.context===void 0?t:k.context,M=!!k.multiArgs,O=L(H,Z,M);return n.copyDescriptors(H,O,v),O},u.promisifyAll=function(H,k){if(typeof H!="function"&&typeof H!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);k=Object(k);var Z=!!k.multiArgs,M=k.suffix;typeof M!="string"&&(M=h);var O=k.filter;typeof O!="function"&&(O=m);var K=k.promisifier;if(typeof K!="function"&&(K=I),!n.isIdentifier(M))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var Q=n.inheritedDataKeys(H),z=0;z<Q.length;++z){var P=H[Q[z]];Q[z]!=="constructor"&&n.isClass(P)&&(q(P.prototype,M,O,K,Z),q(P,M,O,K,Z))}return q(H,M,O,K,Z)}}),$g}var Vg,zA;function oF(){return zA||(zA=1,Vg=function(u,e,t,n){var i=It(),r=i.isObject,s=Io(),o;typeof Map=="function"&&(o=Map);var l=(function(){var g=0,m=0;function v(y,A){this[g]=y,this[g+m]=A,g++}return function(A){m=A.size,g=0;var x=new Array(A.size*2);return A.forEach(v,x),x}})(),h=function(g){for(var m=new o,v=g.length/2|0,y=0;y<v;++y){var A=g[v+y],x=g[y];m.set(A,x)}return m};function d(g){var m=!1,v;if(o!==void 0&&g instanceof o)v=l(g),m=!0;else{var y=s.keys(g),A=y.length;v=new Array(A*2);for(var x=0;x<A;++x){var _=y[x];v[x]=g[_],v[x+A]=_}}this.constructor$(v),this._isMap=m,this._init$(void 0,-3)}i.inherits(d,e),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(g,m){this._values[m]=g;var v=++this._totalResolved;if(v>=this._length){var y;if(this._isMap)y=h(this._values);else{y={};for(var A=this.length(),x=0,_=this.length();x<_;++x)y[this._values[x+A]]=this._values[x]}return this._resolve(y),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(g){return g>>1};function p(g){var m,v=t(g);if(r(v))v instanceof u?m=v._then(u.props,void 0,void 0,void 0,void 0):m=new d(v).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof u&&m._propagateFrom(v,2),m}u.prototype.props=function(){return p(this)},u.props=function(g){return p(g)}}),Vg}var Xg,HA;function cF(){return HA||(HA=1,Xg=function(u,e,t,n){var i=It(),r=function(o){return o.then(function(l){return s(l,o)})};function s(o,l){var h=t(o);if(h instanceof u)return r(h);if(o=i.asArray(o),o===null)return n("expecting an array or an iterable object but got "+i.classString(o));var d=new u(e);l!==void 0&&d._propagateFrom(l,3);for(var p=d._fulfill,g=d._reject,m=0,v=o.length;m<v;++m){var y=o[m];y===void 0&&!(m in o)||u.cast(y)._then(p,g,void 0,d,null)}return d}u.race=function(o){return s(o,void 0)},u.prototype.race=function(){return s(this,void 0)}}),Xg}var Yg,jA;function lF(){return jA||(jA=1,Yg=function(u,e,t,n,i,r){var s=u._getDomain,o=It(),l=o.tryCatch;function h(v,y,A,x){this.constructor$(v);var _=s();this._fn=_===null?y:o.domainBind(_,y),A!==void 0&&(A=u.resolve(A),A._attachCancellationCallback(this)),this._initialValue=A,this._currentCancellable=null,x===i?this._eachValues=Array(this._length):x===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(h,e),h.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},h.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){return!1},h.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},h.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof u&&this._currentCancellable.cancel(),this._initialValue instanceof u&&this._initialValue.cancel())},h.prototype._iterate=function(v){this._values=v;var y,A,x=v.length;if(this._initialValue!==void 0?(y=this._initialValue,A=0):(y=u.resolve(v[0]),A=1),this._currentCancellable=y,!y.isRejected())for(;A<x;++A){var _={accum:null,value:v[A],index:A,length:x,array:this};y=y._then(g,void 0,void 0,_,void 0)}this._eachValues!==void 0&&(y=y._then(this._eachComplete,void 0,void 0,this,void 0)),y._then(d,d,void 0,y,this)},u.prototype.reduce=function(v,y){return p(this,v,y,null)},u.reduce=function(v,y,A,x){return p(v,y,A,x)};function d(v,y){this.isFulfilled()?y._resolve(v):y._reject(v)}function p(v,y,A,x){if(typeof y!="function")return t("expecting a function but got "+o.classString(y));var _=new h(v,y,A,x);return _.promise()}function g(v){this.accum=v,this.array._gotAccum(v);var y=n(this.value,this.array._promise);return y instanceof u?(this.array._currentCancellable=y,y._then(m,void 0,void 0,this,void 0)):m.call(this,y)}function m(v){var y=this.array,A=y._promise,x=l(y._fn);A._pushContext();var _;y._eachValues!==void 0?_=x.call(A._boundValue(),v,this.index,this.length):_=x.call(A._boundValue(),this.accum,v,this.index,this.length),_ instanceof u&&(y._currentCancellable=_);var w=A._popContext();return r.checkForgottenReturns(_,w,y._eachValues!==void 0?"Promise.each":"Promise.reduce",A),_}}),Yg}var Kg,qA;function uF(){return qA||(qA=1,Kg=function(u,e,t){var n=u.PromiseInspection,i=It();function r(s){this.constructor$(s)}i.inherits(r,e),r.prototype._promiseResolved=function(s,o){this._values[s]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},r.prototype._promiseFulfilled=function(s,o){var l=new n;return l._bitField=33554432,l._settledValueField=s,this._promiseResolved(o,l)},r.prototype._promiseRejected=function(s,o){var l=new n;return l._bitField=16777216,l._settledValueField=s,this._promiseResolved(o,l)},u.settle=function(s){return t.deprecated(".settle()",".reflect()"),new r(s).promise()},u.prototype.settle=function(){return u.settle(this)}}),Kg}var Zg,GA;function hF(){return GA||(GA=1,Zg=function(u,e,t){var n=It(),i=Us().RangeError,r=Us().AggregateError,s=n.isArray,o={};function l(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=s(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(d){this._howMany=d},l.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof u||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new r,p=this.length();p<this._values.length;++p)this._values[p]!==o&&d.push(this._values[p]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(d){this._values.push(d)},l.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(d){var p="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new i(p)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function h(d,p){if((p|0)!==p||p<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var g=new l(d),m=g.promise();return g.setHowMany(p),g.init(),m}u.some=function(d,p){return h(d,p)},u.prototype.some=function(d){return h(this,d)},u._SomePromiseArray=l}),Zg}var Qg,$A;function dF(){return $A||($A=1,Qg=function(u,e){var t=u.map;u.prototype.filter=function(n,i){return t(this,n,i,e)},u.filter=function(n,i,r){return t(n,i,r,e)}}),Qg}var Jg,VA;function fF(){return VA||(VA=1,Jg=function(u,e){var t=u.reduce,n=u.all;function i(){return n(this)}function r(s,o){return t(s,o,e,e)}u.prototype.each=function(s){return t(this,s,e,0)._then(i,void 0,void 0,this,void 0)},u.prototype.mapSeries=function(s){return t(this,s,e,e)},u.each=function(s,o){return t(s,o,e,0)._then(i,void 0,void 0,s,void 0)},u.mapSeries=r}),Jg}var em,XA;function pF(){return XA||(XA=1,em=function(u){var e=u._SomePromiseArray;function t(n){var i=new e(n),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}u.any=function(n){return t(n)},u.prototype.any=function(){return t(this)}}),em}var YA;function gF(){return YA||(YA=1,(function(u){u.exports=function(){var e=function(){return new g(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new L.PromiseInspection(this._target())},n=function(M){return L.reject(new g(M))};function i(){}var r={},s=It(),o;s.isNode?o=function(){var M=process.domain;return M===void 0&&(M=null),M}:o=function(){return null},s.notEnumerableProp(L,"_getDomain",o);var l=Io(),h=zk(),d=new h;l.defineProperty(L,"_async",{value:d});var p=Us(),g=L.TypeError=p.TypeError;L.RangeError=p.RangeError;var m=L.CancellationError=p.CancellationError;L.TimeoutError=p.TimeoutError,L.OperationalError=p.OperationalError,L.RejectionError=p.OperationalError,L.AggregateError=p.AggregateError;var v=function(){},y={},A={},x=Hk()(L,v),_=jk()(L,v,x,n,i),w=qk()(L),S=w.create,E=Gk()(L,w);E.CapturedTrace;var C=$k()(L,x),R=Vk()(A),N=NE(),F=s.errorObj,I=s.tryCatch;function q(M,O){if(typeof O!="function")throw new g("expecting a function but got "+s.classString(O));if(M.constructor!==L)throw new g(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function L(M){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,M!==v&&(q(this,M),this._resolveFromExecutor(M)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}L.prototype.toString=function(){return"[object Promise]"},L.prototype.caught=L.prototype.catch=function(M){var O=arguments.length;if(O>1){var K=new Array(O-1),Q=0,z;for(z=0;z<O-1;++z){var P=arguments[z];if(s.isObject(P))K[Q++]=P;else return n("expecting an object but got A catch statement predicate "+s.classString(P))}return K.length=Q,M=arguments[z],this.then(void 0,R(K,M,this))}return this.then(void 0,M)},L.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},L.prototype.then=function(M,O){if(E.warnings()&&arguments.length>0&&typeof M!="function"&&typeof O!="function"){var K=".then() only accepts functions but was passed: "+s.classString(M);arguments.length>1&&(K+=", "+s.classString(O)),this._warn(K)}return this._then(M,O,void 0,void 0,void 0)},L.prototype.done=function(M,O){var K=this._then(M,O,void 0,void 0,void 0);K._setIsFinal()},L.prototype.spread=function(M){return typeof M!="function"?n("expecting a function but got "+s.classString(M)):this.all()._then(M,void 0,void 0,y,void 0)},L.prototype.toJSON=function(){var M={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(M.fulfillmentValue=this.value(),M.isFulfilled=!0):this.isRejected()&&(M.rejectionReason=this.reason(),M.isRejected=!0),M},L.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},L.prototype.error=function(M){return this.caught(s.originatesFromRejection,M)},L.getNewLibraryCopy=u.exports,L.is=function(M){return M instanceof L},L.fromNode=L.fromCallback=function(M){var O=new L(v);O._captureStackTrace();var K=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,Q=I(M)(N(O,K));return Q===F&&O._rejectCallback(Q.e,!0),O._isFateSealed()||O._setAsyncGuaranteed(),O},L.all=function(M){return new _(M).promise()},L.cast=function(M){var O=x(M);return O instanceof L||(O=new L(v),O._captureStackTrace(),O._setFulfilled(),O._rejectionHandler0=M),O},L.resolve=L.fulfilled=L.cast,L.reject=L.rejected=function(M){var O=new L(v);return O._captureStackTrace(),O._rejectCallback(M,!0),O},L.setScheduler=function(M){if(typeof M!="function")throw new g("expecting a function but got "+s.classString(M));return d.setScheduler(M)},L.prototype._then=function(M,O,K,Q,z){var P=z!==void 0,V=P?z:new L(v),$=this._target(),se=$._bitField;P||(V._propagateFrom(this,3),V._captureStackTrace(),Q===void 0&&(this._bitField&2097152)!==0&&((se&50397184)!==0?Q=this._boundValue():Q=$===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,V));var le=o();if((se&50397184)!==0){var ye,ve,Ee=$._settlePromiseCtx;(se&33554432)!==0?(ve=$._rejectionHandler0,ye=M):(se&16777216)!==0?(ve=$._fulfillmentHandler0,ye=O,$._unsetRejectionIsUnhandled()):(Ee=$._settlePromiseLateCancellationObserver,ve=new m("late cancellation observer"),$._attachExtraTrace(ve),ye=O),d.invoke(Ee,$,{handler:le===null?ye:typeof ye=="function"&&s.domainBind(le,ye),promise:V,receiver:Q,value:ve})}else $._addCallbacks(M,O,V,Q,le);return V},L.prototype._length=function(){return this._bitField&65535},L.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},L.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},L.prototype._setLength=function(M){this._bitField=this._bitField&-65536|M&65535},L.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},L.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},L.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},L.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},L.prototype._isFinal=function(){return(this._bitField&4194304)>0},L.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},L.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},L.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},L.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},L.prototype._receiverAt=function(M){var O=M===0?this._receiver0:this[M*4-4+3];if(O!==r)return O===void 0&&this._isBound()?this._boundValue():O},L.prototype._promiseAt=function(M){return this[M*4-4+2]},L.prototype._fulfillmentHandlerAt=function(M){return this[M*4-4+0]},L.prototype._rejectionHandlerAt=function(M){return this[M*4-4+1]},L.prototype._boundValue=function(){},L.prototype._migrateCallback0=function(M){M._bitField;var O=M._fulfillmentHandler0,K=M._rejectionHandler0,Q=M._promise0,z=M._receiverAt(0);z===void 0&&(z=r),this._addCallbacks(O,K,Q,z,null)},L.prototype._migrateCallbackAt=function(M,O){var K=M._fulfillmentHandlerAt(O),Q=M._rejectionHandlerAt(O),z=M._promiseAt(O),P=M._receiverAt(O);P===void 0&&(P=r),this._addCallbacks(K,Q,z,P,null)},L.prototype._addCallbacks=function(M,O,K,Q,z){var P=this._length();if(P>=65531&&(P=0,this._setLength(0)),P===0)this._promise0=K,this._receiver0=Q,typeof M=="function"&&(this._fulfillmentHandler0=z===null?M:s.domainBind(z,M)),typeof O=="function"&&(this._rejectionHandler0=z===null?O:s.domainBind(z,O));else{var V=P*4-4;this[V+2]=K,this[V+3]=Q,typeof M=="function"&&(this[V+0]=z===null?M:s.domainBind(z,M)),typeof O=="function"&&(this[V+1]=z===null?O:s.domainBind(z,O))}return this._setLength(P+1),P},L.prototype._proxy=function(M,O){this._addCallbacks(void 0,void 0,O,M,null)},L.prototype._resolveCallback=function(M,O){if((this._bitField&117506048)===0){if(M===this)return this._rejectCallback(e(),!1);var K=x(M,this);if(!(K instanceof L))return this._fulfill(M);O&&this._propagateFrom(K,2);var Q=K._target();if(Q===this){this._reject(e());return}var z=Q._bitField;if((z&50397184)===0){var P=this._length();P>0&&Q._migrateCallback0(this);for(var V=1;V<P;++V)Q._migrateCallbackAt(this,V);this._setFollowing(),this._setLength(0),this._setFollowee(Q)}else if((z&33554432)!==0)this._fulfill(Q._value());else if((z&16777216)!==0)this._reject(Q._reason());else{var $=new m("late cancellation observer");Q._attachExtraTrace($),this._reject($)}}},L.prototype._rejectCallback=function(M,O,K){var Q=s.ensureErrorObject(M),z=Q===M;if(!z&&!K&&E.warnings()){var P="a promise was rejected with a non-error: "+s.classString(M);this._warn(P,!0)}this._attachExtraTrace(Q,O?z:!1),this._reject(M)},L.prototype._resolveFromExecutor=function(M){var O=this;this._captureStackTrace(),this._pushContext();var K=!0,Q=this._execute(M,function(z){O._resolveCallback(z)},function(z){O._rejectCallback(z,K)});K=!1,this._popContext(),Q!==void 0&&O._rejectCallback(Q,!0)},L.prototype._settlePromiseFromHandler=function(M,O,K,Q){var z=Q._bitField;if((z&65536)===0){Q._pushContext();var P;O===y?!K||typeof K.length!="number"?(P=F,P.e=new g("cannot .spread() a non-array: "+s.classString(K))):P=I(M).apply(this._boundValue(),K):P=I(M).call(O,K);var V=Q._popContext();z=Q._bitField,(z&65536)===0&&(P===A?Q._reject(K):P===F?Q._rejectCallback(P.e,!1):(E.checkForgottenReturns(P,V,"",Q,this),Q._resolveCallback(P)))}},L.prototype._target=function(){for(var M=this;M._isFollowing();)M=M._followee();return M},L.prototype._followee=function(){return this._rejectionHandler0},L.prototype._setFollowee=function(M){this._rejectionHandler0=M},L.prototype._settlePromise=function(M,O,K,Q){var z=M instanceof L,P=this._bitField,V=(P&134217728)!==0;(P&65536)!==0?(z&&M._invokeInternalOnCancel(),K instanceof C&&K.isFinallyHandler()?(K.cancelPromise=M,I(O).call(K,Q)===F&&M._reject(F.e)):O===t?M._fulfill(t.call(K)):K instanceof i?K._promiseCancelled(M):z||M instanceof _?M._cancel():K.cancel()):typeof O=="function"?z?(V&&M._setAsyncGuaranteed(),this._settlePromiseFromHandler(O,K,Q,M)):O.call(K,Q,M):K instanceof i?K._isResolved()||((P&33554432)!==0?K._promiseFulfilled(Q,M):K._promiseRejected(Q,M)):z&&(V&&M._setAsyncGuaranteed(),(P&33554432)!==0?M._fulfill(Q):M._reject(Q))},L.prototype._settlePromiseLateCancellationObserver=function(M){var O=M.handler,K=M.promise,Q=M.receiver,z=M.value;typeof O=="function"?K instanceof L?this._settlePromiseFromHandler(O,Q,z,K):O.call(Q,z,K):K instanceof L&&K._reject(z)},L.prototype._settlePromiseCtx=function(M){this._settlePromise(M.promise,M.handler,M.receiver,M.value)},L.prototype._settlePromise0=function(M,O,K){var Q=this._promise0,z=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Q,M,z,O)},L.prototype._clearCallbackDataAtIndex=function(M){var O=M*4-4;this[O+2]=this[O+3]=this[O+0]=this[O+1]=void 0},L.prototype._fulfill=function(M){var O=this._bitField;if(!((O&117506048)>>>16)){if(M===this){var K=e();return this._attachExtraTrace(K),this._reject(K)}this._setFulfilled(),this._rejectionHandler0=M,(O&65535)>0&&((O&134217728)!==0?this._settlePromises():d.settlePromises(this))}},L.prototype._reject=function(M){var O=this._bitField;if(!((O&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=M,this._isFinal())return d.fatalError(M,s.isNode);(O&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},L.prototype._fulfillPromises=function(M,O){for(var K=1;K<M;K++){var Q=this._fulfillmentHandlerAt(K),z=this._promiseAt(K),P=this._receiverAt(K);this._clearCallbackDataAtIndex(K),this._settlePromise(z,Q,P,O)}},L.prototype._rejectPromises=function(M,O){for(var K=1;K<M;K++){var Q=this._rejectionHandlerAt(K),z=this._promiseAt(K),P=this._receiverAt(K);this._clearCallbackDataAtIndex(K),this._settlePromise(z,Q,P,O)}},L.prototype._settlePromises=function(){var M=this._bitField,O=M&65535;if(O>0){if((M&16842752)!==0){var K=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,K,M),this._rejectPromises(O,K)}else{var Q=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Q,M),this._fulfillPromises(O,Q)}this._setLength(0)}this._clearCancellationData()},L.prototype._settledValue=function(){var M=this._bitField;if((M&33554432)!==0)return this._rejectionHandler0;if((M&16777216)!==0)return this._fulfillmentHandler0};function H(M){this.promise._resolveCallback(M)}function k(M){this.promise._rejectCallback(M,!1)}L.defer=L.pending=function(){E.deprecated("Promise.defer","new Promise");var M=new L(v);return{promise:M,resolve:H,reject:k}},s.notEnumerableProp(L,"_makeSelfResolutionError",e),Xk()(L,v,x,n,E),Yk()(L,v,x,E),Kk()(L,_,n,E),Zk()(L),Qk()(L),Jk()(L,_,x,v,d,o),L.Promise=L,L.version="3.4.7",eF()(L,_,n,x,v,E),tF()(L),nF()(L,n,x,S,v,E),iF()(L,v,E),rF()(L,n,v,x,i,E),sF()(L),aF()(L,v),oF()(L,_,x,n),cF()(L,v,x,n),lF()(L,_,n,x,v,E),uF()(L,_,E),hF()(L,_,n),dF()(L,v),fF()(L,v),pF()(L),s.toFastProperties(L),s.toFastProperties(L.prototype);function Z(M){var O=new L(v);O._fulfillmentHandler0=M,O._rejectionHandler0=M,O._promise0=M,O._receiver0=M}return Z({a:1}),Z({b:2}),Z({c:3}),Z(1),Z(function(){}),Z(void 0),Z(!1),Z(new L(v)),E.setBounds(h.firstLineError,s.lastLineError),L}})(Dg)),Dg.exports}var KA;function Os(){if(KA)return Pi;KA=1;var u=tn,e=gF()();Pi.defer=t,Pi.when=e.resolve,Pi.resolve=e.resolve,Pi.all=e.all,Pi.props=e.props,Pi.reject=e.reject,Pi.promisify=e.promisify,Pi.mapSeries=e.mapSeries,Pi.attempt=e.attempt,Pi.nfcall=function(n){var i=Array.prototype.slice.call(arguments,1),r=e.promisify(n);return r.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(i){var r=u.extend({},i,n(i));return e.props(r)})};function t(){var n,i,r=new e.Promise(function(s,o){n=s,i=o});return{resolve:n,reject:i,promise:r}}return Pi}var xt={},ZA;function Ea(){if(ZA)return xt;ZA=1;var u=tn,e=xt.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(C,R){return R=R||{},{type:e.document,children:C,notes:R.notes||new p({}),comments:R.comments||[]}}function n(C,R){R=R||{};var N=R.indent||{};return{type:e.paragraph,children:C,styleId:R.styleId||null,styleName:R.styleName||null,numbering:R.numbering||null,alignment:R.alignment||null,indent:{start:N.start||null,end:N.end||null,firstLine:N.firstLine||null,hanging:N.hanging||null}}}function i(C,R){return R=R||{},{type:e.run,children:C,styleId:R.styleId||null,styleName:R.styleName||null,isBold:!!R.isBold,isUnderline:!!R.isUnderline,isItalic:!!R.isItalic,isStrikethrough:!!R.isStrikethrough,isAllCaps:!!R.isAllCaps,isSmallCaps:!!R.isSmallCaps,verticalAlignment:R.verticalAlignment||r.baseline,font:R.font||null,fontSize:R.fontSize||null,highlight:R.highlight||null}}var r={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function s(C){return{type:e.text,value:C}}function o(){return{type:e.tab}}function l(C){return{type:e.checkbox,checked:C.checked}}function h(C,R){return{type:e.hyperlink,children:C,href:R.href,anchor:R.anchor,targetFrame:R.targetFrame}}function d(C){return{type:e.noteReference,noteType:C.noteType,noteId:C.noteId}}function p(C){this._notes=u.indexBy(C,function(R){return y(R.noteType,R.noteId)})}p.prototype.resolve=function(C){return this.findNoteByKey(y(C.noteType,C.noteId))},p.prototype.findNoteByKey=function(C){return this._notes[C]||null};function g(C){return{type:e.note,noteType:C.noteType,noteId:C.noteId,body:C.body}}function m(C){return{type:e.commentReference,commentId:C.commentId}}function v(C){return{type:e.comment,commentId:C.commentId,body:C.body,authorName:C.authorName,authorInitials:C.authorInitials}}function y(C,R){return C+"-"+R}function A(C){return{type:e.image,read:function(R){return R?C.readImage(R):C.readImage().then(function(N){return Buffer.from(N)})},readAsArrayBuffer:function(){return C.readImage()},readAsBase64String:function(){return C.readImage("base64")},readAsBuffer:function(){return C.readImage().then(function(R){return Buffer.from(R)})},altText:C.altText,contentType:C.contentType}}function x(C,R){return R=R||{},{type:e.table,children:C,styleId:R.styleId||null,styleName:R.styleName||null}}function _(C,R){return R=R||{},{type:e.tableRow,children:C,isHeader:R.isHeader||!1}}function w(C,R){return R=R||{},{type:e.tableCell,children:C,colSpan:R.colSpan==null?1:R.colSpan,rowSpan:R.rowSpan==null?1:R.rowSpan}}function S(C){return{type:e.break,breakType:C}}function E(C){return{type:e.bookmarkStart,name:C.name}}return xt.document=xt.Document=t,xt.paragraph=xt.Paragraph=n,xt.run=xt.Run=i,xt.text=xt.Text=s,xt.tab=xt.Tab=o,xt.checkbox=xt.Checkbox=l,xt.Hyperlink=h,xt.noteReference=xt.NoteReference=d,xt.Notes=p,xt.Note=g,xt.commentReference=m,xt.comment=v,xt.Image=A,xt.Table=x,xt.TableRow=_,xt.TableCell=w,xt.lineBreak=S("line"),xt.pageBreak=S("page"),xt.columnBreak=S("column"),xt.BookmarkStart=E,xt.verticalAlignment=r,xt}var uo={},QA;function Vr(){if(QA)return uo;QA=1;var u=tn;uo.Result=e,uo.success=t,uo.warning=n,uo.error=i;function e(l,h){this.value=l,this.messages=h||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var h=l(this.value);return new e(h.value,r([this,h]))},e.prototype.flatMapThen=function(l){var h=this;return l(this.value).then(function(d){return new e(d.value,r([h,d]))})},e.combine=function(l){var h=u.flatten(u.pluck(l,"value")),d=r(l);return new e(h,d)};function t(l){return new e(l,[])}function n(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function r(l){var h=[];return u.flatten(u.pluck(l,"messages"),!0).forEach(function(d){s(h,d)||h.push(d)}),h}function s(l,h){return u.find(l,o.bind(null,h))!==void 0}function o(l,h){return l.type===h.type&&l.message===h.message}return uo}var Ic={},Pc={},JA;function mF(){if(JA)return Pc;JA=1,Pc.byteLength=o,Pc.toByteArray=h,Pc.fromByteArray=g;for(var u=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=n.length;i<r;++i)u[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=v);var A=y===v?0:4-y%4;return[y,A]}function o(m){var v=s(m),y=v[0],A=v[1];return(y+A)*3/4-A}function l(m,v,y){return(v+y)*3/4-y}function h(m){var v,y=s(m),A=y[0],x=y[1],_=new t(l(m,A,x)),w=0,S=x>0?A-4:A,E;for(E=0;E<S;E+=4)v=e[m.charCodeAt(E)]<<18|e[m.charCodeAt(E+1)]<<12|e[m.charCodeAt(E+2)]<<6|e[m.charCodeAt(E+3)],_[w++]=v>>16&255,_[w++]=v>>8&255,_[w++]=v&255;return x===2&&(v=e[m.charCodeAt(E)]<<2|e[m.charCodeAt(E+1)]>>4,_[w++]=v&255),x===1&&(v=e[m.charCodeAt(E)]<<10|e[m.charCodeAt(E+1)]<<4|e[m.charCodeAt(E+2)]>>2,_[w++]=v>>8&255,_[w++]=v&255),_}function d(m){return u[m>>18&63]+u[m>>12&63]+u[m>>6&63]+u[m&63]}function p(m,v,y){for(var A,x=[],_=v;_<y;_+=3)A=(m[_]<<16&16711680)+(m[_+1]<<8&65280)+(m[_+2]&255),x.push(d(A));return x.join("")}function g(m){for(var v,y=m.length,A=y%3,x=[],_=16383,w=0,S=y-A;w<S;w+=_)x.push(p(m,w,w+_>S?S:w+_));return A===1?(v=m[y-1],x.push(u[v>>2]+u[v<<4&63]+"==")):A===2&&(v=(m[y-2]<<8)+m[y-1],x.push(u[v>>10]+u[v>>4&63]+u[v<<2&63]+"=")),x.join("")}return Pc}function ih(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var ex;function bF(){return ex||(ex=1,(function(u,e){(function(t){u.exports=t()})(function(){return(function t(n,i,r){function s(h,d){if(!i[h]){if(!n[h]){var p=typeof ih=="function"&&ih;if(!d&&p)return p(h,!0);if(o)return o(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var m=i[h]={exports:{}};n[h][0].call(m.exports,function(v){var y=n[h][1][v];return s(y||v)},m,m.exports,t,n,i,r)}return i[h].exports}for(var o=typeof ih=="function"&&ih,l=0;l<r.length;l++)s(r[l]);return s})({1:[function(t,n,i){var r=t("./utils"),s=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var h,d,p,g,m,v,y,A=[],x=0,_=l.length,w=_,S=r.getTypeOf(l)!=="string";x<l.length;)w=_-x,p=S?(h=l[x++],d=x<_?l[x++]:0,x<_?l[x++]:0):(h=l.charCodeAt(x++),d=x<_?l.charCodeAt(x++):0,x<_?l.charCodeAt(x++):0),g=h>>2,m=(3&h)<<4|d>>4,v=1<w?(15&d)<<2|p>>6:64,y=2<w?63&p:64,A.push(o.charAt(g)+o.charAt(m)+o.charAt(v)+o.charAt(y));return A.join("")},i.decode=function(l){var h,d,p,g,m,v,y=0,A=0,x="data:";if(l.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var _,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=s.uint8array?new Uint8Array(0|w):new Array(0|w);y<l.length;)h=o.indexOf(l.charAt(y++))<<2|(g=o.indexOf(l.charAt(y++)))>>4,d=(15&g)<<4|(m=o.indexOf(l.charAt(y++)))>>2,p=(3&m)<<6|(v=o.indexOf(l.charAt(y++))),_[A++]=h,m!==64&&(_[A++]=d),v!==64&&(_[A++]=p);return _}},{"./support":30,"./utils":32}],2:[function(t,n,i){var r=t("./external"),s=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function h(d,p,g,m,v){this.compressedSize=d,this.uncompressedSize=p,this.crc32=g,this.compression=m,this.compressedContent=v}h.prototype={getContentWorker:function(){var d=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(d,p,g){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var r=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var r=t("./utils"),s=(function(){for(var o,l=[],h=0;h<256;h++){o=h;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[h]=o}return l})();n.exports=function(o,l){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?(function(h,d,p,g){var m=s,v=g+p;h^=-1;for(var y=g;y<v;y++)h=h>>>8^m[255&(h^d[y])];return-1^h})(0|l,o,o.length,0):(function(h,d,p,g){var m=s,v=g+p;h^=-1;for(var y=g;y<v;y++)h=h>>>8^m[255&(h^d.charCodeAt(y))];return-1^h})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var r=null;r=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:r}},{lie:37}],7:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),h=r?"uint8array":"array";function d(p,g){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(h,p.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new d("Deflate",p)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function r(m,v){var y,A="";for(y=0;y<v;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function s(m,v,y,A,x,_){var w,S,E=m.file,C=m.compression,R=_!==h.utf8encode,N=o.transformTo("string",_(E.name)),F=o.transformTo("string",h.utf8encode(E.name)),I=E.comment,q=o.transformTo("string",_(I)),L=o.transformTo("string",h.utf8encode(I)),H=F.length!==E.name.length,k=L.length!==I.length,Z="",M="",O="",K=E.dir,Q=E.date,z={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(z.crc32=m.crc32,z.compressedSize=m.compressedSize,z.uncompressedSize=m.uncompressedSize);var P=0;v&&(P|=8),R||!H&&!k||(P|=2048);var V=0,$=0;K&&(V|=16),x==="UNIX"?($=798,V|=(function(le,ye){var ve=le;return le||(ve=ye?16893:33204),(65535&ve)<<16})(E.unixPermissions,K)):($=20,V|=(function(le){return 63&(le||0)})(E.dosPermissions)),w=Q.getUTCHours(),w<<=6,w|=Q.getUTCMinutes(),w<<=5,w|=Q.getUTCSeconds()/2,S=Q.getUTCFullYear()-1980,S<<=4,S|=Q.getUTCMonth()+1,S<<=5,S|=Q.getUTCDate(),H&&(M=r(1,1)+r(d(N),4)+F,Z+="up"+r(M.length,2)+M),k&&(O=r(1,1)+r(d(q),4)+L,Z+="uc"+r(O.length,2)+O);var se="";return se+=`
\0`,se+=r(P,2),se+=C.magic,se+=r(w,2),se+=r(S,2),se+=r(z.crc32,4),se+=r(z.compressedSize,4),se+=r(z.uncompressedSize,4),se+=r(N.length,2),se+=r(Z.length,2),{fileRecord:p.LOCAL_FILE_HEADER+se+N+Z,dirRecord:p.CENTRAL_FILE_HEADER+r($,2)+se+r(q.length,2)+"\0\0\0\0"+r(V,4)+r(A,4)+N+Z+q}}var o=t("../utils"),l=t("../stream/GenericWorker"),h=t("../utf8"),d=t("../crc32"),p=t("../signature");function g(m,v,y,A){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(g,l),g.prototype.push=function(m){var v=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-A-1))/y:100}}))},g.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var v=this.streamFiles&&!m.file.dir;if(v){var y=s(m,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(m){this.accumulate=!1;var v=this.streamFiles&&!m.file.dir,y=s(m,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:(function(A){return p.DATA_DESCRIPTOR+r(A.crc32,4)+r(A.compressedSize,4)+r(A.uncompressedSize,4)})(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var m=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-m,A=(function(x,_,w,S,E){var C=o.transformTo("string",E(S));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(x,2)+r(x,2)+r(_,4)+r(w,4)+r(C.length,2)+C})(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(m){this._sources.push(m);var v=this;return m.on("data",function(y){v.processChunk(y)}),m.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),m.on("error",function(y){v.error(y)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(m){var v=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var y=0;y<v.length;y++)try{v[y].error(m)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,v=0;v<m.length;v++)m[v].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var r=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(o,l,h){var d=new s(l.streamFiles,h,l.platform,l.encodeFileName),p=0;try{o.forEach(function(g,m){p++;var v=(function(_,w){var S=_||w,E=r[S];if(!E)throw new Error(S+" is not a valid compression method !");return E})(m.options.compression,l.compression),y=m.options.compressionOptions||l.compressionOptions||{},A=m.dir,x=m.date;m._compressWorker(v,y).withStreamInfo("file",{name:g,dir:A,date:x,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=p}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new r;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(s,o){return new r().loadAsync(s,o)},r.external=t("./external"),n.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var r=t("./utils"),s=t("./external"),o=t("./utf8"),l=t("./zipEntries"),h=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function p(g){return new s.Promise(function(m,v){var y=g.decompressed.getContentWorker().pipe(new h);y.on("error",function(A){v(A)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(g,m){var v=this;return m=r.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",g,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new l(m);return A.load(y),A}).then(function(y){var A=[s.Promise.resolve(y)],x=y.files;if(m.checkCRC32)for(var _=0;_<x.length;_++)A.push(p(x[_]));return s.Promise.all(A)}).then(function(y){for(var A=y.shift(),x=A.files,_=0;_<x.length;_++){var w=x[_],S=w.fileNameStr,E=r.resolve(w.fileNameStr);v.file(E,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(v.file(E).unsafeOriginalName=S)}return A.zipComment.length&&(v.comment=A.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var r=t("../utils"),s=t("../stream/GenericWorker");function o(l,h){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(h)}r.inherits(o,s),o.prototype._bindStream=function(l){var h=this;(this._stream=l).pause(),l.on("data",function(d){h.push({data:d,meta:{percent:0}})}).on("error",function(d){h.isPaused?this.generatedError=d:h.error(d)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var r=t("readable-stream").Readable;function s(o,l,h){r.call(this,l),this._helper=o;var d=this;o.on("data",function(p,g){d.push(p)||d._helper.pause(),h&&h(g)}).on("error",function(p){d.emit("error",p)}).on("end",function(){d.push(null)})}t("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,s);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,s)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var s=new Buffer(r);return s.fill(0),s},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,n,i){function r(E,C,R){var N,F=o.getTypeOf(C),I=o.extend(R||{},d);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(E=x(E)),I.createFolders&&(N=A(E))&&_.call(this,N,!0);var q=F==="string"&&I.binary===!1&&I.base64===!1;R&&R.binary!==void 0||(I.binary=!q),(C instanceof p&&C.uncompressedSize===0||I.dir||!C||C.length===0)&&(I.base64=!1,I.binary=!0,C="",I.compression="STORE",F="string");var L=null;L=C instanceof p||C instanceof l?C:v.isNode&&v.isStream(C)?new y(E,C):o.prepareContent(E,C,I.binary,I.optimizedBinaryString,I.base64);var H=new g(E,L,I);this.files[E]=H}var s=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),d=t("./defaults"),p=t("./compressedObject"),g=t("./zipObject"),m=t("./generate"),v=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var C=E.lastIndexOf("/");return 0<C?E.substring(0,C):""},x=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},_=function(E,C){return C=C!==void 0?C:d.createFolders,E=x(E),this.files[E]||r.call(this,E,null,{dir:!0,createFolders:C}),this.files[E]};function w(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var C,R,N;for(C in this.files)N=this.files[C],(R=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&E(R,N)},filter:function(E){var C=[];return this.forEach(function(R,N){E(R,N)&&C.push(N)}),C},file:function(E,C,R){if(arguments.length!==1)return E=this.root+E,r.call(this,E,C,R),this;if(w(E)){var N=E;return this.filter(function(I,q){return!q.dir&&N.test(I)})}var F=this.files[this.root+E];return F&&!F.dir?F:null},folder:function(E){if(!E)return this;if(w(E))return this.filter(function(F,I){return I.dir&&E.test(F)});var C=this.root+E,R=_.call(this,C),N=this.clone();return N.root=R.name,N},remove:function(E){E=this.root+E;var C=this.files[E];if(C||(E.slice(-1)!=="/"&&(E+="/"),C=this.files[E]),C&&!C.dir)delete this.files[E];else for(var R=this.filter(function(F,I){return I.name.slice(0,E.length)===E}),N=0;N<R.length;N++)delete this.files[R[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var C,R={};try{if((R=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var N=R.comment||this.comment||"";C=m.generateWorker(this,R,N)}catch(F){(C=new l("error")).error(F)}return new h(C,R.type||"string",R.mimeType)},generateAsync:function(E,C){return this.generateInternalStream(E).accumulate(C)},generateNodeStream:function(E,C){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(C)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var r=t("./DataReader");function s(o){r.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(s,r),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),h=o.charCodeAt(1),d=o.charCodeAt(2),p=o.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===h&&this.data[g+2]===d&&this.data[g+3]===p)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),h=o.charCodeAt(1),d=o.charCodeAt(2),p=o.charCodeAt(3),g=this.readData(4);return l===g[0]&&h===g[1]&&d===g[2]&&p===g[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var r=t("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,h=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)h=(h<<8)+this.byteAt(l);return this.index+=o,h},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(t,n,i){var r=t("./Uint8ArrayReader");function s(o){r.call(this,o)}t("../utils").inherits(s,r),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var r=t("./DataReader");function s(o){r.call(this,o)}t("../utils").inherits(s,r),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var r=t("./ArrayReader");function s(o){r.call(this,o)}t("../utils").inherits(s,r),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var r=t("../utils"),s=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),h=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");n.exports=function(p){var g=r.getTypeOf(p);return r.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new h(p):s.uint8array?new d(r.transformTo("uint8array",p)):new o(r.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var r=t("./GenericWorker"),s=t("../utils");function o(l){r.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,r),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var r=t("./GenericWorker"),s=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var r=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(o,s),o.prototype.processChunk=function(l){if(l){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var r=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){h.dataIsReady=!0,h.data=d,h.max=d&&d.length||0,h.type=r.getTypeOf(d),h.isPaused||h._tickAndRepeat()},function(d){h.error(d)})}r.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,h);break;case"uint8array":l=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":l=this.data.slice(this.index,h)}return this.index=h,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function r(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=r},{}],29:[function(t,n,i){var r=t("../utils"),s=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),h=t("../support"),d=t("../external"),p=null;if(h.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,y){return new d.Promise(function(A,x){var _=[],w=v._internalType,S=v._outputType,E=v._mimeType;v.on("data",function(C,R){_.push(C),y&&y(R)}).on("error",function(C){_=[],x(C)}).on("end",function(){try{var C=(function(R,N,F){switch(R){case"blob":return r.newBlob(r.transformTo("arraybuffer",N),F);case"base64":return l.encode(N);default:return r.transformTo(R,N)}})(S,(function(R,N){var F,I=0,q=null,L=0;for(F=0;F<N.length;F++)L+=N[F].length;switch(R){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(q=new Uint8Array(L),F=0;F<N.length;F++)q.set(N[F],I),I+=N[F].length;return q;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+R+"'")}})(w,_),E);A(C)}catch(R){x(R)}_=[]}).resume()})}function m(v,y,A){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=A,r.checkSupport(x),this._worker=v.pipe(new s(x)),v.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}m.prototype={accumulate:function(v){return g(this,v)},on:function(v,y){var A=this;return v==="data"?this._worker.on(v,function(x){y.call(A,x.data,x.meta)}):this._worker.on(v,function(){r.delay(y,arguments,A)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var r=t("./utils"),s=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),h=new Array(256),d=0;d<256;d++)h[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;h[254]=h[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?o.newBufferFrom(m,"utf-8"):(function(v){var y,A,x,_,w,S=v.length,E=0;for(_=0;_<S;_++)(64512&(A=v.charCodeAt(_)))==55296&&_+1<S&&(64512&(x=v.charCodeAt(_+1)))==56320&&(A=65536+(A-55296<<10)+(x-56320),_++),E+=A<128?1:A<2048?2:A<65536?3:4;for(y=s.uint8array?new Uint8Array(E):new Array(E),_=w=0;w<E;_++)(64512&(A=v.charCodeAt(_)))==55296&&_+1<S&&(64512&(x=v.charCodeAt(_+1)))==56320&&(A=65536+(A-55296<<10)+(x-56320),_++),A<128?y[w++]=A:(A<2048?y[w++]=192|A>>>6:(A<65536?y[w++]=224|A>>>12:(y[w++]=240|A>>>18,y[w++]=128|A>>>12&63),y[w++]=128|A>>>6&63),y[w++]=128|63&A);return y})(m)},i.utf8decode=function(m){return s.nodebuffer?r.transformTo("nodebuffer",m).toString("utf-8"):(function(v){var y,A,x,_,w=v.length,S=new Array(2*w);for(y=A=0;y<w;)if((x=v[y++])<128)S[A++]=x;else if(4<(_=h[x]))S[A++]=65533,y+=_-1;else{for(x&=_===2?31:_===3?15:7;1<_&&y<w;)x=x<<6|63&v[y++],_--;1<_?S[A++]=65533:x<65536?S[A++]=x:(x-=65536,S[A++]=55296|x>>10&1023,S[A++]=56320|1023&x)}return S.length!==A&&(S.subarray?S=S.subarray(0,A):S.length=A),r.applyFromCharCode(S)})(m=r.transformTo(s.uint8array?"uint8array":"array",m))},r.inherits(p,l),p.prototype.processChunk=function(m){var v=r.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var A=(function(_,w){var S;for((w=w||_.length)>_.length&&(w=_.length),S=w-1;0<=S&&(192&_[S])==128;)S--;return S<0||S===0?w:S+h[_[S]]>w?S:w})(v),x=v;A!==v.length&&(s.uint8array?(x=v.subarray(0,A),this.leftOver=v.subarray(A,v.length)):(x=v.slice(0,A),this.leftOver=v.slice(A,v.length))),this.push({data:i.utf8decode(x),meta:m.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,r.inherits(g,l),g.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var r=t("./support"),s=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function h(y){return y}function d(y,A){for(var x=0;x<y.length;++x)A[x]=255&y.charCodeAt(x);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(y,A,x){var _=[],w=0,S=y.length;if(S<=x)return String.fromCharCode.apply(null,y);for(;w<S;)A==="array"||A==="nodebuffer"?_.push(String.fromCharCode.apply(null,y.slice(w,Math.min(w+x,S)))):_.push(String.fromCharCode.apply(null,y.subarray(w,Math.min(w+x,S)))),w+=x;return _.join("")},stringifyByChar:function(y){for(var A="",x=0;x<y.length;x++)A+=String.fromCharCode(y[x]);return A},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function g(y){var A=65536,x=i.getTypeOf(y),_=!0;if(x==="uint8array"?_=p.applyCanBeUsed.uint8array:x==="nodebuffer"&&(_=p.applyCanBeUsed.nodebuffer),_)for(;1<A;)try{return p.stringifyByChunk(y,x,A)}catch{A=Math.floor(A/2)}return p.stringifyByChar(y)}function m(y,A){for(var x=0;x<y.length;x++)A[x]=y[x];return A}i.applyFromCharCode=g;var v={};v.string={string:h,array:function(y){return d(y,new Array(y.length))},arraybuffer:function(y){return v.string.uint8array(y).buffer},uint8array:function(y){return d(y,new Uint8Array(y.length))},nodebuffer:function(y){return d(y,o.allocBuffer(y.length))}},v.array={string:g,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},v.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},v.uint8array={string:g,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return o.newBufferFrom(y)}},v.nodebuffer={string:g,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return v.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:h},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var x=i.getTypeOf(A);return v[x][y](A)},i.resolve=function(y){for(var A=y.split("/"),x=[],_=0;_<A.length;_++){var w=A[_];w==="."||w===""&&_!==0&&_!==A.length-1||(w===".."?x.pop():x.push(w))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(y)?"nodebuffer":r.uint8array&&y instanceof Uint8Array?"uint8array":r.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!r[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,x,_="";for(x=0;x<(y||"").length;x++)_+="\\x"+((A=y.charCodeAt(x))<16?"0":"")+A.toString(16).toUpperCase();return _},i.delay=function(y,A,x){setImmediate(function(){y.apply(x||null,A||[])})},i.inherits=function(y,A){function x(){}x.prototype=A.prototype,y.prototype=new x},i.extend=function(){var y,A,x={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&x[A]===void 0&&(x[A]=arguments[y][A]);return x},i.prepareContent=function(y,A,x,_,w){return l.Promise.resolve(A).then(function(S){return r.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,C){var R=new FileReader;R.onload=function(N){E(N.target.result)},R.onerror=function(N){C(N.target.error)},R.readAsArrayBuffer(S)}):S}).then(function(S){var E=i.getTypeOf(S);return E?(E==="arraybuffer"?S=i.transformTo("uint8array",S):E==="string"&&(w?S=s.decode(S):x&&_!==!0&&(S=(function(C){return d(C,r.uint8array?new Uint8Array(C.length):new Array(C.length))})(S))),S):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var r=t("./reader/readerFor"),s=t("./utils"),o=t("./signature"),l=t("./zipEntry"),h=t("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(p)+")")}},isSignature:function(p,g){var m=this.reader.index;this.reader.setIndex(p);var v=this.reader.readString(4)===g;return this.reader.setIndex(m),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",m=s.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,m,v=this.zip64EndOfCentralSize-44;0<v;)p=this.reader.readInt(2),g=this.reader.readInt(4),m=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var v=g-m;if(0<v)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(p){this.reader=r(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var r=t("./reader/readerFor"),s=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),h=t("./utf8"),d=t("./compressions"),p=t("./support");function g(m,v){this.options=m,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var v,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(A){for(var x in d)if(Object.prototype.hasOwnProperty.call(d,x)&&d[x].magic===A)return d[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var v=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(v),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var v,y,A,x=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<x;)v=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[v]={id:v,length:y,value:A};m.setIndex(x)},handleUTF8:function(){var m=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var x=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var v=r(m.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:h.utf8decode(v.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var v=r(m.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:h.utf8decode(v.readData(m.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function r(v,y,A){this.name=v,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var s=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),h=t("./compressedObject"),d=t("./stream/GenericWorker");r.prototype={internalStream:function(v){var y=null,A="string";try{if(!v)throw new Error("No output type specified.");var x=(A=v.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var _=!this._dataBinary;_&&!x&&(y=y.pipe(new l.Utf8EncodeWorker)),!_&&x&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(w){(y=new d("error")).error(w)}return new s(y,A,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof h&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new l.Utf8EncodeWorker)),h.createWorkerFrom(A,v,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<p.length;m++)r.prototype[p[m]]=g;n.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(r){var s,o,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var h=0,d=new l(v),p=r.document.createTextNode("");d.observe(p,{characterData:!0}),s=function(){p.data=h=++h%2}}else if(r.setImmediate||r.MessageChannel===void 0)s="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var y=r.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},r.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var g=new r.MessageChannel;g.port1.onmessage=v,s=function(){g.port2.postMessage(0)}}var m=[];function v(){var y,A;o=!0;for(var x=m.length;x;){for(A=m,m=[],y=-1;++y<x;)A[y]();x=m.length}o=!1}n.exports=function(y){m.push(y)!==1||o||s()}}).call(this,typeof Es<"u"?Es:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var r=t("immediate");function s(){}var o={},l=["REJECTED"],h=["FULFILLED"],d=["PENDING"];function p(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function g(x,_,w){this.promise=x,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(x,_,w){r(function(){var S;try{S=_(w)}catch(E){return o.reject(x,E)}S===x?o.reject(x,new TypeError("Cannot resolve promise with itself")):o.resolve(x,S)})}function v(x){var _=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof _=="function")return function(){_.apply(x,arguments)}}function y(x,_){var w=!1;function S(R){w||(w=!0,o.reject(x,R))}function E(R){w||(w=!0,o.resolve(x,R))}var C=A(function(){_(E,S)});C.status==="error"&&S(C.value)}function A(x,_){var w={};try{w.value=x(_),w.status="success"}catch(S){w.status="error",w.value=S}return w}(n.exports=p).prototype.finally=function(x){if(typeof x!="function")return this;var _=this.constructor;return this.then(function(w){return _.resolve(x()).then(function(){return w})},function(w){return _.resolve(x()).then(function(){throw w})})},p.prototype.catch=function(x){return this.then(null,x)},p.prototype.then=function(x,_){if(typeof x!="function"&&this.state===h||typeof _!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==d?m(w,this.state===h?x:_,this.outcome):this.queue.push(new g(w,x,_)),w},g.prototype.callFulfilled=function(x){o.resolve(this.promise,x)},g.prototype.otherCallFulfilled=function(x){m(this.promise,this.onFulfilled,x)},g.prototype.callRejected=function(x){o.reject(this.promise,x)},g.prototype.otherCallRejected=function(x){m(this.promise,this.onRejected,x)},o.resolve=function(x,_){var w=A(v,_);if(w.status==="error")return o.reject(x,w.value);var S=w.value;if(S)y(x,S);else{x.state=h,x.outcome=_;for(var E=-1,C=x.queue.length;++E<C;)x.queue[E].callFulfilled(_)}return x},o.reject=function(x,_){x.state=l,x.outcome=_;for(var w=-1,S=x.queue.length;++w<S;)x.queue[w].callRejected(_);return x},p.resolve=function(x){return x instanceof this?x:o.resolve(new this(s),x)},p.reject=function(x){var _=new this(s);return o.reject(_,x)},p.all=function(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,S=!1;if(!w)return this.resolve([]);for(var E=new Array(w),C=0,R=-1,N=new this(s);++R<w;)F(x[R],R);return N;function F(I,q){_.resolve(I).then(function(L){E[q]=L,++C!==w||S||(S=!0,o.resolve(N,E))},function(L){S||(S=!0,o.reject(N,L))})}},p.race=function(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,S=!1;if(!w)return this.resolve([]);for(var E=-1,C=new this(s);++E<w;)R=x[E],_.resolve(R).then(function(N){S||(S=!0,o.resolve(C,N))},function(N){S||(S=!0,o.reject(C,N))});var R;return C}},{immediate:36}],38:[function(t,n,i){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var r=t("./zlib/deflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),h=t("./zlib/zstream"),d=Object.prototype.toString,p=0,g=-1,m=0,v=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},x||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=r.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(w!==p)throw new Error(l[w]);if(_.header&&r.deflateSetHeader(this.strm,_.header),_.dictionary){var S;if(S=typeof _.dictionary=="string"?o.string2buf(_.dictionary):d.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(w=r.deflateSetDictionary(this.strm,S))!==p)throw new Error(l[w]);this._dict_set=!0}}function A(x,_){var w=new y(_);if(w.push(x,!0),w.err)throw w.msg||l[w.err];return w.result}y.prototype.push=function(x,_){var w,S,E=this.strm,C=this.options.chunkSize;if(this.ended)return!1;S=_===~~_?_:_===!0?4:0,typeof x=="string"?E.input=o.string2buf(x):d.call(x)==="[object ArrayBuffer]"?E.input=new Uint8Array(x):E.input=x,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(C),E.next_out=0,E.avail_out=C),(w=r.deflate(E,S))!==1&&w!==p)return this.onEnd(w),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&w!==1);return S===4?(w=r.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===p):S!==2||(this.onEnd(p),!(E.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(x,_){return(_=_||{}).raw=!0,A(x,_)},i.gzip=function(x,_){return(_=_||{}).gzip=!0,A(x,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var r=t("./zlib/inflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),h=t("./zlib/messages"),d=t("./zlib/zstream"),p=t("./zlib/gzheader"),g=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=r.inflateInit2(this.strm,A.windowBits);if(x!==l.Z_OK)throw new Error(h[x]);this.header=new p,r.inflateGetHeader(this.strm,this.header)}function v(y,A){var x=new m(A);if(x.push(y,!0),x.err)throw x.msg||h[x.err];return x.result}m.prototype.push=function(y,A){var x,_,w,S,E,C,R=this.strm,N=this.options.chunkSize,F=this.options.dictionary,I=!1;if(this.ended)return!1;_=A===~~A?A:A===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?R.input=o.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?R.input=new Uint8Array(y):R.input=y,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(N),R.next_out=0,R.avail_out=N),(x=r.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&F&&(C=typeof F=="string"?o.string2buf(F):g.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,x=r.inflateSetDictionary(this.strm,C)),x===l.Z_BUF_ERROR&&I===!0&&(x=l.Z_OK,I=!1),x!==l.Z_STREAM_END&&x!==l.Z_OK)return this.onEnd(x),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&x!==l.Z_STREAM_END&&(R.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(R.output,R.next_out),S=R.next_out-w,E=o.buf2string(R.output,w),R.next_out=S,R.avail_out=N-S,S&&s.arraySet(R.output,R.output,w,S,0),this.onData(E)):this.onData(s.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(I=!0)}while((0<R.avail_in||R.avail_out===0)&&x!==l.Z_STREAM_END);return x===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(x=r.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=v,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,v(y,A)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var d=h.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])}}return l},i.shrinkBuf=function(l,h){return l.length===h?l:l.subarray?l.subarray(0,h):(l.length=h,l)};var s={arraySet:function(l,h,d,p,g){if(h.subarray&&l.subarray)l.set(h.subarray(d,d+p),g);else for(var m=0;m<p;m++)l[g+m]=h[d+m]},flattenChunks:function(l){var h,d,p,g,m,v;for(h=p=0,d=l.length;h<d;h++)p+=l[h].length;for(v=new Uint8Array(p),h=g=0,d=l.length;h<d;h++)m=l[h],v.set(m,g),g+=m.length;return v}},o={arraySet:function(l,h,d,p,g){for(var m=0;m<p;m++)l[g+m]=h[d+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(r)},{}],42:[function(t,n,i){var r=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new r.Buf8(256),h=0;h<256;h++)l[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function d(p,g){if(g<65537&&(p.subarray&&o||!p.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(p,g));for(var m="",v=0;v<g;v++)m+=String.fromCharCode(p[v]);return m}l[254]=l[254]=1,i.string2buf=function(p){var g,m,v,y,A,x=p.length,_=0;for(y=0;y<x;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),_+=m<128?1:m<2048?2:m<65536?3:4;for(g=new r.Buf8(_),y=A=0;A<_;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),y++),m<128?g[A++]=m:(m<2048?g[A++]=192|m>>>6:(m<65536?g[A++]=224|m>>>12:(g[A++]=240|m>>>18,g[A++]=128|m>>>12&63),g[A++]=128|m>>>6&63),g[A++]=128|63&m);return g},i.buf2binstring=function(p){return d(p,p.length)},i.binstring2buf=function(p){for(var g=new r.Buf8(p.length),m=0,v=g.length;m<v;m++)g[m]=p.charCodeAt(m);return g},i.buf2string=function(p,g){var m,v,y,A,x=g||p.length,_=new Array(2*x);for(m=v=0;m<x;)if((y=p[m++])<128)_[v++]=y;else if(4<(A=l[y]))_[v++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<x;)y=y<<6|63&p[m++],A--;1<A?_[v++]=65533:y<65536?_[v++]=y:(y-=65536,_[v++]=55296|y>>10&1023,_[v++]=56320|1023&y)}return d(_,v)},i.utf8border=function(p,g){var m;for((g=g||p.length)>p.length&&(g=p.length),m=g-1;0<=m&&(192&p[m])==128;)m--;return m<0||m===0?g:m+l[p[m]]>g?m:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(r,s,o,l){for(var h=65535&r|0,d=r>>>16&65535|0,p=0;o!==0;){for(o-=p=2e3<o?2e3:o;d=d+(h=h+s[l++]|0)|0,--p;);h%=65521,d%=65521}return h|d<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var r=(function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var h=0;h<8;h++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o})();n.exports=function(s,o,l,h){var d=r,p=h+l;s^=-1;for(var g=h;g<p;g++)s=s>>>8^d[255&(s^o[g])];return-1^s}},{}],46:[function(t,n,i){var r,s=t("../utils/common"),o=t("./trees"),l=t("./adler32"),h=t("./crc32"),d=t("./messages"),p=0,g=4,m=0,v=-2,y=-1,A=4,x=2,_=8,w=9,S=286,E=30,C=19,R=2*S+1,N=15,F=3,I=258,q=I+F+1,L=42,H=113,k=1,Z=2,M=3,O=4;function K(U,ae){return U.msg=d[ae],ae}function Q(U){return(U<<1)-(4<U?9:0)}function z(U){for(var ae=U.length;0<=--ae;)U[ae]=0}function P(U){var ae=U.state,ee=ae.pending;ee>U.avail_out&&(ee=U.avail_out),ee!==0&&(s.arraySet(U.output,ae.pending_buf,ae.pending_out,ee,U.next_out),U.next_out+=ee,ae.pending_out+=ee,U.total_out+=ee,U.avail_out-=ee,ae.pending-=ee,ae.pending===0&&(ae.pending_out=0))}function V(U,ae){o._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,ae),U.block_start=U.strstart,P(U.strm)}function $(U,ae){U.pending_buf[U.pending++]=ae}function se(U,ae){U.pending_buf[U.pending++]=ae>>>8&255,U.pending_buf[U.pending++]=255&ae}function le(U,ae){var ee,Y,X=U.max_chain_length,ie=U.strstart,De=U.prev_length,_e=U.nice_match,oe=U.strstart>U.w_size-q?U.strstart-(U.w_size-q):0,J=U.window,re=U.w_mask,ue=U.prev,Ae=U.strstart+I,Re=J[ie+De-1],Ne=J[ie+De];U.prev_length>=U.good_match&&(X>>=2),_e>U.lookahead&&(_e=U.lookahead);do if(J[(ee=ae)+De]===Ne&&J[ee+De-1]===Re&&J[ee]===J[ie]&&J[++ee]===J[ie+1]){ie+=2,ee++;do;while(J[++ie]===J[++ee]&&J[++ie]===J[++ee]&&J[++ie]===J[++ee]&&J[++ie]===J[++ee]&&J[++ie]===J[++ee]&&J[++ie]===J[++ee]&&J[++ie]===J[++ee]&&J[++ie]===J[++ee]&&ie<Ae);if(Y=I-(Ae-ie),ie=Ae-I,De<Y){if(U.match_start=ae,_e<=(De=Y))break;Re=J[ie+De-1],Ne=J[ie+De]}}while((ae=ue[ae&re])>oe&&--X!=0);return De<=U.lookahead?De:U.lookahead}function ye(U){var ae,ee,Y,X,ie,De,_e,oe,J,re,ue=U.w_size;do{if(X=U.window_size-U.lookahead-U.strstart,U.strstart>=ue+(ue-q)){for(s.arraySet(U.window,U.window,ue,ue,0),U.match_start-=ue,U.strstart-=ue,U.block_start-=ue,ae=ee=U.hash_size;Y=U.head[--ae],U.head[ae]=ue<=Y?Y-ue:0,--ee;);for(ae=ee=ue;Y=U.prev[--ae],U.prev[ae]=ue<=Y?Y-ue:0,--ee;);X+=ue}if(U.strm.avail_in===0)break;if(De=U.strm,_e=U.window,oe=U.strstart+U.lookahead,J=X,re=void 0,re=De.avail_in,J<re&&(re=J),ee=re===0?0:(De.avail_in-=re,s.arraySet(_e,De.input,De.next_in,re,oe),De.state.wrap===1?De.adler=l(De.adler,_e,re,oe):De.state.wrap===2&&(De.adler=h(De.adler,_e,re,oe)),De.next_in+=re,De.total_in+=re,re),U.lookahead+=ee,U.lookahead+U.insert>=F)for(ie=U.strstart-U.insert,U.ins_h=U.window[ie],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ie+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ie+F-1])&U.hash_mask,U.prev[ie&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ie,ie++,U.insert--,!(U.lookahead+U.insert<F)););}while(U.lookahead<q&&U.strm.avail_in!==0)}function ve(U,ae){for(var ee,Y;;){if(U.lookahead<q){if(ye(U),U.lookahead<q&&ae===p)return k;if(U.lookahead===0)break}if(ee=0,U.lookahead>=F&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),ee!==0&&U.strstart-ee<=U.w_size-q&&(U.match_length=le(U,ee)),U.match_length>=F)if(Y=o._tr_tally(U,U.strstart-U.match_start,U.match_length-F),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=F){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else Y=o._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(Y&&(V(U,!1),U.strm.avail_out===0))return k}return U.insert=U.strstart<F-1?U.strstart:F-1,ae===g?(V(U,!0),U.strm.avail_out===0?M:O):U.last_lit&&(V(U,!1),U.strm.avail_out===0)?k:Z}function Ee(U,ae){for(var ee,Y,X;;){if(U.lookahead<q){if(ye(U),U.lookahead<q&&ae===p)return k;if(U.lookahead===0)break}if(ee=0,U.lookahead>=F&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=F-1,ee!==0&&U.prev_length<U.max_lazy_match&&U.strstart-ee<=U.w_size-q&&(U.match_length=le(U,ee),U.match_length<=5&&(U.strategy===1||U.match_length===F&&4096<U.strstart-U.match_start)&&(U.match_length=F-1)),U.prev_length>=F&&U.match_length<=U.prev_length){for(X=U.strstart+U.lookahead-F,Y=o._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-F),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=X&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ee=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=F-1,U.strstart++,Y&&(V(U,!1),U.strm.avail_out===0))return k}else if(U.match_available){if((Y=o._tr_tally(U,0,U.window[U.strstart-1]))&&V(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return k}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(Y=o._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<F-1?U.strstart:F-1,ae===g?(V(U,!0),U.strm.avail_out===0?M:O):U.last_lit&&(V(U,!1),U.strm.avail_out===0)?k:Z}function Fe(U,ae,ee,Y,X){this.good_length=U,this.max_lazy=ae,this.nice_length=ee,this.max_chain=Y,this.func=X}function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*R),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*C+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(N+1),this.heap=new s.Buf16(2*S+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(U){var ae;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=x,(ae=U.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?L:H,U.adler=ae.wrap===2?0:1,ae.last_flush=p,o._tr_init(ae),m):K(U,v)}function Ve(U){var ae=Oe(U);return ae===m&&(function(ee){ee.window_size=2*ee.w_size,z(ee.head),ee.max_lazy_match=r[ee.level].max_lazy,ee.good_match=r[ee.level].good_length,ee.nice_match=r[ee.level].nice_length,ee.max_chain_length=r[ee.level].max_chain,ee.strstart=0,ee.block_start=0,ee.lookahead=0,ee.insert=0,ee.match_length=ee.prev_length=F-1,ee.match_available=0,ee.ins_h=0})(U.state),ae}function Be(U,ae,ee,Y,X,ie){if(!U)return v;var De=1;if(ae===y&&(ae=6),Y<0?(De=0,Y=-Y):15<Y&&(De=2,Y-=16),X<1||w<X||ee!==_||Y<8||15<Y||ae<0||9<ae||ie<0||A<ie)return K(U,v);Y===8&&(Y=9);var _e=new Ue;return(U.state=_e).strm=U,_e.wrap=De,_e.gzhead=null,_e.w_bits=Y,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=X+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+F-1)/F),_e.window=new s.Buf8(2*_e.w_size),_e.head=new s.Buf16(_e.hash_size),_e.prev=new s.Buf16(_e.w_size),_e.lit_bufsize=1<<X+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new s.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=ae,_e.strategy=ie,_e.method=ee,Ve(U)}r=[new Fe(0,0,0,0,function(U,ae){var ee=65535;for(ee>U.pending_buf_size-5&&(ee=U.pending_buf_size-5);;){if(U.lookahead<=1){if(ye(U),U.lookahead===0&&ae===p)return k;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var Y=U.block_start+ee;if((U.strstart===0||U.strstart>=Y)&&(U.lookahead=U.strstart-Y,U.strstart=Y,V(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-q&&(V(U,!1),U.strm.avail_out===0))return k}return U.insert=0,ae===g?(V(U,!0),U.strm.avail_out===0?M:O):(U.strstart>U.block_start&&(V(U,!1),U.strm.avail_out),k)}),new Fe(4,4,8,4,ve),new Fe(4,5,16,8,ve),new Fe(4,6,32,32,ve),new Fe(4,4,16,16,Ee),new Fe(8,16,32,32,Ee),new Fe(8,16,128,128,Ee),new Fe(8,32,128,256,Ee),new Fe(32,128,258,1024,Ee),new Fe(32,258,258,4096,Ee)],i.deflateInit=function(U,ae){return Be(U,ae,_,15,8,0)},i.deflateInit2=Be,i.deflateReset=Ve,i.deflateResetKeep=Oe,i.deflateSetHeader=function(U,ae){return U&&U.state?U.state.wrap!==2?v:(U.state.gzhead=ae,m):v},i.deflate=function(U,ae){var ee,Y,X,ie;if(!U||!U.state||5<ae||ae<0)return U?K(U,v):v;if(Y=U.state,!U.output||!U.input&&U.avail_in!==0||Y.status===666&&ae!==g)return K(U,U.avail_out===0?-5:v);if(Y.strm=U,ee=Y.last_flush,Y.last_flush=ae,Y.status===L)if(Y.wrap===2)U.adler=0,$(Y,31),$(Y,139),$(Y,8),Y.gzhead?($(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),$(Y,255&Y.gzhead.time),$(Y,Y.gzhead.time>>8&255),$(Y,Y.gzhead.time>>16&255),$(Y,Y.gzhead.time>>24&255),$(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),$(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&($(Y,255&Y.gzhead.extra.length),$(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(U.adler=h(U.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):($(Y,0),$(Y,0),$(Y,0),$(Y,0),$(Y,0),$(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),$(Y,3),Y.status=H);else{var De=_+(Y.w_bits-8<<4)<<8;De|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(De|=32),De+=31-De%31,Y.status=H,se(Y,De),Y.strstart!==0&&(se(Y,U.adler>>>16),se(Y,65535&U.adler)),U.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(X=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>X&&(U.adler=h(U.adler,Y.pending_buf,Y.pending-X,X)),P(U),X=Y.pending,Y.pending!==Y.pending_buf_size));)$(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>X&&(U.adler=h(U.adler,Y.pending_buf,Y.pending-X,X)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){X=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>X&&(U.adler=h(U.adler,Y.pending_buf,Y.pending-X,X)),P(U),X=Y.pending,Y.pending===Y.pending_buf_size)){ie=1;break}ie=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,$(Y,ie)}while(ie!==0);Y.gzhead.hcrc&&Y.pending>X&&(U.adler=h(U.adler,Y.pending_buf,Y.pending-X,X)),ie===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){X=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>X&&(U.adler=h(U.adler,Y.pending_buf,Y.pending-X,X)),P(U),X=Y.pending,Y.pending===Y.pending_buf_size)){ie=1;break}ie=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,$(Y,ie)}while(ie!==0);Y.gzhead.hcrc&&Y.pending>X&&(U.adler=h(U.adler,Y.pending_buf,Y.pending-X,X)),ie===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&P(U),Y.pending+2<=Y.pending_buf_size&&($(Y,255&U.adler),$(Y,U.adler>>8&255),U.adler=0,Y.status=H)):Y.status=H),Y.pending!==0){if(P(U),U.avail_out===0)return Y.last_flush=-1,m}else if(U.avail_in===0&&Q(ae)<=Q(ee)&&ae!==g)return K(U,-5);if(Y.status===666&&U.avail_in!==0)return K(U,-5);if(U.avail_in!==0||Y.lookahead!==0||ae!==p&&Y.status!==666){var _e=Y.strategy===2?(function(oe,J){for(var re;;){if(oe.lookahead===0&&(ye(oe),oe.lookahead===0)){if(J===p)return k;break}if(oe.match_length=0,re=o._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,re&&(V(oe,!1),oe.strm.avail_out===0))return k}return oe.insert=0,J===g?(V(oe,!0),oe.strm.avail_out===0?M:O):oe.last_lit&&(V(oe,!1),oe.strm.avail_out===0)?k:Z})(Y,ae):Y.strategy===3?(function(oe,J){for(var re,ue,Ae,Re,Ne=oe.window;;){if(oe.lookahead<=I){if(ye(oe),oe.lookahead<=I&&J===p)return k;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=F&&0<oe.strstart&&(ue=Ne[Ae=oe.strstart-1])===Ne[++Ae]&&ue===Ne[++Ae]&&ue===Ne[++Ae]){Re=oe.strstart+I;do;while(ue===Ne[++Ae]&&ue===Ne[++Ae]&&ue===Ne[++Ae]&&ue===Ne[++Ae]&&ue===Ne[++Ae]&&ue===Ne[++Ae]&&ue===Ne[++Ae]&&ue===Ne[++Ae]&&Ae<Re);oe.match_length=I-(Re-Ae),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=F?(re=o._tr_tally(oe,1,oe.match_length-F),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(re=o._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),re&&(V(oe,!1),oe.strm.avail_out===0))return k}return oe.insert=0,J===g?(V(oe,!0),oe.strm.avail_out===0?M:O):oe.last_lit&&(V(oe,!1),oe.strm.avail_out===0)?k:Z})(Y,ae):r[Y.level].func(Y,ae);if(_e!==M&&_e!==O||(Y.status=666),_e===k||_e===M)return U.avail_out===0&&(Y.last_flush=-1),m;if(_e===Z&&(ae===1?o._tr_align(Y):ae!==5&&(o._tr_stored_block(Y,0,0,!1),ae===3&&(z(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),P(U),U.avail_out===0))return Y.last_flush=-1,m}return ae!==g?m:Y.wrap<=0?1:(Y.wrap===2?($(Y,255&U.adler),$(Y,U.adler>>8&255),$(Y,U.adler>>16&255),$(Y,U.adler>>24&255),$(Y,255&U.total_in),$(Y,U.total_in>>8&255),$(Y,U.total_in>>16&255),$(Y,U.total_in>>24&255)):(se(Y,U.adler>>>16),se(Y,65535&U.adler)),P(U),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?m:1)},i.deflateEnd=function(U){var ae;return U&&U.state?(ae=U.state.status)!==L&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==H&&ae!==666?K(U,v):(U.state=null,ae===H?K(U,-3):m):v},i.deflateSetDictionary=function(U,ae){var ee,Y,X,ie,De,_e,oe,J,re=ae.length;if(!U||!U.state||(ie=(ee=U.state).wrap)===2||ie===1&&ee.status!==L||ee.lookahead)return v;for(ie===1&&(U.adler=l(U.adler,ae,re,0)),ee.wrap=0,re>=ee.w_size&&(ie===0&&(z(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),J=new s.Buf8(ee.w_size),s.arraySet(J,ae,re-ee.w_size,ee.w_size,0),ae=J,re=ee.w_size),De=U.avail_in,_e=U.next_in,oe=U.input,U.avail_in=re,U.next_in=0,U.input=ae,ye(ee);ee.lookahead>=F;){for(Y=ee.strstart,X=ee.lookahead-(F-1);ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[Y+F-1])&ee.hash_mask,ee.prev[Y&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=Y,Y++,--X;);ee.strstart=Y,ee.lookahead=F-1,ye(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=F-1,ee.match_available=0,U.next_in=_e,U.input=oe,U.avail_in=De,ee.wrap=ie,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(r,s){var o,l,h,d,p,g,m,v,y,A,x,_,w,S,E,C,R,N,F,I,q,L,H,k,Z;o=r.state,l=r.next_in,k=r.input,h=l+(r.avail_in-5),d=r.next_out,Z=r.output,p=d-(s-r.avail_out),g=d+(r.avail_out-257),m=o.dmax,v=o.wsize,y=o.whave,A=o.wnext,x=o.window,_=o.hold,w=o.bits,S=o.lencode,E=o.distcode,C=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{w<15&&(_+=k[l++]<<w,w+=8,_+=k[l++]<<w,w+=8),N=S[_&C];t:for(;;){if(_>>>=F=N>>>24,w-=F,(F=N>>>16&255)===0)Z[d++]=65535&N;else{if(!(16&F)){if((64&F)==0){N=S[(65535&N)+(_&(1<<F)-1)];continue t}if(32&F){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}I=65535&N,(F&=15)&&(w<F&&(_+=k[l++]<<w,w+=8),I+=_&(1<<F)-1,_>>>=F,w-=F),w<15&&(_+=k[l++]<<w,w+=8,_+=k[l++]<<w,w+=8),N=E[_&R];n:for(;;){if(_>>>=F=N>>>24,w-=F,!(16&(F=N>>>16&255))){if((64&F)==0){N=E[(65535&N)+(_&(1<<F)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(q=65535&N,w<(F&=15)&&(_+=k[l++]<<w,(w+=8)<F&&(_+=k[l++]<<w,w+=8)),m<(q+=_&(1<<F)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=F,w-=F,(F=d-p)<q){if(y<(F=q-F)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(H=x,(L=0)===A){if(L+=v-F,F<I){for(I-=F;Z[d++]=x[L++],--F;);L=d-q,H=Z}}else if(A<F){if(L+=v+A-F,(F-=A)<I){for(I-=F;Z[d++]=x[L++],--F;);if(L=0,A<I){for(I-=F=A;Z[d++]=x[L++],--F;);L=d-q,H=Z}}}else if(L+=A-F,F<I){for(I-=F;Z[d++]=x[L++],--F;);L=d-q,H=Z}for(;2<I;)Z[d++]=H[L++],Z[d++]=H[L++],Z[d++]=H[L++],I-=3;I&&(Z[d++]=H[L++],1<I&&(Z[d++]=H[L++]))}else{for(L=d-q;Z[d++]=Z[L++],Z[d++]=Z[L++],Z[d++]=Z[L++],2<(I-=3););I&&(Z[d++]=Z[L++],1<I&&(Z[d++]=Z[L++]))}break}}break}}while(l<h&&d<g);l-=I=w>>3,_&=(1<<(w-=I<<3))-1,r.next_in=l,r.next_out=d,r.avail_in=l<h?h-l+5:5-(l-h),r.avail_out=d<g?g-d+257:257-(d-g),o.hold=_,o.bits=w}},{}],49:[function(t,n,i){var r=t("../utils/common"),s=t("./adler32"),o=t("./crc32"),l=t("./inffast"),h=t("./inftrees"),d=1,p=2,g=0,m=-2,v=1,y=852,A=592;function x(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(L){var H;return L&&L.state?(H=L.state,L.total_in=L.total_out=H.total=0,L.msg="",H.wrap&&(L.adler=1&H.wrap),H.mode=v,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new r.Buf32(y),H.distcode=H.distdyn=new r.Buf32(A),H.sane=1,H.back=-1,g):m}function S(L){var H;return L&&L.state?((H=L.state).wsize=0,H.whave=0,H.wnext=0,w(L)):m}function E(L,H){var k,Z;return L&&L.state?(Z=L.state,H<0?(k=0,H=-H):(k=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?m:(Z.window!==null&&Z.wbits!==H&&(Z.window=null),Z.wrap=k,Z.wbits=H,S(L))):m}function C(L,H){var k,Z;return L?(Z=new _,(L.state=Z).window=null,(k=E(L,H))!==g&&(L.state=null),k):m}var R,N,F=!0;function I(L){if(F){var H;for(R=new r.Buf32(512),N=new r.Buf32(32),H=0;H<144;)L.lens[H++]=8;for(;H<256;)L.lens[H++]=9;for(;H<280;)L.lens[H++]=7;for(;H<288;)L.lens[H++]=8;for(h(d,L.lens,0,288,R,0,L.work,{bits:9}),H=0;H<32;)L.lens[H++]=5;h(p,L.lens,0,32,N,0,L.work,{bits:5}),F=!1}L.lencode=R,L.lenbits=9,L.distcode=N,L.distbits=5}function q(L,H,k,Z){var M,O=L.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new r.Buf8(O.wsize)),Z>=O.wsize?(r.arraySet(O.window,H,k-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(Z<(M=O.wsize-O.wnext)&&(M=Z),r.arraySet(O.window,H,k-Z,M,O.wnext),(Z-=M)?(r.arraySet(O.window,H,k-Z,Z,0),O.wnext=Z,O.whave=O.wsize):(O.wnext+=M,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=M))),0}i.inflateReset=S,i.inflateReset2=E,i.inflateResetKeep=w,i.inflateInit=function(L){return C(L,15)},i.inflateInit2=C,i.inflate=function(L,H){var k,Z,M,O,K,Q,z,P,V,$,se,le,ye,ve,Ee,Fe,Ue,Oe,Ve,Be,U,ae,ee,Y,X=0,ie=new r.Buf8(4),De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return m;(k=L.state).mode===12&&(k.mode=13),K=L.next_out,M=L.output,z=L.avail_out,O=L.next_in,Z=L.input,Q=L.avail_in,P=k.hold,V=k.bits,$=Q,se=z,ae=g;e:for(;;)switch(k.mode){case v:if(k.wrap===0){k.mode=13;break}for(;V<16;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(2&k.wrap&&P===35615){ie[k.check=0]=255&P,ie[1]=P>>>8&255,k.check=o(k.check,ie,2,0),V=P=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&P)<<8)+(P>>8))%31){L.msg="incorrect header check",k.mode=30;break}if((15&P)!=8){L.msg="unknown compression method",k.mode=30;break}if(V-=4,U=8+(15&(P>>>=4)),k.wbits===0)k.wbits=U;else if(U>k.wbits){L.msg="invalid window size",k.mode=30;break}k.dmax=1<<U,L.adler=k.check=1,k.mode=512&P?10:12,V=P=0;break;case 2:for(;V<16;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(k.flags=P,(255&k.flags)!=8){L.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){L.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=P>>8&1),512&k.flags&&(ie[0]=255&P,ie[1]=P>>>8&255,k.check=o(k.check,ie,2,0)),V=P=0,k.mode=3;case 3:for(;V<32;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}k.head&&(k.head.time=P),512&k.flags&&(ie[0]=255&P,ie[1]=P>>>8&255,ie[2]=P>>>16&255,ie[3]=P>>>24&255,k.check=o(k.check,ie,4,0)),V=P=0,k.mode=4;case 4:for(;V<16;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}k.head&&(k.head.xflags=255&P,k.head.os=P>>8),512&k.flags&&(ie[0]=255&P,ie[1]=P>>>8&255,k.check=o(k.check,ie,2,0)),V=P=0,k.mode=5;case 5:if(1024&k.flags){for(;V<16;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}k.length=P,k.head&&(k.head.extra_len=P),512&k.flags&&(ie[0]=255&P,ie[1]=P>>>8&255,k.check=o(k.check,ie,2,0)),V=P=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(Q<(le=k.length)&&(le=Q),le&&(k.head&&(U=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),r.arraySet(k.head.extra,Z,O,le,U)),512&k.flags&&(k.check=o(k.check,Z,le,O)),Q-=le,O+=le,k.length-=le),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(Q===0)break e;for(le=0;U=Z[O+le++],k.head&&U&&k.length<65536&&(k.head.name+=String.fromCharCode(U)),U&&le<Q;);if(512&k.flags&&(k.check=o(k.check,Z,le,O)),Q-=le,O+=le,U)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(Q===0)break e;for(le=0;U=Z[O+le++],k.head&&U&&k.length<65536&&(k.head.comment+=String.fromCharCode(U)),U&&le<Q;);if(512&k.flags&&(k.check=o(k.check,Z,le,O)),Q-=le,O+=le,U)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;V<16;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(P!==(65535&k.check)){L.msg="header crc mismatch",k.mode=30;break}V=P=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),L.adler=k.check=0,k.mode=12;break;case 10:for(;V<32;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}L.adler=k.check=x(P),V=P=0,k.mode=11;case 11:if(k.havedict===0)return L.next_out=K,L.avail_out=z,L.next_in=O,L.avail_in=Q,k.hold=P,k.bits=V,2;L.adler=k.check=1,k.mode=12;case 12:if(H===5||H===6)break e;case 13:if(k.last){P>>>=7&V,V-=7&V,k.mode=27;break}for(;V<3;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}switch(k.last=1&P,V-=1,3&(P>>>=1)){case 0:k.mode=14;break;case 1:if(I(k),k.mode=20,H!==6)break;P>>>=2,V-=2;break e;case 2:k.mode=17;break;case 3:L.msg="invalid block type",k.mode=30}P>>>=2,V-=2;break;case 14:for(P>>>=7&V,V-=7&V;V<32;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if((65535&P)!=(P>>>16^65535)){L.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&P,V=P=0,k.mode=15,H===6)break e;case 15:k.mode=16;case 16:if(le=k.length){if(Q<le&&(le=Q),z<le&&(le=z),le===0)break e;r.arraySet(M,Z,O,le,K),Q-=le,O+=le,z-=le,K+=le,k.length-=le;break}k.mode=12;break;case 17:for(;V<14;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(k.nlen=257+(31&P),P>>>=5,V-=5,k.ndist=1+(31&P),P>>>=5,V-=5,k.ncode=4+(15&P),P>>>=4,V-=4,286<k.nlen||30<k.ndist){L.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;V<3;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}k.lens[De[k.have++]]=7&P,P>>>=3,V-=3}for(;k.have<19;)k.lens[De[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ee={bits:k.lenbits},ae=h(0,k.lens,0,19,k.lencode,0,k.work,ee),k.lenbits=ee.bits,ae){L.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;Fe=(X=k.lencode[P&(1<<k.lenbits)-1])>>>16&255,Ue=65535&X,!((Ee=X>>>24)<=V);){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(Ue<16)P>>>=Ee,V-=Ee,k.lens[k.have++]=Ue;else{if(Ue===16){for(Y=Ee+2;V<Y;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(P>>>=Ee,V-=Ee,k.have===0){L.msg="invalid bit length repeat",k.mode=30;break}U=k.lens[k.have-1],le=3+(3&P),P>>>=2,V-=2}else if(Ue===17){for(Y=Ee+3;V<Y;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}V-=Ee,U=0,le=3+(7&(P>>>=Ee)),P>>>=3,V-=3}else{for(Y=Ee+7;V<Y;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}V-=Ee,U=0,le=11+(127&(P>>>=Ee)),P>>>=7,V-=7}if(k.have+le>k.nlen+k.ndist){L.msg="invalid bit length repeat",k.mode=30;break}for(;le--;)k.lens[k.have++]=U}}if(k.mode===30)break;if(k.lens[256]===0){L.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ee={bits:k.lenbits},ae=h(d,k.lens,0,k.nlen,k.lencode,0,k.work,ee),k.lenbits=ee.bits,ae){L.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ee={bits:k.distbits},ae=h(p,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ee),k.distbits=ee.bits,ae){L.msg="invalid distances set",k.mode=30;break}if(k.mode=20,H===6)break e;case 20:k.mode=21;case 21:if(6<=Q&&258<=z){L.next_out=K,L.avail_out=z,L.next_in=O,L.avail_in=Q,k.hold=P,k.bits=V,l(L,se),K=L.next_out,M=L.output,z=L.avail_out,O=L.next_in,Z=L.input,Q=L.avail_in,P=k.hold,V=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;Fe=(X=k.lencode[P&(1<<k.lenbits)-1])>>>16&255,Ue=65535&X,!((Ee=X>>>24)<=V);){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(Fe&&(240&Fe)==0){for(Oe=Ee,Ve=Fe,Be=Ue;Fe=(X=k.lencode[Be+((P&(1<<Oe+Ve)-1)>>Oe)])>>>16&255,Ue=65535&X,!(Oe+(Ee=X>>>24)<=V);){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}P>>>=Oe,V-=Oe,k.back+=Oe}if(P>>>=Ee,V-=Ee,k.back+=Ee,k.length=Ue,Fe===0){k.mode=26;break}if(32&Fe){k.back=-1,k.mode=12;break}if(64&Fe){L.msg="invalid literal/length code",k.mode=30;break}k.extra=15&Fe,k.mode=22;case 22:if(k.extra){for(Y=k.extra;V<Y;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}k.length+=P&(1<<k.extra)-1,P>>>=k.extra,V-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;Fe=(X=k.distcode[P&(1<<k.distbits)-1])>>>16&255,Ue=65535&X,!((Ee=X>>>24)<=V);){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if((240&Fe)==0){for(Oe=Ee,Ve=Fe,Be=Ue;Fe=(X=k.distcode[Be+((P&(1<<Oe+Ve)-1)>>Oe)])>>>16&255,Ue=65535&X,!(Oe+(Ee=X>>>24)<=V);){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}P>>>=Oe,V-=Oe,k.back+=Oe}if(P>>>=Ee,V-=Ee,k.back+=Ee,64&Fe){L.msg="invalid distance code",k.mode=30;break}k.offset=Ue,k.extra=15&Fe,k.mode=24;case 24:if(k.extra){for(Y=k.extra;V<Y;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}k.offset+=P&(1<<k.extra)-1,P>>>=k.extra,V-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){L.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(z===0)break e;if(le=se-z,k.offset>le){if((le=k.offset-le)>k.whave&&k.sane){L.msg="invalid distance too far back",k.mode=30;break}ye=le>k.wnext?(le-=k.wnext,k.wsize-le):k.wnext-le,le>k.length&&(le=k.length),ve=k.window}else ve=M,ye=K-k.offset,le=k.length;for(z<le&&(le=z),z-=le,k.length-=le;M[K++]=ve[ye++],--le;);k.length===0&&(k.mode=21);break;case 26:if(z===0)break e;M[K++]=k.length,z--,k.mode=21;break;case 27:if(k.wrap){for(;V<32;){if(Q===0)break e;Q--,P|=Z[O++]<<V,V+=8}if(se-=z,L.total_out+=se,k.total+=se,se&&(L.adler=k.check=k.flags?o(k.check,M,se,K-se):s(k.check,M,se,K-se)),se=z,(k.flags?P:x(P))!==k.check){L.msg="incorrect data check",k.mode=30;break}V=P=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;V<32;){if(Q===0)break e;Q--,P+=Z[O++]<<V,V+=8}if(P!==(4294967295&k.total)){L.msg="incorrect length check",k.mode=30;break}V=P=0}k.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return m}return L.next_out=K,L.avail_out=z,L.next_in=O,L.avail_in=Q,k.hold=P,k.bits=V,(k.wsize||se!==L.avail_out&&k.mode<30&&(k.mode<27||H!==4))&&q(L,L.output,L.next_out,se-L.avail_out)?(k.mode=31,-4):($-=L.avail_in,se-=L.avail_out,L.total_in+=$,L.total_out+=se,k.total+=se,k.wrap&&se&&(L.adler=k.check=k.flags?o(k.check,M,se,L.next_out-se):s(k.check,M,se,L.next_out-se)),L.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),($==0&&se===0||H===4)&&ae===g&&(ae=-5),ae)},i.inflateEnd=function(L){if(!L||!L.state)return m;var H=L.state;return H.window&&(H.window=null),L.state=null,g},i.inflateGetHeader=function(L,H){var k;return L&&L.state?(2&(k=L.state).wrap)==0?m:((k.head=H).done=!1,g):m},i.inflateSetDictionary=function(L,H){var k,Z=H.length;return L&&L.state?(k=L.state).wrap!==0&&k.mode!==11?m:k.mode===11&&s(1,H,Z,0)!==k.check?-3:q(L,H,Z,Z)?(k.mode=31,-4):(k.havedict=1,g):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var r=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,p,g,m,v,y,A,x){var _,w,S,E,C,R,N,F,I,q=x.bits,L=0,H=0,k=0,Z=0,M=0,O=0,K=0,Q=0,z=0,P=0,V=null,$=0,se=new r.Buf16(16),le=new r.Buf16(16),ye=null,ve=0;for(L=0;L<=15;L++)se[L]=0;for(H=0;H<m;H++)se[p[g+H]]++;for(M=q,Z=15;1<=Z&&se[Z]===0;Z--);if(Z<M&&(M=Z),Z===0)return v[y++]=20971520,v[y++]=20971520,x.bits=1,0;for(k=1;k<Z&&se[k]===0;k++);for(M<k&&(M=k),L=Q=1;L<=15;L++)if(Q<<=1,(Q-=se[L])<0)return-1;if(0<Q&&(d===0||Z!==1))return-1;for(le[1]=0,L=1;L<15;L++)le[L+1]=le[L]+se[L];for(H=0;H<m;H++)p[g+H]!==0&&(A[le[p[g+H]]++]=H);if(R=d===0?(V=ye=A,19):d===1?(V=s,$-=257,ye=o,ve-=257,256):(V=l,ye=h,-1),L=k,C=y,K=H=P=0,S=-1,E=(z=1<<(O=M))-1,d===1&&852<z||d===2&&592<z)return 1;for(;;){for(N=L-K,I=A[H]<R?(F=0,A[H]):A[H]>R?(F=ye[ve+A[H]],V[$+A[H]]):(F=96,0),_=1<<L-K,k=w=1<<O;v[C+(P>>K)+(w-=_)]=N<<24|F<<16|I|0,w!==0;);for(_=1<<L-1;P&_;)_>>=1;if(_!==0?(P&=_-1,P+=_):P=0,H++,--se[L]==0){if(L===Z)break;L=p[g+A[H]]}if(M<L&&(P&E)!==S){for(K===0&&(K=M),C+=k,Q=1<<(O=L-K);O+K<Z&&!((Q-=se[O+K])<=0);)O++,Q<<=1;if(z+=1<<O,d===1&&852<z||d===2&&592<z)return 1;v[S=P&E]=M<<24|O<<16|C-y|0}}return P!==0&&(v[C+P]=L-K<<24|64<<16|0),x.bits=M,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var r=t("../utils/common"),s=0,o=1;function l(X){for(var ie=X.length;0<=--ie;)X[ie]=0}var h=0,d=29,p=256,g=p+1+d,m=30,v=19,y=2*g+1,A=15,x=16,_=7,w=256,S=16,E=17,C=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(g+2));l(q);var L=new Array(2*m);l(L);var H=new Array(512);l(H);var k=new Array(256);l(k);var Z=new Array(d);l(Z);var M,O,K,Q=new Array(m);function z(X,ie,De,_e,oe){this.static_tree=X,this.extra_bits=ie,this.extra_base=De,this.elems=_e,this.max_length=oe,this.has_stree=X&&X.length}function P(X,ie){this.dyn_tree=X,this.max_code=0,this.stat_desc=ie}function V(X){return X<256?H[X]:H[256+(X>>>7)]}function $(X,ie){X.pending_buf[X.pending++]=255&ie,X.pending_buf[X.pending++]=ie>>>8&255}function se(X,ie,De){X.bi_valid>x-De?(X.bi_buf|=ie<<X.bi_valid&65535,$(X,X.bi_buf),X.bi_buf=ie>>x-X.bi_valid,X.bi_valid+=De-x):(X.bi_buf|=ie<<X.bi_valid&65535,X.bi_valid+=De)}function le(X,ie,De){se(X,De[2*ie],De[2*ie+1])}function ye(X,ie){for(var De=0;De|=1&X,X>>>=1,De<<=1,0<--ie;);return De>>>1}function ve(X,ie,De){var _e,oe,J=new Array(A+1),re=0;for(_e=1;_e<=A;_e++)J[_e]=re=re+De[_e-1]<<1;for(oe=0;oe<=ie;oe++){var ue=X[2*oe+1];ue!==0&&(X[2*oe]=ye(J[ue]++,ue))}}function Ee(X){var ie;for(ie=0;ie<g;ie++)X.dyn_ltree[2*ie]=0;for(ie=0;ie<m;ie++)X.dyn_dtree[2*ie]=0;for(ie=0;ie<v;ie++)X.bl_tree[2*ie]=0;X.dyn_ltree[2*w]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function Fe(X){8<X.bi_valid?$(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function Ue(X,ie,De,_e){var oe=2*ie,J=2*De;return X[oe]<X[J]||X[oe]===X[J]&&_e[ie]<=_e[De]}function Oe(X,ie,De){for(var _e=X.heap[De],oe=De<<1;oe<=X.heap_len&&(oe<X.heap_len&&Ue(ie,X.heap[oe+1],X.heap[oe],X.depth)&&oe++,!Ue(ie,_e,X.heap[oe],X.depth));)X.heap[De]=X.heap[oe],De=oe,oe<<=1;X.heap[De]=_e}function Ve(X,ie,De){var _e,oe,J,re,ue=0;if(X.last_lit!==0)for(;_e=X.pending_buf[X.d_buf+2*ue]<<8|X.pending_buf[X.d_buf+2*ue+1],oe=X.pending_buf[X.l_buf+ue],ue++,_e===0?le(X,oe,ie):(le(X,(J=k[oe])+p+1,ie),(re=R[J])!==0&&se(X,oe-=Z[J],re),le(X,J=V(--_e),De),(re=N[J])!==0&&se(X,_e-=Q[J],re)),ue<X.last_lit;);le(X,w,ie)}function Be(X,ie){var De,_e,oe,J=ie.dyn_tree,re=ie.stat_desc.static_tree,ue=ie.stat_desc.has_stree,Ae=ie.stat_desc.elems,Re=-1;for(X.heap_len=0,X.heap_max=y,De=0;De<Ae;De++)J[2*De]!==0?(X.heap[++X.heap_len]=Re=De,X.depth[De]=0):J[2*De+1]=0;for(;X.heap_len<2;)J[2*(oe=X.heap[++X.heap_len]=Re<2?++Re:0)]=1,X.depth[oe]=0,X.opt_len--,ue&&(X.static_len-=re[2*oe+1]);for(ie.max_code=Re,De=X.heap_len>>1;1<=De;De--)Oe(X,J,De);for(oe=Ae;De=X.heap[1],X.heap[1]=X.heap[X.heap_len--],Oe(X,J,1),_e=X.heap[1],X.heap[--X.heap_max]=De,X.heap[--X.heap_max]=_e,J[2*oe]=J[2*De]+J[2*_e],X.depth[oe]=(X.depth[De]>=X.depth[_e]?X.depth[De]:X.depth[_e])+1,J[2*De+1]=J[2*_e+1]=oe,X.heap[1]=oe++,Oe(X,J,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],(function(Ne,Ie){var je,ot,he,we,Le,qe,Xe=Ie.dyn_tree,lt=Ie.max_code,Dt=Ie.stat_desc.static_tree,An=Ie.stat_desc.has_stree,di=Ie.stat_desc.extra_bits,Ti=Ie.stat_desc.extra_base,W=Ie.stat_desc.max_length,G=0;for(we=0;we<=A;we++)Ne.bl_count[we]=0;for(Xe[2*Ne.heap[Ne.heap_max]+1]=0,je=Ne.heap_max+1;je<y;je++)W<(we=Xe[2*Xe[2*(ot=Ne.heap[je])+1]+1]+1)&&(we=W,G++),Xe[2*ot+1]=we,lt<ot||(Ne.bl_count[we]++,Le=0,Ti<=ot&&(Le=di[ot-Ti]),qe=Xe[2*ot],Ne.opt_len+=qe*(we+Le),An&&(Ne.static_len+=qe*(Dt[2*ot+1]+Le)));if(G!==0){do{for(we=W-1;Ne.bl_count[we]===0;)we--;Ne.bl_count[we]--,Ne.bl_count[we+1]+=2,Ne.bl_count[W]--,G-=2}while(0<G);for(we=W;we!==0;we--)for(ot=Ne.bl_count[we];ot!==0;)lt<(he=Ne.heap[--je])||(Xe[2*he+1]!==we&&(Ne.opt_len+=(we-Xe[2*he+1])*Xe[2*he],Xe[2*he+1]=we),ot--)}})(X,ie),ve(J,Re,X.bl_count)}function U(X,ie,De){var _e,oe,J=-1,re=ie[1],ue=0,Ae=7,Re=4;for(re===0&&(Ae=138,Re=3),ie[2*(De+1)+1]=65535,_e=0;_e<=De;_e++)oe=re,re=ie[2*(_e+1)+1],++ue<Ae&&oe===re||(ue<Re?X.bl_tree[2*oe]+=ue:oe!==0?(oe!==J&&X.bl_tree[2*oe]++,X.bl_tree[2*S]++):ue<=10?X.bl_tree[2*E]++:X.bl_tree[2*C]++,J=oe,Re=(ue=0)===re?(Ae=138,3):oe===re?(Ae=6,3):(Ae=7,4))}function ae(X,ie,De){var _e,oe,J=-1,re=ie[1],ue=0,Ae=7,Re=4;for(re===0&&(Ae=138,Re=3),_e=0;_e<=De;_e++)if(oe=re,re=ie[2*(_e+1)+1],!(++ue<Ae&&oe===re)){if(ue<Re)for(;le(X,oe,X.bl_tree),--ue!=0;);else oe!==0?(oe!==J&&(le(X,oe,X.bl_tree),ue--),le(X,S,X.bl_tree),se(X,ue-3,2)):ue<=10?(le(X,E,X.bl_tree),se(X,ue-3,3)):(le(X,C,X.bl_tree),se(X,ue-11,7));J=oe,Re=(ue=0)===re?(Ae=138,3):oe===re?(Ae=6,3):(Ae=7,4)}}l(Q);var ee=!1;function Y(X,ie,De,_e){se(X,(h<<1)+(_e?1:0),3),(function(oe,J,re,ue){Fe(oe),$(oe,re),$(oe,~re),r.arraySet(oe.pending_buf,oe.window,J,re,oe.pending),oe.pending+=re})(X,ie,De)}i._tr_init=function(X){ee||((function(){var ie,De,_e,oe,J,re=new Array(A+1);for(oe=_e=0;oe<d-1;oe++)for(Z[oe]=_e,ie=0;ie<1<<R[oe];ie++)k[_e++]=oe;for(k[_e-1]=oe,oe=J=0;oe<16;oe++)for(Q[oe]=J,ie=0;ie<1<<N[oe];ie++)H[J++]=oe;for(J>>=7;oe<m;oe++)for(Q[oe]=J<<7,ie=0;ie<1<<N[oe]-7;ie++)H[256+J++]=oe;for(De=0;De<=A;De++)re[De]=0;for(ie=0;ie<=143;)q[2*ie+1]=8,ie++,re[8]++;for(;ie<=255;)q[2*ie+1]=9,ie++,re[9]++;for(;ie<=279;)q[2*ie+1]=7,ie++,re[7]++;for(;ie<=287;)q[2*ie+1]=8,ie++,re[8]++;for(ve(q,g+1,re),ie=0;ie<m;ie++)L[2*ie+1]=5,L[2*ie]=ye(ie,5);M=new z(q,R,p+1,g,A),O=new z(L,N,0,m,A),K=new z(new Array(0),F,0,v,_)})(),ee=!0),X.l_desc=new P(X.dyn_ltree,M),X.d_desc=new P(X.dyn_dtree,O),X.bl_desc=new P(X.bl_tree,K),X.bi_buf=0,X.bi_valid=0,Ee(X)},i._tr_stored_block=Y,i._tr_flush_block=function(X,ie,De,_e){var oe,J,re=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=(function(ue){var Ae,Re=4093624447;for(Ae=0;Ae<=31;Ae++,Re>>>=1)if(1&Re&&ue.dyn_ltree[2*Ae]!==0)return s;if(ue.dyn_ltree[18]!==0||ue.dyn_ltree[20]!==0||ue.dyn_ltree[26]!==0)return o;for(Ae=32;Ae<p;Ae++)if(ue.dyn_ltree[2*Ae]!==0)return o;return s})(X)),Be(X,X.l_desc),Be(X,X.d_desc),re=(function(ue){var Ae;for(U(ue,ue.dyn_ltree,ue.l_desc.max_code),U(ue,ue.dyn_dtree,ue.d_desc.max_code),Be(ue,ue.bl_desc),Ae=v-1;3<=Ae&&ue.bl_tree[2*I[Ae]+1]===0;Ae--);return ue.opt_len+=3*(Ae+1)+5+5+4,Ae})(X),oe=X.opt_len+3+7>>>3,(J=X.static_len+3+7>>>3)<=oe&&(oe=J)):oe=J=De+5,De+4<=oe&&ie!==-1?Y(X,ie,De,_e):X.strategy===4||J===oe?(se(X,2+(_e?1:0),3),Ve(X,q,L)):(se(X,4+(_e?1:0),3),(function(ue,Ae,Re,Ne){var Ie;for(se(ue,Ae-257,5),se(ue,Re-1,5),se(ue,Ne-4,4),Ie=0;Ie<Ne;Ie++)se(ue,ue.bl_tree[2*I[Ie]+1],3);ae(ue,ue.dyn_ltree,Ae-1),ae(ue,ue.dyn_dtree,Re-1)})(X,X.l_desc.max_code+1,X.d_desc.max_code+1,re+1),Ve(X,X.dyn_ltree,X.dyn_dtree)),Ee(X),_e&&Fe(X)},i._tr_tally=function(X,ie,De){return X.pending_buf[X.d_buf+2*X.last_lit]=ie>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&ie,X.pending_buf[X.l_buf+X.last_lit]=255&De,X.last_lit++,ie===0?X.dyn_ltree[2*De]++:(X.matches++,ie--,X.dyn_ltree[2*(k[De]+p+1)]++,X.dyn_dtree[2*V(ie)]++),X.last_lit===X.lit_bufsize-1},i._tr_align=function(X){se(X,2,3),le(X,w,q),(function(ie){ie.bi_valid===16?($(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)})(X)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(r){(function(s,o){if(!s.setImmediate){var l,h,d,p,g=1,m={},v=!1,y=s.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(s);A=A&&A.setTimeout?A:s,l={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){_(S)})}:(function(){if(s.postMessage&&!s.importScripts){var S=!0,E=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=E,S}})()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(S){s.postMessage(p+S,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(S){_(S.data)},function(S){d.port2.postMessage(S)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(S){var E=y.createElement("script");E.onreadystatechange=function(){_(S),E.onreadystatechange=null,h.removeChild(E),E=null},h.appendChild(E)}):function(S){setTimeout(_,0,S)},A.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var E=new Array(arguments.length-1),C=0;C<E.length;C++)E[C]=arguments[C+1];var R={callback:S,args:E};return m[g]=R,l(g),g++},A.clearImmediate=x}function x(S){delete m[S]}function _(S){if(v)setTimeout(_,0,S);else{var E=m[S];if(E){v=!0;try{(function(C){var R=C.callback,N=C.args;switch(N.length){case 0:R();break;case 1:R(N[0]);break;case 2:R(N[0],N[1]);break;case 3:R(N[0],N[1],N[2]);break;default:R.apply(o,N)}})(E)}finally{x(S),v=!1}}}}function w(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(p)===0&&_(+S.data.slice(p.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof Es<"u"?Es:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(tm)),tm.exports}var tx;function OE(){if(tx)return Ic;tx=1;var u=mF(),e=bF();Ic.openArrayBuffer=t,Ic.splitPath=n,Ic.joinPath=i;function t(r){return e.loadAsync(r).then(function(s){function o(p){return s.file(p)!==null}function l(p,g){return s.file(p).async("uint8array").then(function(m){if(g==="base64")return u.fromByteArray(m);if(g){var v=new TextDecoder(g);return v.decode(m)}else return m})}function h(p,g){s.file(p,g)}function d(){return s.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:h,toArrayBuffer:d}})}function n(r){var s=r.lastIndexOf("/");return s===-1?{dirname:"",basename:r}:{dirname:r.substring(0,s),basename:r.substring(s+1)}}function i(){var r=Array.prototype.filter.call(arguments,function(o){return o}),s=[];return r.forEach(function(o){/^\//.test(o)?s=[o]:s.push(o)}),s.join("/")}return Ic}var rh={},bs={},ho={},nx;function BE(){if(nx)return ho;nx=1;var u=tn;ho.Element=t,ho.element=function(r,s,o){return new t(r,s,o)},ho.text=function(r){return{type:"text",value:r}};var e=ho.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function t(r,s,o){this.type="element",this.name=r,this.attributes=s||{},this.children=o||[]}t.prototype.first=function(r){return u.find(this.children,function(s){return s.name===r})},t.prototype.firstOrEmpty=function(r){return this.first(r)||e},t.prototype.getElementsByTagName=function(r){var s=u.filter(this.children,function(o){return o.name===r});return i(s)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(r){return i(u.flatten(this.map(function(s){return s.getElementsByTagName(r)},!0)))}};function i(r){return u.extend(r,n)}return ho}var nm={},sh={},Wc={},Br={},na={},ix;function Rd(){if(ix)return na;ix=1;function u(r,s,o){if(o===void 0&&(o=Array.prototype),r&&typeof o.find=="function")return o.find.call(r,s);for(var l=0;l<r.length;l++)if(Object.prototype.hasOwnProperty.call(r,l)){var h=r[l];if(s.call(void 0,h,l,r))return h}}function e(r,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(r):r}function t(r,s){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o]);return r}var n=e({HTML:"text/html",isHTML:function(r){return r===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return na.assign=t,na.find=u,na.freeze=e,na.MIME_TYPE=n,na.NAMESPACE=i,na}var rx;function dy(){if(rx)return Br;rx=1;var u=Rd(),e=u.find,t=u.NAMESPACE;function n(W){return W!==""}function i(W){return W?W.split(/[\t\n\f\r ]+/).filter(n):[]}function r(W,G){return W.hasOwnProperty(G)||(W[G]=!0),W}function s(W){if(!W)return[];var G=i(W);return Object.keys(G.reduce(r,{}))}function o(W){return function(G){return W&&W.indexOf(G)!==-1}}function l(W,G){for(var ne in W)Object.prototype.hasOwnProperty.call(W,ne)&&(G[ne]=W[ne])}function h(W,G){var ne=W.prototype;if(!(ne instanceof G)){let be=function(){};be.prototype=G.prototype,be=new be,l(ne,be),W.prototype=ne=be}ne.constructor!=W&&(typeof W!="function"&&console.error("unknown Class:"+W),ne.constructor=W)}var d={},p=d.ELEMENT_NODE=1,g=d.ATTRIBUTE_NODE=2,m=d.TEXT_NODE=3,v=d.CDATA_SECTION_NODE=4,y=d.ENTITY_REFERENCE_NODE=5,A=d.ENTITY_NODE=6,x=d.PROCESSING_INSTRUCTION_NODE=7,_=d.COMMENT_NODE=8,w=d.DOCUMENT_NODE=9,S=d.DOCUMENT_TYPE_NODE=10,E=d.DOCUMENT_FRAGMENT_NODE=11,C=d.NOTATION_NODE=12,R={},N={};R.INDEX_SIZE_ERR=(N[1]="Index size error",1),R.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var F=R.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);R.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),R.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),R.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),R.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var I=R.NOT_FOUND_ERR=(N[8]="Not found",8);R.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var q=R.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);R.INVALID_STATE_ERR=(N[11]="Invalid state",11),R.SYNTAX_ERR=(N[12]="Syntax error",12),R.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),R.NAMESPACE_ERR=(N[14]="Invalid namespace",14),R.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function L(W,G){if(G instanceof Error)var ne=G;else ne=this,Error.call(this,N[W]),this.message=N[W],Error.captureStackTrace&&Error.captureStackTrace(this,L);return ne.code=W,G&&(this.message=this.message+": "+G),ne}L.prototype=Error.prototype,l(R,L);function H(){}H.prototype={length:0,item:function(W){return W>=0&&W<this.length?this[W]:null},toString:function(W,G){for(var ne=[],be=0;be<this.length;be++)Dt(this[be],ne,W,G);return ne.join("")},filter:function(W){return Array.prototype.filter.call(this,W)},indexOf:function(W){return Array.prototype.indexOf.call(this,W)}};function k(W,G){this._node=W,this._refresh=G,Z(this)}function Z(W){var G=W._node._inc||W._node.ownerDocument._inc;if(W._inc!==G){var ne=W._refresh(W._node);if(Ti(W,"length",ne.length),!W.$$length||ne.length<W.$$length)for(var be=ne.length;be in W;be++)Object.prototype.hasOwnProperty.call(W,be)&&delete W[be];l(ne,W),W._inc=G}}k.prototype.item=function(W){return Z(this),this[W]||null},h(k,H);function M(){}function O(W,G){for(var ne=W.length;ne--;)if(W[ne]===G)return ne}function K(W,G,ne,be){if(be?G[O(G,be)]=ne:G[G.length++]=ne,W){ne.ownerElement=W;var ke=W.ownerDocument;ke&&(be&&ye(ke,W,be),le(ke,W,ne))}}function Q(W,G,ne){var be=O(G,ne);if(be>=0){for(var ke=G.length-1;be<ke;)G[be]=G[++be];if(G.length=ke,W){var Ke=W.ownerDocument;Ke&&(ye(Ke,W,ne),ne.ownerElement=null)}}else throw new L(I,new Error(W.tagName+"@"+ne))}M.prototype={length:0,item:H.prototype.item,getNamedItem:function(W){for(var G=this.length;G--;){var ne=this[G];if(ne.nodeName==W)return ne}},setNamedItem:function(W){var G=W.ownerElement;if(G&&G!=this._ownerElement)throw new L(q);var ne=this.getNamedItem(W.nodeName);return K(this._ownerElement,this,W,ne),ne},setNamedItemNS:function(W){var G=W.ownerElement,ne;if(G&&G!=this._ownerElement)throw new L(q);return ne=this.getNamedItemNS(W.namespaceURI,W.localName),K(this._ownerElement,this,W,ne),ne},removeNamedItem:function(W){var G=this.getNamedItem(W);return Q(this._ownerElement,this,G),G},removeNamedItemNS:function(W,G){var ne=this.getNamedItemNS(W,G);return Q(this._ownerElement,this,ne),ne},getNamedItemNS:function(W,G){for(var ne=this.length;ne--;){var be=this[ne];if(be.localName==G&&be.namespaceURI==W)return be}return null}};function z(){}z.prototype={hasFeature:function(W,G){return!0},createDocument:function(W,G,ne){var be=new se;if(be.implementation=this,be.childNodes=new H,be.doctype=ne||null,ne&&be.appendChild(ne),G){var ke=be.createElementNS(W,G);be.appendChild(ke)}return be},createDocumentType:function(W,G,ne){var be=new Ne;return be.name=W,be.nodeName=W,be.publicId=G||"",be.systemId=ne||"",be}};function P(){}P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(W,G){return ie(this,W,G)},replaceChild:function(W,G){ie(this,W,G,X),G&&this.removeChild(G)},removeChild:function(W){return Ee(this,W)},appendChild:function(W){return this.insertBefore(W,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(W){return di(this.ownerDocument||this,this,W)},normalize:function(){for(var W=this.firstChild;W;){var G=W.nextSibling;G&&G.nodeType==m&&W.nodeType==m?(this.removeChild(G),W.appendData(G.data)):(W.normalize(),W=G)}},isSupported:function(W,G){return this.ownerDocument.implementation.hasFeature(W,G)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(W){for(var G=this;G;){var ne=G._nsMap;if(ne){for(var be in ne)if(Object.prototype.hasOwnProperty.call(ne,be)&&ne[be]===W)return be}G=G.nodeType==g?G.ownerDocument:G.parentNode}return null},lookupNamespaceURI:function(W){for(var G=this;G;){var ne=G._nsMap;if(ne&&Object.prototype.hasOwnProperty.call(ne,W))return ne[W];G=G.nodeType==g?G.ownerDocument:G.parentNode}return null},isDefaultNamespace:function(W){var G=this.lookupPrefix(W);return G==null}};function V(W){return W=="<"&&"&lt;"||W==">"&&"&gt;"||W=="&"&&"&amp;"||W=='"'&&"&quot;"||"&#"+W.charCodeAt()+";"}l(d,P),l(d,P.prototype);function $(W,G){if(G(W))return!0;if(W=W.firstChild)do if($(W,G))return!0;while(W=W.nextSibling)}function se(){this.ownerDocument=this}function le(W,G,ne){W&&W._inc++;var be=ne.namespaceURI;be===t.XMLNS&&(G._nsMap[ne.prefix?ne.localName:""]=ne.value)}function ye(W,G,ne,be){W&&W._inc++;var ke=ne.namespaceURI;ke===t.XMLNS&&delete G._nsMap[ne.prefix?ne.localName:""]}function ve(W,G,ne){if(W&&W._inc){W._inc++;var be=G.childNodes;if(ne)be[be.length++]=ne;else{for(var ke=G.firstChild,Ke=0;ke;)be[Ke++]=ke,ke=ke.nextSibling;be.length=Ke,delete be[be.length]}}}function Ee(W,G){var ne=G.previousSibling,be=G.nextSibling;return ne?ne.nextSibling=be:W.firstChild=be,be?be.previousSibling=ne:W.lastChild=ne,G.parentNode=null,G.previousSibling=null,G.nextSibling=null,ve(W.ownerDocument,W),G}function Fe(W){return W&&(W.nodeType===P.DOCUMENT_NODE||W.nodeType===P.DOCUMENT_FRAGMENT_NODE||W.nodeType===P.ELEMENT_NODE)}function Ue(W){return W&&(Ve(W)||Be(W)||Oe(W)||W.nodeType===P.DOCUMENT_FRAGMENT_NODE||W.nodeType===P.COMMENT_NODE||W.nodeType===P.PROCESSING_INSTRUCTION_NODE)}function Oe(W){return W&&W.nodeType===P.DOCUMENT_TYPE_NODE}function Ve(W){return W&&W.nodeType===P.ELEMENT_NODE}function Be(W){return W&&W.nodeType===P.TEXT_NODE}function U(W,G){var ne=W.childNodes||[];if(e(ne,Ve)||Oe(G))return!1;var be=e(ne,Oe);return!(G&&be&&ne.indexOf(be)>ne.indexOf(G))}function ae(W,G){var ne=W.childNodes||[];function be(Ke){return Ve(Ke)&&Ke!==G}if(e(ne,be))return!1;var ke=e(ne,Oe);return!(G&&ke&&ne.indexOf(ke)>ne.indexOf(G))}function ee(W,G,ne){if(!Fe(W))throw new L(F,"Unexpected parent node type "+W.nodeType);if(ne&&ne.parentNode!==W)throw new L(I,"child not in parent");if(!Ue(G)||Oe(G)&&W.nodeType!==P.DOCUMENT_NODE)throw new L(F,"Unexpected node type "+G.nodeType+" for parent node type "+W.nodeType)}function Y(W,G,ne){var be=W.childNodes||[],ke=G.childNodes||[];if(G.nodeType===P.DOCUMENT_FRAGMENT_NODE){var Ke=ke.filter(Ve);if(Ke.length>1||e(ke,Be))throw new L(F,"More than one element or text in fragment");if(Ke.length===1&&!U(W,ne))throw new L(F,"Element in fragment can not be inserted before doctype")}if(Ve(G)&&!U(W,ne))throw new L(F,"Only one element can be added and only after doctype");if(Oe(G)){if(e(be,Oe))throw new L(F,"Only one doctype is allowed");var Tt=e(be,Ve);if(ne&&be.indexOf(Tt)<be.indexOf(ne))throw new L(F,"Doctype can only be inserted before an element");if(!ne&&Tt)throw new L(F,"Doctype can not be appended since element is present")}}function X(W,G,ne){var be=W.childNodes||[],ke=G.childNodes||[];if(G.nodeType===P.DOCUMENT_FRAGMENT_NODE){var Ke=ke.filter(Ve);if(Ke.length>1||e(ke,Be))throw new L(F,"More than one element or text in fragment");if(Ke.length===1&&!ae(W,ne))throw new L(F,"Element in fragment can not be inserted before doctype")}if(Ve(G)&&!ae(W,ne))throw new L(F,"Only one element can be added and only after doctype");if(Oe(G)){if(e(be,function(nn){return Oe(nn)&&nn!==ne}))throw new L(F,"Only one doctype is allowed");var Tt=e(be,Ve);if(ne&&be.indexOf(Tt)<be.indexOf(ne))throw new L(F,"Doctype can only be inserted before an element")}}function ie(W,G,ne,be){ee(W,G,ne),W.nodeType===P.DOCUMENT_NODE&&(be||Y)(W,G,ne);var ke=G.parentNode;if(ke&&ke.removeChild(G),G.nodeType===E){var Ke=G.firstChild;if(Ke==null)return G;var Tt=G.lastChild}else Ke=Tt=G;var Bn=ne?ne.previousSibling:W.lastChild;Ke.previousSibling=Bn,Tt.nextSibling=ne,Bn?Bn.nextSibling=Ke:W.firstChild=Ke,ne==null?W.lastChild=Tt:ne.previousSibling=Tt;do{Ke.parentNode=W;var nn=W.ownerDocument||W;De(Ke,nn)}while(Ke!==Tt&&(Ke=Ke.nextSibling));return ve(W.ownerDocument||W,W),G.nodeType==E&&(G.firstChild=G.lastChild=null),G}function De(W,G){if(W.ownerDocument!==G){if(W.ownerDocument=G,W.nodeType===p&&W.attributes)for(var ne=0;ne<W.attributes.length;ne++){var be=W.attributes.item(ne);be&&(be.ownerDocument=G)}for(var ke=W.firstChild;ke;)De(ke,G),ke=ke.nextSibling}}function _e(W,G){G.parentNode&&G.parentNode.removeChild(G),G.parentNode=W,G.previousSibling=W.lastChild,G.nextSibling=null,G.previousSibling?G.previousSibling.nextSibling=G:W.firstChild=G,W.lastChild=G,ve(W.ownerDocument,W,G);var ne=W.ownerDocument||W;return De(G,ne),G}se.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(W,G){if(W.nodeType==E){for(var ne=W.firstChild;ne;){var be=ne.nextSibling;this.insertBefore(ne,G),ne=be}return W}return ie(this,W,G),De(W,this),this.documentElement===null&&W.nodeType===p&&(this.documentElement=W),W},removeChild:function(W){return this.documentElement==W&&(this.documentElement=null),Ee(this,W)},replaceChild:function(W,G){ie(this,W,G,X),De(W,this),G&&this.removeChild(G),Ve(W)&&(this.documentElement=W)},importNode:function(W,G){return An(this,W,G)},getElementById:function(W){var G=null;return $(this.documentElement,function(ne){if(ne.nodeType==p&&ne.getAttribute("id")==W)return G=ne,!0}),G},getElementsByClassName:function(W){var G=s(W);return new k(this,function(ne){var be=[];return G.length>0&&$(ne.documentElement,function(ke){if(ke!==ne&&ke.nodeType===p){var Ke=ke.getAttribute("class");if(Ke){var Tt=W===Ke;if(!Tt){var Bn=s(Ke);Tt=G.every(o(Bn))}Tt&&be.push(ke)}}}),be})},createElement:function(W){var G=new oe;G.ownerDocument=this,G.nodeName=W,G.tagName=W,G.localName=W,G.childNodes=new H;var ne=G.attributes=new M;return ne._ownerElement=G,G},createDocumentFragment:function(){var W=new he;return W.ownerDocument=this,W.childNodes=new H,W},createTextNode:function(W){var G=new ue;return G.ownerDocument=this,G.appendData(W),G},createComment:function(W){var G=new Ae;return G.ownerDocument=this,G.appendData(W),G},createCDATASection:function(W){var G=new Re;return G.ownerDocument=this,G.appendData(W),G},createProcessingInstruction:function(W,G){var ne=new we;return ne.ownerDocument=this,ne.tagName=ne.nodeName=ne.target=W,ne.nodeValue=ne.data=G,ne},createAttribute:function(W){var G=new J;return G.ownerDocument=this,G.name=W,G.nodeName=W,G.localName=W,G.specified=!0,G},createEntityReference:function(W){var G=new ot;return G.ownerDocument=this,G.nodeName=W,G},createElementNS:function(W,G){var ne=new oe,be=G.split(":"),ke=ne.attributes=new M;return ne.childNodes=new H,ne.ownerDocument=this,ne.nodeName=G,ne.tagName=G,ne.namespaceURI=W,be.length==2?(ne.prefix=be[0],ne.localName=be[1]):ne.localName=G,ke._ownerElement=ne,ne},createAttributeNS:function(W,G){var ne=new J,be=G.split(":");return ne.ownerDocument=this,ne.nodeName=G,ne.name=G,ne.namespaceURI=W,ne.specified=!0,be.length==2?(ne.prefix=be[0],ne.localName=be[1]):ne.localName=G,ne}},h(se,P);function oe(){this._nsMap={}}oe.prototype={nodeType:p,hasAttribute:function(W){return this.getAttributeNode(W)!=null},getAttribute:function(W){var G=this.getAttributeNode(W);return G&&G.value||""},getAttributeNode:function(W){return this.attributes.getNamedItem(W)},setAttribute:function(W,G){var ne=this.ownerDocument.createAttribute(W);ne.value=ne.nodeValue=""+G,this.setAttributeNode(ne)},removeAttribute:function(W){var G=this.getAttributeNode(W);G&&this.removeAttributeNode(G)},appendChild:function(W){return W.nodeType===E?this.insertBefore(W,null):_e(this,W)},setAttributeNode:function(W){return this.attributes.setNamedItem(W)},setAttributeNodeNS:function(W){return this.attributes.setNamedItemNS(W)},removeAttributeNode:function(W){return this.attributes.removeNamedItem(W.nodeName)},removeAttributeNS:function(W,G){var ne=this.getAttributeNodeNS(W,G);ne&&this.removeAttributeNode(ne)},hasAttributeNS:function(W,G){return this.getAttributeNodeNS(W,G)!=null},getAttributeNS:function(W,G){var ne=this.getAttributeNodeNS(W,G);return ne&&ne.value||""},setAttributeNS:function(W,G,ne){var be=this.ownerDocument.createAttributeNS(W,G);be.value=be.nodeValue=""+ne,this.setAttributeNode(be)},getAttributeNodeNS:function(W,G){return this.attributes.getNamedItemNS(W,G)},getElementsByTagName:function(W){return new k(this,function(G){var ne=[];return $(G,function(be){be!==G&&be.nodeType==p&&(W==="*"||be.tagName==W)&&ne.push(be)}),ne})},getElementsByTagNameNS:function(W,G){return new k(this,function(ne){var be=[];return $(ne,function(ke){ke!==ne&&ke.nodeType===p&&(W==="*"||ke.namespaceURI===W)&&(G==="*"||ke.localName==G)&&be.push(ke)}),be})}},se.prototype.getElementsByTagName=oe.prototype.getElementsByTagName,se.prototype.getElementsByTagNameNS=oe.prototype.getElementsByTagNameNS,h(oe,P);function J(){}J.prototype.nodeType=g,h(J,P);function re(){}re.prototype={data:"",substringData:function(W,G){return this.data.substring(W,W+G)},appendData:function(W){W=this.data+W,this.nodeValue=this.data=W,this.length=W.length},insertData:function(W,G){this.replaceData(W,0,G)},appendChild:function(W){throw new Error(N[F])},deleteData:function(W,G){this.replaceData(W,G,"")},replaceData:function(W,G,ne){var be=this.data.substring(0,W),ke=this.data.substring(W+G);ne=be+ne+ke,this.nodeValue=this.data=ne,this.length=ne.length}},h(re,P);function ue(){}ue.prototype={nodeName:"#text",nodeType:m,splitText:function(W){var G=this.data,ne=G.substring(W);G=G.substring(0,W),this.data=this.nodeValue=G,this.length=G.length;var be=this.ownerDocument.createTextNode(ne);return this.parentNode&&this.parentNode.insertBefore(be,this.nextSibling),be}},h(ue,re);function Ae(){}Ae.prototype={nodeName:"#comment",nodeType:_},h(Ae,re);function Re(){}Re.prototype={nodeName:"#cdata-section",nodeType:v},h(Re,re);function Ne(){}Ne.prototype.nodeType=S,h(Ne,P);function Ie(){}Ie.prototype.nodeType=C,h(Ie,P);function je(){}je.prototype.nodeType=A,h(je,P);function ot(){}ot.prototype.nodeType=y,h(ot,P);function he(){}he.prototype.nodeName="#document-fragment",he.prototype.nodeType=E,h(he,P);function we(){}we.prototype.nodeType=x,h(we,P);function Le(){}Le.prototype.serializeToString=function(W,G,ne){return qe.call(W,G,ne)},P.prototype.toString=qe;function qe(W,G){var ne=[],be=this.nodeType==9&&this.documentElement||this,ke=be.prefix,Ke=be.namespaceURI;if(Ke&&ke==null){var ke=be.lookupPrefix(Ke);if(ke==null)var Tt=[{namespace:Ke,prefix:null}]}return Dt(this,ne,W,G,Tt),ne.join("")}function Xe(W,G,ne){var be=W.prefix||"",ke=W.namespaceURI;if(!ke||be==="xml"&&ke===t.XML||ke===t.XMLNS)return!1;for(var Ke=ne.length;Ke--;){var Tt=ne[Ke];if(Tt.prefix===be)return Tt.namespace!==ke}return!0}function lt(W,G,ne){W.push(" ",G,'="',ne.replace(/[<>&"\t\n\r]/g,V),'"')}function Dt(W,G,ne,be,ke){if(ke||(ke=[]),be)if(W=be(W),W){if(typeof W=="string"){G.push(W);return}}else return;switch(W.nodeType){case p:var Ke=W.attributes,Tt=Ke.length,rn=W.firstChild,Bn=W.tagName;ne=t.isHTML(W.namespaceURI)||ne;var nn=Bn;if(!ne&&!W.prefix&&W.namespaceURI){for(var Pt,Wt=0;Wt<Ke.length;Wt++)if(Ke.item(Wt).name==="xmlns"){Pt=Ke.item(Wt).value;break}if(!Pt)for(var ei=ke.length-1;ei>=0;ei--){var Xi=ke[ei];if(Xi.prefix===""&&Xi.namespace===W.namespaceURI){Pt=Xi.namespace;break}}if(Pt!==W.namespaceURI)for(var ei=ke.length-1;ei>=0;ei--){var Xi=ke[ei];if(Xi.namespace===W.namespaceURI){Xi.prefix&&(nn=Xi.prefix+":"+Bn);break}}}G.push("<",nn);for(var Ar=0;Ar<Tt;Ar++){var Si=Ke.item(Ar);Si.prefix=="xmlns"?ke.push({prefix:Si.localName,namespace:Si.value}):Si.nodeName=="xmlns"&&ke.push({prefix:"",namespace:Si.value})}for(var Ar=0;Ar<Tt;Ar++){var Si=Ke.item(Ar);if(Xe(Si,ne,ke)){var rr=Si.prefix||"",Yi=Si.namespaceURI;lt(G,rr?"xmlns:"+rr:"xmlns",Yi),ke.push({prefix:rr,namespace:Yi})}Dt(Si,G,ne,be,ke)}if(Bn===nn&&Xe(W,ne,ke)){var rr=W.prefix||"",Yi=W.namespaceURI;lt(G,rr?"xmlns:"+rr:"xmlns",Yi),ke.push({prefix:rr,namespace:Yi})}if(rn||ne&&!/^(?:meta|link|img|br|hr|input)$/i.test(Bn)){if(G.push(">"),ne&&/^script$/i.test(Bn))for(;rn;)rn.data?G.push(rn.data):Dt(rn,G,ne,be,ke.slice()),rn=rn.nextSibling;else for(;rn;)Dt(rn,G,ne,be,ke.slice()),rn=rn.nextSibling;G.push("</",nn,">")}else G.push("/>");return;case w:case E:for(var rn=W.firstChild;rn;)Dt(rn,G,ne,be,ke.slice()),rn=rn.nextSibling;return;case g:return lt(G,W.name,W.value);case m:return G.push(W.data.replace(/[<&>]/g,V));case v:return G.push("<![CDATA[",W.data,"]]>");case _:return G.push("<!--",W.data,"-->");case S:var xr=W.publicId,fi=W.systemId;if(G.push("<!DOCTYPE ",W.name),xr)G.push(" PUBLIC ",xr),fi&&fi!="."&&G.push(" ",fi),G.push(">");else if(fi&&fi!=".")G.push(" SYSTEM ",fi,">");else{var Xr=W.internalSubset;Xr&&G.push(" [",Xr,"]"),G.push(">")}return;case x:return G.push("<?",W.target," ",W.data,"?>");case y:return G.push("&",W.nodeName,";");default:G.push("??",W.nodeName)}}function An(W,G,ne){var be;switch(G.nodeType){case p:be=G.cloneNode(!1),be.ownerDocument=W;case E:break;case g:ne=!0;break}if(be||(be=G.cloneNode(!1)),be.ownerDocument=W,be.parentNode=null,ne)for(var ke=G.firstChild;ke;)be.appendChild(An(W,ke,ne)),ke=ke.nextSibling;return be}function di(W,G,ne){var be=new G.constructor;for(var ke in G)if(Object.prototype.hasOwnProperty.call(G,ke)){var Ke=G[ke];typeof Ke!="object"&&Ke!=be[ke]&&(be[ke]=Ke)}switch(G.childNodes&&(be.childNodes=new H),be.ownerDocument=W,be.nodeType){case p:var Tt=G.attributes,Bn=be.attributes=new M,nn=Tt.length;Bn._ownerElement=be;for(var Pt=0;Pt<nn;Pt++)be.setAttributeNode(di(W,Tt.item(Pt),!0));break;case g:ne=!0}if(ne)for(var Wt=G.firstChild;Wt;)be.appendChild(di(W,Wt,ne)),Wt=Wt.nextSibling;return be}function Ti(W,G,ne){W[G]=ne}try{if(Object.defineProperty){let W=function(G){switch(G.nodeType){case p:case E:var ne=[];for(G=G.firstChild;G;)G.nodeType!==7&&G.nodeType!==8&&ne.push(W(G)),G=G.nextSibling;return ne.join("");default:return G.nodeValue}};Object.defineProperty(k.prototype,"length",{get:function(){return Z(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return W(this)},set:function(G){switch(this.nodeType){case p:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(G||String(G))&&this.appendChild(this.ownerDocument.createTextNode(G));break;default:this.data=G,this.value=G,this.nodeValue=G}}}),Ti=function(G,ne,be){G["$$"+ne]=be}}}catch{}return Br.DocumentType=Ne,Br.DOMException=L,Br.DOMImplementation=z,Br.Element=oe,Br.Node=P,Br.NodeList=H,Br.XMLSerializer=Le,Br}var zc={},im={},sx;function yF(){return sx||(sx=1,(function(u){var e=Rd().freeze;u.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),u.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),u.entityMap=u.HTML_ENTITIES})(im)),im}var ah={},ax;function vF(){if(ax)return ah;ax=1;var u=Rd().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,r=1,s=2,o=3,l=4,h=5,d=6,p=7;function g(F,I){this.message=F,this.locator=I,Error.captureStackTrace&&Error.captureStackTrace(this,g)}g.prototype=new Error,g.prototype.name=g.name;function m(){}m.prototype={parse:function(F,I,q){var L=this.domBuilder;L.startDocument(),S(I,I={}),v(F,I,q,L,this.errorHandler),L.endDocument()}};function v(F,I,q,L,H){function k(_e){if(_e>65535){_e-=65536;var oe=55296+(_e>>10),J=56320+(_e&1023);return String.fromCharCode(oe,J)}else return String.fromCharCode(_e)}function Z(_e){var oe=_e.slice(1,-1);return Object.hasOwnProperty.call(q,oe)?q[oe]:oe.charAt(0)==="#"?k(parseInt(oe.substr(1).replace("x","0x"))):(H.error("entity not found:"+_e),_e)}function M(_e){if(_e>se){var oe=F.substring(se,_e).replace(/&#?\w+;/g,Z);P&&O(se),L.characters(oe,0,_e-se),se=_e}}function O(_e,oe){for(;_e>=Q&&(oe=z.exec(F));)K=oe.index,Q=K+oe[0].length,P.lineNumber++;P.columnNumber=_e-K+1}for(var K=0,Q=0,z=/.*(?:\r\n?|\n)|.*$/g,P=L.locator,V=[{currentNSMap:I}],$={},se=0;;){try{var le=F.indexOf("<",se);if(le<0){if(!F.substr(se).match(/^\s*$/)){var ye=L.doc,ve=ye.createTextNode(F.substr(se));ye.appendChild(ve),L.currentElement=ve}return}switch(le>se&&M(le),F.charAt(le+1)){case"/":var ee=F.indexOf(">",le+3),Ee=F.substring(le+2,ee).replace(/[ \t\n\r]+$/g,""),Fe=V.pop();ee<0?(Ee=F.substring(le+2).replace(/[\s<].*/,""),H.error("end tag name: "+Ee+" is not complete:"+Fe.tagName),ee=le+1+Ee.length):Ee.match(/\s</)&&(Ee=Ee.replace(/[\s<].*/,""),H.error("end tag name: "+Ee+" maybe not complete"),ee=le+1+Ee.length);var Ue=Fe.localNSMap,Oe=Fe.tagName==Ee,Ve=Oe||Fe.tagName&&Fe.tagName.toLowerCase()==Ee.toLowerCase();if(Ve){if(L.endElement(Fe.uri,Fe.localName,Ee),Ue)for(var Be in Ue)Object.prototype.hasOwnProperty.call(Ue,Be)&&L.endPrefixMapping(Be);Oe||H.fatalError("end tag name: "+Ee+" is not match the current start tagName:"+Fe.tagName)}else V.push(Fe);ee++;break;case"?":P&&O(le),ee=C(F,le,L);break;case"!":P&&O(le),ee=E(F,le,L,H);break;default:P&&O(le);var U=new R,ae=V[V.length-1].currentNSMap,ee=A(F,le,U,ae,Z,H),Y=U.length;if(!U.closed&&w(F,ee,U.tagName,$)&&(U.closed=!0,q.nbsp||H.warning("unclosed xml attribute")),P&&Y){for(var X=y(P,{}),ie=0;ie<Y;ie++){var De=U[ie];O(De.offset),De.locator=y(P,{})}L.locator=X,x(U,L,ae)&&V.push(U),L.locator=P}else x(U,L,ae)&&V.push(U);u.isHTML(U.uri)&&!U.closed?ee=_(F,ee,U.tagName,Z,L):ee++}}catch(_e){if(_e instanceof g)throw _e;H.error("element parse error: "+_e),ee=-1}ee>se?se=ee:M(Math.max(le,se)+1)}}function y(F,I){return I.lineNumber=F.lineNumber,I.columnNumber=F.columnNumber,I}function A(F,I,q,L,H,k){function Z(P,V,$){q.attributeNames.hasOwnProperty(P)&&k.fatalError("Attribute "+P+" redefined"),q.addValue(P,V.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,H),$)}for(var M,O,K=++I,Q=i;;){var z=F.charAt(K);switch(z){case"=":if(Q===r)M=F.slice(I,K),Q=o;else if(Q===s)Q=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Q===o||Q===r)if(Q===r&&(k.warning('attribute value must after "="'),M=F.slice(I,K)),I=K+1,K=F.indexOf(z,I),K>0)O=F.slice(I,K),Z(M,O,I-1),Q=h;else throw new Error("attribute value no end '"+z+"' match");else if(Q==l)O=F.slice(I,K),Z(M,O,I),k.warning('attribute "'+M+'" missed start quot('+z+")!!"),I=K+1,Q=h;else throw new Error('attribute value must after "="');break;case"/":switch(Q){case i:q.setTagName(F.slice(I,K));case h:case d:case p:Q=p,q.closed=!0;case l:case r:break;case s:q.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return k.error("unexpected end of input"),Q==i&&q.setTagName(F.slice(I,K)),K;case">":switch(Q){case i:q.setTagName(F.slice(I,K));case h:case d:case p:break;case l:case r:O=F.slice(I,K),O.slice(-1)==="/"&&(q.closed=!0,O=O.slice(0,-1));case s:Q===s&&(O=M),Q==l?(k.warning('attribute "'+O+'" missed quot(")!'),Z(M,O,I)):((!u.isHTML(L[""])||!O.match(/^(?:disabled|checked|selected)$/i))&&k.warning('attribute "'+O+'" missed value!! "'+O+'" instead!!'),Z(O,O,I));break;case o:throw new Error("attribute value missed!!")}return K;case"":z=" ";default:if(z<=" ")switch(Q){case i:q.setTagName(F.slice(I,K)),Q=d;break;case r:M=F.slice(I,K),Q=s;break;case l:var O=F.slice(I,K);k.warning('attribute "'+O+'" missed quot(")!!'),Z(M,O,I);case h:Q=d;break}else switch(Q){case s:q.tagName,(!u.isHTML(L[""])||!M.match(/^(?:disabled|checked|selected)$/i))&&k.warning('attribute "'+M+'" missed value!! "'+M+'" instead2!!'),Z(M,M,I),I=K,Q=r;break;case h:k.warning('attribute space is required"'+M+'"!!');case d:Q=r,I=K;break;case o:Q=l,I=K;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}K++}}function x(F,I,q){for(var L=F.tagName,H=null,z=F.length;z--;){var k=F[z],Z=k.qName,M=k.value,P=Z.indexOf(":");if(P>0)var O=k.prefix=Z.slice(0,P),K=Z.slice(P+1),Q=O==="xmlns"&&K;else K=Z,O=null,Q=Z==="xmlns"&&"";k.localName=K,Q!==!1&&(H==null&&(H={},S(q,q={})),q[Q]=H[Q]=M,k.uri=u.XMLNS,I.startPrefixMapping(Q,M))}for(var z=F.length;z--;){k=F[z];var O=k.prefix;O&&(O==="xml"&&(k.uri=u.XML),O!=="xmlns"&&(k.uri=q[O||""]))}var P=L.indexOf(":");P>0?(O=F.prefix=L.slice(0,P),K=F.localName=L.slice(P+1)):(O=null,K=F.localName=L);var V=F.uri=q[O||""];if(I.startElement(V,K,L,F),F.closed){if(I.endElement(V,K,L),H)for(O in H)Object.prototype.hasOwnProperty.call(H,O)&&I.endPrefixMapping(O)}else return F.currentNSMap=q,F.localNSMap=H,!0}function _(F,I,q,L,H){if(/^(?:script|textarea)$/i.test(q)){var k=F.indexOf("</"+q+">",I),Z=F.substring(I+1,k);if(/[&<]/.test(Z))return/^script$/i.test(q)?(H.characters(Z,0,Z.length),k):(Z=Z.replace(/&#?\w+;/g,L),H.characters(Z,0,Z.length),k)}return I+1}function w(F,I,q,L){var H=L[q];return H==null&&(H=F.lastIndexOf("</"+q+">"),H<I&&(H=F.lastIndexOf("</"+q)),L[q]=H),H<I}function S(F,I){for(var q in F)Object.prototype.hasOwnProperty.call(F,q)&&(I[q]=F[q])}function E(F,I,q,L){var H=F.charAt(I+2);switch(H){case"-":if(F.charAt(I+3)==="-"){var k=F.indexOf("-->",I+4);return k>I?(q.comment(F,I+4,k-I-4),k+3):(L.error("Unclosed comment"),-1)}else return-1;default:if(F.substr(I+3,6)=="CDATA["){var k=F.indexOf("]]>",I+9);return q.startCDATA(),q.characters(F,I+9,k-I-9),q.endCDATA(),k+3}var Z=N(F,I),M=Z.length;if(M>1&&/!doctype/i.test(Z[0][0])){var O=Z[1][0],K=!1,Q=!1;M>3&&(/^public$/i.test(Z[2][0])?(K=Z[3][0],Q=M>4&&Z[4][0]):/^system$/i.test(Z[2][0])&&(Q=Z[3][0]));var z=Z[M-1];return q.startDTD(O,K,Q),q.endDTD(),z.index+z[0].length}}return-1}function C(F,I,q){var L=F.indexOf("?>",I);if(L){var H=F.substring(I,L).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return H?(H[0].length,q.processingInstruction(H[1],H[2]),L+2):-1}return-1}function R(){this.attributeNames={}}R.prototype={setTagName:function(F){if(!n.test(F))throw new Error("invalid tagName:"+F);this.tagName=F},addValue:function(F,I,q){if(!n.test(F))throw new Error("invalid attribute:"+F);this.attributeNames[F]=this.length,this[this.length++]={qName:F,value:I,offset:q}},length:0,getLocalName:function(F){return this[F].localName},getLocator:function(F){return this[F].locator},getQName:function(F){return this[F].qName},getURI:function(F){return this[F].uri},getValue:function(F){return this[F].value}};function N(F,I){var q,L=[],H=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(H.lastIndex=I,H.exec(F);q=H.exec(F);)if(L.push(q),q[1])return L}return ah.XMLReader=m,ah.ParseError=g,ah}var ox;function AF(){if(ox)return zc;ox=1;var u=Rd(),e=dy(),t=yF(),n=vF(),i=e.DOMImplementation,r=u.NAMESPACE,s=n.ParseError,o=n.XMLReader;function l(A){return A.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function h(A){this.options=A||{locator:{}}}h.prototype.parseFromString=function(A,x){var _=this.options,w=new o,S=_.domBuilder||new p,E=_.errorHandler,C=_.locator,R=_.xmlns||{},N=/\/x?html?$/.test(x),F=N?t.HTML_ENTITIES:t.XML_ENTITIES;C&&S.setDocumentLocator(C),w.errorHandler=d(E,S,C),w.domBuilder=_.domBuilder||S,N&&(R[""]=r.HTML),R.xml=R.xml||r.XML;var I=_.normalizeLineEndings||l;return A&&typeof A=="string"?w.parse(I(A),R,F):w.errorHandler.error("invalid doc source"),S.doc};function d(A,x,_){if(!A){if(x instanceof p)return x;A=x}var w={},S=A instanceof Function;_=_||{};function E(C){var R=A[C];!R&&S&&(R=A.length==2?function(N){A(C,N)}:A),w[C]=R&&function(N){R("[xmldom "+C+"]	"+N+m(_))}||function(){}}return E("warning"),E("error"),E("fatalError"),w}function p(){this.cdata=!1}function g(A,x){x.lineNumber=A.lineNumber,x.columnNumber=A.columnNumber}p.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(A,x,_,w){var S=this.doc,E=S.createElementNS(A,_||x),C=w.length;y(this,E),this.currentElement=E,this.locator&&g(this.locator,E);for(var R=0;R<C;R++){var A=w.getURI(R),N=w.getValue(R),_=w.getQName(R),F=S.createAttributeNS(A,_);this.locator&&g(w.getLocator(R),F),F.value=F.nodeValue=N,E.setAttributeNode(F)}},endElement:function(A,x,_){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(A,x){},endPrefixMapping:function(A){},processingInstruction:function(A,x){var _=this.doc.createProcessingInstruction(A,x);this.locator&&g(this.locator,_),y(this,_)},ignorableWhitespace:function(A,x,_){},characters:function(A,x,_){if(A=v.apply(this,arguments),A){if(this.cdata)var w=this.doc.createCDATASection(A);else var w=this.doc.createTextNode(A);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(A)&&this.doc.appendChild(w),this.locator&&g(this.locator,w)}},skippedEntity:function(A){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(A){(this.locator=A)&&(A.lineNumber=0)},comment:function(A,x,_){A=v.apply(this,arguments);var w=this.doc.createComment(A);this.locator&&g(this.locator,w),y(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(A,x,_){var w=this.doc.implementation;if(w&&w.createDocumentType){var S=w.createDocumentType(A,x,_);this.locator&&g(this.locator,S),y(this,S),this.doc.doctype=S}},warning:function(A){console.warn("[xmldom warning]	"+A,m(this.locator))},error:function(A){console.error("[xmldom error]	"+A,m(this.locator))},fatalError:function(A){throw new s(A,this.locator)}};function m(A){if(A)return`
@`+(A.systemId||"")+"#[line:"+A.lineNumber+",col:"+A.columnNumber+"]"}function v(A,x,_){return typeof A=="string"?A.substr(x,_):A.length>=x+_||x?new java.lang.String(A,x,_)+"":A}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(A){p.prototype[A]=function(){return null}});function y(A,x){A.currentElement?A.currentElement.appendChild(x):A.doc.appendChild(x)}return zc.__DOMHandler=p,zc.normalizeLineEndings=l,zc.DOMParser=h,zc}var cx;function xF(){if(cx)return Wc;cx=1;var u=dy();return Wc.DOMImplementation=u.DOMImplementation,Wc.XMLSerializer=u.XMLSerializer,Wc.DOMParser=AF().DOMParser,Wc}var lx;function _F(){if(lx)return sh;lx=1;var u=xF(),e=dy();function t(n){var i=null,r=new u.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),s=r.parseFromString(n);if(i===null)return s;throw new Error(i.level+": "+i.message)}return sh.parseFromString=t,sh.Node=e.Node,sh}var ux;function DF(){if(ux)return nm;ux=1;var u=Os(),e=tn,t=_F(),n=BE(),i=n.Element;nm.readString=s;var r=t.Node;function s(o,l){l=l||{};try{var h=t.parseFromString(o,"text/xml")}catch(m){return u.reject(m)}if(h.documentElement.tagName==="parsererror")return u.resolve(new Error(h.documentElement.textContent));function d(m){switch(m.nodeType){case r.ELEMENT_NODE:return p(m);case r.TEXT_NODE:return n.text(m.nodeValue)}}function p(m){var v=g(m),y=[];e.forEach(m.childNodes,function(x){var _=d(x);_&&y.push(_)});var A={};return e.forEach(m.attributes,function(x){A[g(x)]=x.value}),new i(v,A,y)}function g(m){if(m.namespaceURI){var v=l[m.namespaceURI],y;return v?y=v+":":y="{"+m.namespaceURI+"}",y+m.localName}else return m.localName}return u.resolve(d(h.documentElement))}return nm}var rm={},ia={},dr={},hx;function Bs(){return hx||(hx=1,(function(){var u,e,t,n,i,r,s,o=[].slice,l={}.hasOwnProperty;u=function(){var h,d,p,g,m,v;if(v=arguments[0],m=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(h=0,p=m.length;h<p;h++)if(g=m[h],g!=null)for(d in g)l.call(g,d)&&(v[d]=g[d]);return v},i=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},r=function(h){var d;return!!h&&((d=typeof h)=="function"||d==="object")},t=function(h){return i(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},n=function(h){var d;if(t(h))return!h.length;for(d in h)if(l.call(h,d))return!1;return!0},s=function(h){var d,p;return r(h)&&(p=Object.getPrototypeOf(h))&&(d=p.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},e=function(h){return i(h.valueOf)?h.valueOf():h},dr.assign=u,dr.isFunction=i,dr.isObject=r,dr.isArray=t,dr.isEmpty=n,dr.isPlainObject=s,dr.getValue=e}).call(dr)),dr}var Eh={exports:{}},Th={exports:{}},Sh={exports:{}},Ch={exports:{}},wF=Ch.exports,dx;function IE(){return dx||(dx=1,(function(){Ch.exports=(function(){function u(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return u.prototype.clone=function(){return Object.create(this)},u.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},u.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},u})()}).call(wF)),Ch.exports}var EF=Sh.exports,fx;function Ud(){return fx||(fx=1,(function(){var u,e,t,n,i,r,s=function(l,h){for(var d in h)o.call(h,d)&&(l[d]=h[d]);function p(){this.constructor=l}return p.prototype=h.prototype,l.prototype=new p,l.__super__=h.prototype,l},o={}.hasOwnProperty;r=Bs(),i=r.isObject,n=r.isFunction,t=r.getValue,e=hi(),u=IE(),Sh.exports=(function(l){s(h,l);function h(d,p,g){if(h.__super__.constructor.call(this,d),p==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(p),this.attributes={},g!=null&&this.attribute(g),d.isDocument&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this)}return h.prototype.clone=function(){var d,p,g,m;g=Object.create(this),g.isRoot&&(g.documentObject=null),g.attributes={},m=this.attributes;for(p in m)o.call(m,p)&&(d=m[p],g.attributes[p]=d.clone());return g.children=[],this.children.forEach(function(v){var y;return y=v.clone(),y.parent=g,g.children.push(y)}),g},h.prototype.attribute=function(d,p){var g,m;if(d!=null&&(d=t(d)),i(d))for(g in d)o.call(d,g)&&(m=d[g],this.attribute(g,m));else n(p)&&(p=p.apply()),(!this.options.skipNullAttributes||p!=null)&&(this.attributes[d]=new u(this,d,p));return this},h.prototype.removeAttribute=function(d){var p,g,m;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=t(d),Array.isArray(d))for(g=0,m=d.length;g<m;g++)p=d[g],delete this.attributes[p];else delete this.attributes[d];return this},h.prototype.toString=function(d){return this.options.writer.set(d).element(this)},h.prototype.att=function(d,p){return this.attribute(d,p)},h.prototype.a=function(d,p){return this.attribute(d,p)},h})(e)}).call(EF)),Sh.exports}var Rh={exports:{}},TF=Rh.exports,px;function kd(){return px||(px=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Rh.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).cdata(this)},i})(u)}).call(TF)),Rh.exports}var Uh={exports:{}},SF=Uh.exports,gx;function Fd(){return gx||(gx=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Uh.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).comment(this)},i})(u)}).call(SF)),Uh.exports}var kh={exports:{}},CF=kh.exports,mx;function Md(){return mx||(mx=1,(function(){var u,e,t=function(i,r){for(var s in r)n.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=Bs().isObject,u=hi(),kh.exports=(function(i){t(r,i);function r(s,o,l,h){var d;r.__super__.constructor.call(this,s),e(o)&&(d=o,o=d.version,l=d.encoding,h=d.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),h!=null&&(this.standalone=this.stringify.xmlStandalone(h))}return r.prototype.toString=function(s){return this.options.writer.set(s).declaration(this)},r})(u)}).call(CF)),kh.exports}var Fh={exports:{}},Mh={exports:{}},RF=Mh.exports,bx;function Ld(){return bx||(bx=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Mh.exports=(function(n){e(i,n);function i(r,s,o,l,h,d){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(s));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(s));if(!h)throw new Error("Missing DTD attribute default. "+this.debugInfo(s));if(h.indexOf("#")!==0&&(h="#"+h),!h.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(s));if(d&&!h.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(s));this.elementName=this.stringify.eleName(s),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=h}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdAttList(this)},i})(u)}).call(RF)),Mh.exports}var Lh={exports:{}},UF=Lh.exports,yx;function Nd(){return yx||(yx=1,(function(){var u,e,t=function(i,r){for(var s in r)n.call(r,s)&&(i[s]=r[s]);function o(){this.constructor=i}return o.prototype=r.prototype,i.prototype=new o,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=Bs().isObject,u=hi(),Lh.exports=(function(i){t(r,i);function r(s,o,l,h){if(r.__super__.constructor.call(this,s),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(h==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(h))this.value=this.stringify.dtdEntityValue(h);else{if(!h.pubID&&!h.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(h.pubID&&!h.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(h.pubID!=null&&(this.pubID=this.stringify.dtdPubID(h.pubID)),h.sysID!=null&&(this.sysID=this.stringify.dtdSysID(h.sysID)),h.nData!=null&&(this.nData=this.stringify.dtdNData(h.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdEntity(this)},r})(u)}).call(UF)),Lh.exports}var Nh={exports:{}},kF=Nh.exports,vx;function Od(){return vx||(vx=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Nh.exports=(function(n){e(i,n);function i(r,s,o){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(s),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdElement(this)},i})(u)}).call(kF)),Nh.exports}var Oh={exports:{}},FF=Oh.exports,Ax;function Bd(){return Ax||(Ax=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Oh.exports=(function(n){e(i,n);function i(r,s,o){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing DTD notation name. "+this.debugInfo(s));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(s));this.name=this.stringify.eleName(s),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdNotation(this)},i})(u)}).call(FF)),Oh.exports}var MF=Fh.exports,xx;function Id(){return xx||(xx=1,(function(){var u,e,t,n,i,r,s=function(l,h){for(var d in h)o.call(h,d)&&(l[d]=h[d]);function p(){this.constructor=l}return p.prototype=h.prototype,l.prototype=new p,l.__super__=h.prototype,l},o={}.hasOwnProperty;r=Bs().isObject,i=hi(),u=Ld(),t=Nd(),e=Od(),n=Bd(),Fh.exports=(function(l){s(h,l);function h(d,p,g){var m,v;h.__super__.constructor.call(this,d),this.name="!DOCTYPE",this.documentObject=d,r(p)&&(m=p,p=m.pubID,g=m.sysID),g==null&&(v=[p,g],g=v[0],p=v[1]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),g!=null&&(this.sysID=this.stringify.dtdSysID(g))}return h.prototype.element=function(d,p){var g;return g=new e(this,d,p),this.children.push(g),this},h.prototype.attList=function(d,p,g,m,v){var y;return y=new u(this,d,p,g,m,v),this.children.push(y),this},h.prototype.entity=function(d,p){var g;return g=new t(this,!1,d,p),this.children.push(g),this},h.prototype.pEntity=function(d,p){var g;return g=new t(this,!0,d,p),this.children.push(g),this},h.prototype.notation=function(d,p){var g;return g=new n(this,d,p),this.children.push(g),this},h.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},h.prototype.ele=function(d,p){return this.element(d,p)},h.prototype.att=function(d,p,g,m,v){return this.attList(d,p,g,m,v)},h.prototype.ent=function(d,p){return this.entity(d,p)},h.prototype.pent=function(d,p){return this.pEntity(d,p)},h.prototype.not=function(d,p){return this.notation(d,p)},h.prototype.up=function(){return this.root()||this.documentObject},h})(i)}).call(MF)),Fh.exports}var Bh={exports:{}},LF=Bh.exports,_x;function Pd(){return _x||(_x=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Bh.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).raw(this)},i})(u)}).call(LF)),Bh.exports}var Ih={exports:{}},NF=Ih.exports,Dx;function Wd(){return Dx||(Dx=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Ih.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).text(this)},i})(u)}).call(NF)),Ih.exports}var Ph={exports:{}},OF=Ph.exports,wx;function zd(){return wx||(wx=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Ph.exports=(function(n){e(i,n);function i(r,s,o){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(s),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).processingInstruction(this)},i})(u)}).call(OF)),Ph.exports}var Wh={exports:{}},BF=Wh.exports,Ex;function fy(){return Ex||(Ex=1,(function(){var u,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;u=hi(),Wh.exports=(function(n){e(i,n);function i(r){i.__super__.constructor.call(this,r),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return""},i})(u)}).call(BF)),Wh.exports}var IF=Th.exports,Tx;function hi(){return Tx||(Tx=1,(function(){var u,e,t,n,i,r,s,o,l,h,d,p,g,m,v={}.hasOwnProperty;m=Bs(),g=m.isObject,p=m.isFunction,d=m.isEmpty,h=m.getValue,r=null,u=null,e=null,t=null,n=null,o=null,l=null,s=null,i=null,Th.exports=(function(){function y(A){this.parent=A,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],r||(r=Ud(),u=kd(),e=Fd(),t=Md(),n=Id(),o=Pd(),l=Wd(),s=zd(),i=fy())}return y.prototype.element=function(A,x,_){var w,S,E,C,R,N,F,I,q,L,H;if(N=null,x===null&&_==null&&(q=[{},null],x=q[0],_=q[1]),x==null&&(x={}),x=h(x),g(x)||(L=[x,_],_=L[0],x=L[1]),A!=null&&(A=h(A)),Array.isArray(A))for(E=0,F=A.length;E<F;E++)S=A[E],N=this.element(S);else if(p(A))N=this.element(A.apply());else if(g(A)){for(R in A)if(v.call(A,R))if(H=A[R],p(H)&&(H=H.apply()),g(H)&&d(H)&&(H=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&R.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(R.substr(this.stringify.convertAttKey.length),H);else if(!this.options.separateArrayItems&&Array.isArray(H))for(C=0,I=H.length;C<I;C++)S=H[C],w={},w[R]=S,N=this.element(w);else g(H)?(N=this.element(R),N.element(H)):N=this.element(R,H)}else this.options.skipNullNodes&&_===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&A.indexOf(this.stringify.convertTextKey)===0?N=this.text(_):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&A.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(_):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&A.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(_):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&A.indexOf(this.stringify.convertRawKey)===0?N=this.raw(_):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&A.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(A.substr(this.stringify.convertPIKey.length),_):N=this.node(A,x,_);if(N==null)throw new Error("Could not create any elements with: "+A+". "+this.debugInfo());return N},y.prototype.insertBefore=function(A,x,_){var w,S,E;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(A));return S=this.parent.children.indexOf(this),E=this.parent.children.splice(S),w=this.parent.element(A,x,_),Array.prototype.push.apply(this.parent.children,E),w},y.prototype.insertAfter=function(A,x,_){var w,S,E;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(A));return S=this.parent.children.indexOf(this),E=this.parent.children.splice(S+1),w=this.parent.element(A,x,_),Array.prototype.push.apply(this.parent.children,E),w},y.prototype.remove=function(){var A;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return A=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[A,A-A+1].concat([])),this.parent},y.prototype.node=function(A,x,_){var w,S;return A!=null&&(A=h(A)),x||(x={}),x=h(x),g(x)||(S=[x,_],_=S[0],x=S[1]),w=new r(this,A,x),_!=null&&w.text(_),this.children.push(w),w},y.prototype.text=function(A){var x;return x=new l(this,A),this.children.push(x),this},y.prototype.cdata=function(A){var x;return x=new u(this,A),this.children.push(x),this},y.prototype.comment=function(A){var x;return x=new e(this,A),this.children.push(x),this},y.prototype.commentBefore=function(A){var x,_;return x=this.parent.children.indexOf(this),_=this.parent.children.splice(x),this.parent.comment(A),Array.prototype.push.apply(this.parent.children,_),this},y.prototype.commentAfter=function(A){var x,_;return x=this.parent.children.indexOf(this),_=this.parent.children.splice(x+1),this.parent.comment(A),Array.prototype.push.apply(this.parent.children,_),this},y.prototype.raw=function(A){var x;return x=new o(this,A),this.children.push(x),this},y.prototype.dummy=function(){var A;return A=new i(this),this.children.push(A),A},y.prototype.instruction=function(A,x){var _,w,S,E,C;if(A!=null&&(A=h(A)),x!=null&&(x=h(x)),Array.isArray(A))for(E=0,C=A.length;E<C;E++)_=A[E],this.instruction(_);else if(g(A))for(_ in A)v.call(A,_)&&(w=A[_],this.instruction(_,w));else p(x)&&(x=x.apply()),S=new s(this,A,x),this.children.push(S);return this},y.prototype.instructionBefore=function(A,x){var _,w;return _=this.parent.children.indexOf(this),w=this.parent.children.splice(_),this.parent.instruction(A,x),Array.prototype.push.apply(this.parent.children,w),this},y.prototype.instructionAfter=function(A,x){var _,w;return _=this.parent.children.indexOf(this),w=this.parent.children.splice(_+1),this.parent.instruction(A,x),Array.prototype.push.apply(this.parent.children,w),this},y.prototype.declaration=function(A,x,_){var w,S;return w=this.document(),S=new t(w,A,x,_),w.children[0]instanceof t?w.children[0]=S:w.children.unshift(S),w.root()||w},y.prototype.doctype=function(A,x){var _,w,S,E,C,R,N,F,I,q;for(w=this.document(),S=new n(w,A,x),I=w.children,E=C=0,N=I.length;C<N;E=++C)if(_=I[E],_ instanceof n)return w.children[E]=S,S;for(q=w.children,E=R=0,F=q.length;R<F;E=++R)if(_=q[E],_.isRoot)return w.children.splice(E,0,S),S;return w.children.push(S),S},y.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},y.prototype.root=function(){var A;for(A=this;A;){if(A.isDocument)return A.rootObject;if(A.isRoot)return A;A=A.parent}},y.prototype.document=function(){var A;for(A=this;A;){if(A.isDocument)return A;A=A.parent}},y.prototype.end=function(A){return this.document().end(A)},y.prototype.prev=function(){var A;for(A=this.parent.children.indexOf(this);A>0&&this.parent.children[A-1].isDummy;)A=A-1;if(A<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[A-1]},y.prototype.next=function(){var A;for(A=this.parent.children.indexOf(this);A<this.parent.children.length-1&&this.parent.children[A+1].isDummy;)A=A+1;if(A===-1||A===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[A+1]},y.prototype.importDocument=function(A){var x;return x=A.root().clone(),x.parent=this,x.isRoot=!1,this.children.push(x),this},y.prototype.debugInfo=function(A){var x,_;return A=A||this.name,A==null&&!((x=this.parent)!=null&&x.name)?"":A==null?"parent: <"+this.parent.name+">":(_=this.parent)!=null&&_.name?"node: <"+A+">, parent: <"+this.parent.name+">":"node: <"+A+">"},y.prototype.ele=function(A,x,_){return this.element(A,x,_)},y.prototype.nod=function(A,x,_){return this.node(A,x,_)},y.prototype.txt=function(A){return this.text(A)},y.prototype.dat=function(A){return this.cdata(A)},y.prototype.com=function(A){return this.comment(A)},y.prototype.ins=function(A,x){return this.instruction(A,x)},y.prototype.doc=function(){return this.document()},y.prototype.dec=function(A,x,_){return this.declaration(A,x,_)},y.prototype.dtd=function(A,x){return this.doctype(A,x)},y.prototype.e=function(A,x,_){return this.element(A,x,_)},y.prototype.n=function(A,x,_){return this.node(A,x,_)},y.prototype.t=function(A){return this.text(A)},y.prototype.d=function(A){return this.cdata(A)},y.prototype.c=function(A){return this.comment(A)},y.prototype.r=function(A){return this.raw(A)},y.prototype.i=function(A,x){return this.instruction(A,x)},y.prototype.u=function(){return this.up()},y.prototype.importXMLBuilder=function(A){return this.importDocument(A)},y})()}).call(IF)),Th.exports}var zh={exports:{}},PF=zh.exports,Sx;function PE(){return Sx||(Sx=1,(function(){var u=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;zh.exports=(function(){function t(n){this.assertLegalChar=u(this.assertLegalChar,this);var i,r,s;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,r=n.stringify||{};for(i in r)e.call(r,i)&&(s=r[i],this[i]=s)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var i;if(i=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+n+" at index "+i.index);return n},t.prototype.elEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t})()}).call(PF)),zh.exports}var Hh={exports:{}},jh={exports:{}},WF=jh.exports,Cx;function WE(){return Cx||(Cx=1,(function(){var u={}.hasOwnProperty;jh.exports=(function(){function e(t){var n,i,r,s,o,l,h,d,p;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(i=t.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(r=t.indent)!=null?r:"  ",this.newline=(s=t.newline)!=null?s:`
`,this.offset=(o=t.offset)!=null?o:0,this.dontprettytextnodes=(l=t.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(h=t.spacebeforeslash)!=null?h:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=t.writer||{};for(n in d)u.call(d,n)&&(p=d[n],this[n]=p)}return e.prototype.set=function(t){var n,i,r;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{};for(n in i)u.call(i,n)&&(r=i[n],this[n]=r);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e})()}).call(WF)),jh.exports}var zF=Hh.exports,Rx;function py(){return Rx||(Rx=1,(function(){var u,e,t,n,i,r,s,o,l,h,d,p,g,m,v=function(A,x){for(var _ in x)y.call(x,_)&&(A[_]=x[_]);function w(){this.constructor=A}return w.prototype=x.prototype,A.prototype=new w,A.__super__=x.prototype,A},y={}.hasOwnProperty;s=Md(),o=Id(),u=kd(),e=Fd(),h=Ud(),p=Pd(),g=Wd(),d=zd(),l=fy(),t=Ld(),n=Od(),i=Nd(),r=Bd(),m=WE(),Hh.exports=(function(A){v(x,A);function x(_){x.__super__.constructor.call(this,_)}return x.prototype.document=function(_){var w,S,E,C,R;for(this.textispresent=!1,C="",R=_.children,S=0,E=R.length;S<E;S++)w=R[S],!(w instanceof l)&&(C+=(function(){switch(!1){case!(w instanceof s):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof d):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&C.slice(-this.newline.length)===this.newline&&(C=C.slice(0,-this.newline.length)),C},x.prototype.attribute=function(_){return" "+_.name+'="'+_.value+'"'},x.prototype.cdata=function(_,w){return this.space(w)+"<![CDATA["+_.text+"]]>"+this.newline},x.prototype.comment=function(_,w){return this.space(w)+"<!-- "+_.text+" -->"+this.newline},x.prototype.declaration=function(_,w){var S;return S=this.space(w),S+='<?xml version="'+_.version+'"',_.encoding!=null&&(S+=' encoding="'+_.encoding+'"'),_.standalone!=null&&(S+=' standalone="'+_.standalone+'"'),S+=this.spacebeforeslash+"?>",S+=this.newline,S},x.prototype.docType=function(_,w){var S,E,C,R,N;if(w||(w=0),R=this.space(w),R+="<!DOCTYPE "+_.root().name,_.pubID&&_.sysID?R+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(R+=' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(R+=" [",R+=this.newline,N=_.children,E=0,C=N.length;E<C;E++)S=N[E],R+=(function(){switch(!1){case!(S instanceof t):return this.dtdAttList(S,w+1);case!(S instanceof n):return this.dtdElement(S,w+1);case!(S instanceof i):return this.dtdEntity(S,w+1);case!(S instanceof r):return this.dtdNotation(S,w+1);case!(S instanceof u):return this.cdata(S,w+1);case!(S instanceof e):return this.comment(S,w+1);case!(S instanceof d):return this.processingInstruction(S,w+1);default:throw new Error("Unknown DTD node type: "+S.constructor.name)}}).call(this);R+="]"}return R+=this.spacebeforeslash+">",R+=this.newline,R},x.prototype.element=function(_,w){var S,E,C,R,N,F,I,q,L,H,k,Z,M;w||(w=0),M=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Z=this.space(w),q="",q+=Z+"<"+_.name,L=_.attributes;for(I in L)y.call(L,I)&&(S=L[I],q+=this.attribute(S));if(_.children.length===0||_.children.every(function(O){return O.value===""}))this.allowEmpty?q+="></"+_.name+">"+this.newline:q+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)q+=">",q+=_.children[0].value,q+="</"+_.name+">"+this.newline;else{if(this.dontprettytextnodes){for(H=_.children,C=0,N=H.length;C<N;C++)if(E=H[C],E.value!=null){this.textispresent++,M=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Z=this.space(w)),q+=">"+this.newline,k=_.children,R=0,F=k.length;R<F;R++)E=k[R],q+=(function(){switch(!1){case!(E instanceof u):return this.cdata(E,w+1);case!(E instanceof e):return this.comment(E,w+1);case!(E instanceof h):return this.element(E,w+1);case!(E instanceof p):return this.raw(E,w+1);case!(E instanceof g):return this.text(E,w+1);case!(E instanceof d):return this.processingInstruction(E,w+1);case!(E instanceof l):return"";default:throw new Error("Unknown XML node type: "+E.constructor.name)}}).call(this);M&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),q+=Z+"</"+_.name+">"+this.newline}return q},x.prototype.processingInstruction=function(_,w){var S;return S=this.space(w)+"<?"+_.target,_.value&&(S+=" "+_.value),S+=this.spacebeforeslash+"?>"+this.newline,S},x.prototype.raw=function(_,w){return this.space(w)+_.value+this.newline},x.prototype.text=function(_,w){return this.space(w)+_.value+this.newline},x.prototype.dtdAttList=function(_,w){var S;return S=this.space(w)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType,_.defaultValueType!=="#DEFAULT"&&(S+=" "+_.defaultValueType),_.defaultValue&&(S+=' "'+_.defaultValue+'"'),S+=this.spacebeforeslash+">"+this.newline,S},x.prototype.dtdElement=function(_,w){return this.space(w)+"<!ELEMENT "+_.name+" "+_.value+this.spacebeforeslash+">"+this.newline},x.prototype.dtdEntity=function(_,w){var S;return S=this.space(w)+"<!ENTITY",_.pe&&(S+=" %"),S+=" "+_.name,_.value?S+=' "'+_.value+'"':(_.pubID&&_.sysID?S+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(S+=' SYSTEM "'+_.sysID+'"'),_.nData&&(S+=" NDATA "+_.nData)),S+=this.spacebeforeslash+">"+this.newline,S},x.prototype.dtdNotation=function(_,w){var S;return S=this.space(w)+"<!NOTATION "+_.name,_.pubID&&_.sysID?S+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.pubID?S+=' PUBLIC "'+_.pubID+'"':_.sysID&&(S+=' SYSTEM "'+_.sysID+'"'),S+=this.spacebeforeslash+">"+this.newline,S},x.prototype.openNode=function(_,w){var S,E,C,R;if(w||(w=0),_ instanceof h){C=this.space(w)+"<"+_.name,R=_.attributes;for(E in R)y.call(R,E)&&(S=R[E],C+=this.attribute(S));return C+=(_.children?">":"/>")+this.newline,C}else return C=this.space(w)+"<!DOCTYPE "+_.rootNodeName,_.pubID&&_.sysID?C+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(C+=' SYSTEM "'+_.sysID+'"'),C+=(_.children?" [":">")+this.newline,C},x.prototype.closeNode=function(_,w){switch(w||(w=0),!1){case!(_ instanceof h):return this.space(w)+"</"+_.name+">"+this.newline;case!(_ instanceof o):return this.space(w)+"]>"+this.newline}},x})(m)}).call(zF)),Hh.exports}var HF=Eh.exports,Ux;function jF(){return Ux||(Ux=1,(function(){var u,e,t,n,i=function(s,o){for(var l in o)r.call(o,l)&&(s[l]=o[l]);function h(){this.constructor=s}return h.prototype=o.prototype,s.prototype=new h,s.__super__=o.prototype,s},r={}.hasOwnProperty;n=Bs().isPlainObject,u=hi(),t=PE(),e=py(),Eh.exports=(function(s){i(o,s);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new t(l),this.isDocument=!0}return o.prototype.end=function(l){var h;return l?n(l)&&(h=l,l=this.options.writer.set(h)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(u)}).call(HF)),Eh.exports}var qh={exports:{}},qF=qh.exports,kx;function GF(){return kx||(kx=1,(function(){var u,e,t,n,i,r,s,o,l,h,d,p,g,m,v,y,A,x,_,w,S={}.hasOwnProperty;w=Bs(),x=w.isObject,A=w.isFunction,_=w.isPlainObject,y=w.getValue,h=Ud(),e=kd(),t=Fd(),p=Pd(),v=Wd(),d=zd(),o=Md(),l=Id(),n=Ld(),r=Nd(),i=Od(),s=Bd(),u=IE(),m=PE(),g=py(),qh.exports=(function(){function E(C,R,N){var F;this.name="?xml",C||(C={}),C.writer?_(C.writer)&&(F=C.writer,C.writer=new g(F)):C.writer=new g(C),this.options=C,this.writer=C.writer,this.stringify=new m(C),this.onDataCallback=R||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return E.prototype.node=function(C,R,N){var F,I;if(C==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(C));return this.openCurrent(),C=y(C),R===null&&N==null&&(F=[{},null],R=F[0],N=F[1]),R==null&&(R={}),R=y(R),x(R)||(I=[R,N],N=I[0],R=I[1]),this.currentNode=new h(this,C,R),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},E.prototype.element=function(C,R,N){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(C,R,N)},E.prototype.attribute=function(C,R){var N,F;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(C));if(C!=null&&(C=y(C)),x(C))for(N in C)S.call(C,N)&&(F=C[N],this.attribute(N,F));else A(R)&&(R=R.apply()),(!this.options.skipNullAttributes||R!=null)&&(this.currentNode.attributes[C]=new u(this,C,R));return this},E.prototype.text=function(C){var R;return this.openCurrent(),R=new v(this,C),this.onData(this.writer.text(R,this.currentLevel+1),this.currentLevel+1),this},E.prototype.cdata=function(C){var R;return this.openCurrent(),R=new e(this,C),this.onData(this.writer.cdata(R,this.currentLevel+1),this.currentLevel+1),this},E.prototype.comment=function(C){var R;return this.openCurrent(),R=new t(this,C),this.onData(this.writer.comment(R,this.currentLevel+1),this.currentLevel+1),this},E.prototype.raw=function(C){var R;return this.openCurrent(),R=new p(this,C),this.onData(this.writer.raw(R,this.currentLevel+1),this.currentLevel+1),this},E.prototype.instruction=function(C,R){var N,F,I,q,L;if(this.openCurrent(),C!=null&&(C=y(C)),R!=null&&(R=y(R)),Array.isArray(C))for(N=0,q=C.length;N<q;N++)F=C[N],this.instruction(F);else if(x(C))for(F in C)S.call(C,F)&&(I=C[F],this.instruction(F,I));else A(R)&&(R=R.apply()),L=new d(this,C,R),this.onData(this.writer.processingInstruction(L,this.currentLevel+1),this.currentLevel+1);return this},E.prototype.declaration=function(C,R,N){var F;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return F=new o(this,C,R,N),this.onData(this.writer.declaration(F,this.currentLevel+1),this.currentLevel+1),this},E.prototype.doctype=function(C,R,N){if(this.openCurrent(),C==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,R,N),this.currentNode.rootNodeName=C,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},E.prototype.dtdElement=function(C,R){var N;return this.openCurrent(),N=new i(this,C,R),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},E.prototype.attList=function(C,R,N,F,I){var q;return this.openCurrent(),q=new n(this,C,R,N,F,I),this.onData(this.writer.dtdAttList(q,this.currentLevel+1),this.currentLevel+1),this},E.prototype.entity=function(C,R){var N;return this.openCurrent(),N=new r(this,!1,C,R),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},E.prototype.pEntity=function(C,R){var N;return this.openCurrent(),N=new r(this,!0,C,R),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},E.prototype.notation=function(C,R){var N;return this.openCurrent(),N=new s(this,C,R),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},E.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},E.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},E.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},E.prototype.openNode=function(C){if(!C.isOpen)return!this.root&&this.currentLevel===0&&C instanceof h&&(this.root=C),this.onData(this.writer.openNode(C,this.currentLevel),this.currentLevel),C.isOpen=!0},E.prototype.closeNode=function(C){if(!C.isClosed)return this.onData(this.writer.closeNode(C,this.currentLevel),this.currentLevel),C.isClosed=!0},E.prototype.onData=function(C,R){return this.documentStarted=!0,this.onDataCallback(C,R+1)},E.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},E.prototype.debugInfo=function(C){return C==null?"":"node: <"+C+">"},E.prototype.ele=function(){return this.element.apply(this,arguments)},E.prototype.nod=function(C,R,N){return this.node(C,R,N)},E.prototype.txt=function(C){return this.text(C)},E.prototype.dat=function(C){return this.cdata(C)},E.prototype.com=function(C){return this.comment(C)},E.prototype.ins=function(C,R){return this.instruction(C,R)},E.prototype.dec=function(C,R,N){return this.declaration(C,R,N)},E.prototype.dtd=function(C,R,N){return this.doctype(C,R,N)},E.prototype.e=function(C,R,N){return this.element(C,R,N)},E.prototype.n=function(C,R,N){return this.node(C,R,N)},E.prototype.t=function(C){return this.text(C)},E.prototype.d=function(C){return this.cdata(C)},E.prototype.c=function(C){return this.comment(C)},E.prototype.r=function(C){return this.raw(C)},E.prototype.i=function(C,R){return this.instruction(C,R)},E.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},E.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},E.prototype.ent=function(C,R){return this.entity(C,R)},E.prototype.pent=function(C,R){return this.pEntity(C,R)},E.prototype.not=function(C,R){return this.notation(C,R)},E})()}).call(qF)),qh.exports}var Gh={exports:{}},$F=Gh.exports,Fx;function VF(){return Fx||(Fx=1,(function(){var u,e,t,n,i,r,s,o,l,h,d,p,g,m,v=function(A,x){for(var _ in x)y.call(x,_)&&(A[_]=x[_]);function w(){this.constructor=A}return w.prototype=x.prototype,A.prototype=new w,A.__super__=x.prototype,A},y={}.hasOwnProperty;s=Md(),o=Id(),u=kd(),e=Fd(),h=Ud(),p=Pd(),g=Wd(),d=zd(),l=fy(),t=Ld(),n=Od(),i=Nd(),r=Bd(),m=WE(),Gh.exports=(function(A){v(x,A);function x(_,w){x.__super__.constructor.call(this,w),this.stream=_}return x.prototype.document=function(_){var w,S,E,C,R,N,F,I;for(N=_.children,S=0,C=N.length;S<C;S++)w=N[S],w.isLastRootNode=!1;for(_.children[_.children.length-1].isLastRootNode=!0,F=_.children,I=[],E=0,R=F.length;E<R;E++)if(w=F[E],!(w instanceof l))switch(!1){case!(w instanceof s):I.push(this.declaration(w));break;case!(w instanceof o):I.push(this.docType(w));break;case!(w instanceof e):I.push(this.comment(w));break;case!(w instanceof d):I.push(this.processingInstruction(w));break;default:I.push(this.element(w))}return I},x.prototype.attribute=function(_){return this.stream.write(" "+_.name+'="'+_.value+'"')},x.prototype.cdata=function(_,w){return this.stream.write(this.space(w)+"<![CDATA["+_.text+"]]>"+this.endline(_))},x.prototype.comment=function(_,w){return this.stream.write(this.space(w)+"<!-- "+_.text+" -->"+this.endline(_))},x.prototype.declaration=function(_,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+_.version+'"'),_.encoding!=null&&this.stream.write(' encoding="'+_.encoding+'"'),_.standalone!=null&&this.stream.write(' standalone="'+_.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(_))},x.prototype.docType=function(_,w){var S,E,C,R;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+_.root().name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(_)),R=_.children,E=0,C=R.length;E<C;E++)switch(S=R[E],!1){case!(S instanceof t):this.dtdAttList(S,w+1);break;case!(S instanceof n):this.dtdElement(S,w+1);break;case!(S instanceof i):this.dtdEntity(S,w+1);break;case!(S instanceof r):this.dtdNotation(S,w+1);break;case!(S instanceof u):this.cdata(S,w+1);break;case!(S instanceof e):this.comment(S,w+1);break;case!(S instanceof d):this.processingInstruction(S,w+1);break;default:throw new Error("Unknown DTD node type: "+S.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(_))},x.prototype.element=function(_,w){var S,E,C,R,N,F,I,q;w||(w=0),q=this.space(w),this.stream.write(q+"<"+_.name),F=_.attributes;for(N in F)y.call(F,N)&&(S=F[N],this.attribute(S));if(_.children.length===0||_.children.every(function(L){return L.value===""}))this.allowEmpty?this.stream.write("></"+_.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)this.stream.write(">"),this.stream.write(_.children[0].value),this.stream.write("</"+_.name+">");else{for(this.stream.write(">"+this.newline),I=_.children,C=0,R=I.length;C<R;C++)switch(E=I[C],!1){case!(E instanceof u):this.cdata(E,w+1);break;case!(E instanceof e):this.comment(E,w+1);break;case!(E instanceof h):this.element(E,w+1);break;case!(E instanceof p):this.raw(E,w+1);break;case!(E instanceof g):this.text(E,w+1);break;case!(E instanceof d):this.processingInstruction(E,w+1);break;case!(E instanceof l):break;default:throw new Error("Unknown XML node type: "+E.constructor.name)}this.stream.write(q+"</"+_.name+">")}return this.stream.write(this.endline(_))},x.prototype.processingInstruction=function(_,w){return this.stream.write(this.space(w)+"<?"+_.target),_.value&&this.stream.write(" "+_.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(_))},x.prototype.raw=function(_,w){return this.stream.write(this.space(w)+_.value+this.endline(_))},x.prototype.text=function(_,w){return this.stream.write(this.space(w)+_.value+this.endline(_))},x.prototype.dtdAttList=function(_,w){return this.stream.write(this.space(w)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType),_.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+_.defaultValueType),_.defaultValue&&this.stream.write(' "'+_.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.dtdElement=function(_,w){return this.stream.write(this.space(w)+"<!ELEMENT "+_.name+" "+_.value),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.dtdEntity=function(_,w){return this.stream.write(this.space(w)+"<!ENTITY"),_.pe&&this.stream.write(" %"),this.stream.write(" "+_.name),_.value?this.stream.write(' "'+_.value+'"'):(_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.nData&&this.stream.write(" NDATA "+_.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.dtdNotation=function(_,w){return this.stream.write(this.space(w)+"<!NOTATION "+_.name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.pubID?this.stream.write(' PUBLIC "'+_.pubID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},x.prototype.endline=function(_){return _.isLastRootNode?"":this.newline},x})(m)}).call($F)),Gh.exports}var Mx;function XF(){return Mx||(Mx=1,(function(){var u,e,t,n,i,r,s;s=Bs(),i=s.assign,r=s.isFunction,u=jF(),e=GF(),n=py(),t=VF(),ia.create=function(o,l,h,d){var p,g;if(o==null)throw new Error("Root element needs a name.");return d=i({},l,h,d),p=new u(d),g=p.element(o),d.headless||(p.declaration(d),(d.pubID!=null||d.sysID!=null)&&p.doctype(d)),g},ia.begin=function(o,l,h){var d;return r(o)&&(d=[o,l],l=d[0],h=d[1],o={}),l?new e(o,l,h):new u(o)},ia.stringWriter=function(o){return new n(o)},ia.streamWriter=function(o,l){return new t(o,l)}}).call(ia)),ia}var Lx;function YF(){if(Lx)return rm;Lx=1;var u=tn,e=XF();rm.writeString=t;function t(i,r){var s=u.invert(r),o={element:h,text:n};function l(g,m){return o[m.type](g,m)}function h(g,m){var v=g.element(d(m.name),m.attributes);m.children.forEach(function(y){l(v,y)})}function d(g){var m=/^\{(.*)\}(.*)$/.exec(g);if(m){var v=s[m[1]];return v+(v===""?"":":")+m[2]}else return g}function p(g){var m=e.create(d(g.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return u.forEach(r,function(v,y){var A="xmlns"+(y===""?"":":"+y);m.attribute(A,v)}),g.children.forEach(function(v){l(m,v)}),m.end()}return p(i)}function n(i,r){i.text(r.value)}return rm}var Nx;function gy(){if(Nx)return bs;Nx=1;var u=BE();return bs.Element=u.Element,bs.element=u.element,bs.emptyElement=u.emptyElement,bs.text=u.text,bs.readString=DF().readString,bs.writeString=YF().writeString,bs}var Ox;function KF(){if(Ox)return rh;Ox=1;var u=tn,e=Os(),t=gy();rh.read=i,rh.readXmlFromZipFile=r;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function i(l){return t.readString(l,n).then(function(h){return o(h)[0]})}function r(l,h){return l.exists(h)?l.read(h,"utf-8").then(s).then(i):e.resolve(null)}function s(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.firstOrEmpty("mc:Fallback").children:(l.children=u.flatten(l.children.map(o,!0)),[l]):[l]}return rh}var oh={},Ji={},ch={},Bx;function ZF(){if(Bx)return ch;Bx=1,Object.defineProperty(ch,"__esModule",{value:!0});var u=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return ch.default=u,ch}var Ix;function QF(){if(Ix)return Ji;Ix=1;var u=Ji&&Ji.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.hex=Ji.dec=Ji.codePoint=void 0;for(var e=u(ZF()),t={},n=String.fromCodePoint?String.fromCodePoint:g,i=0,r=e.default;i<r.length;i++){var s=r[i],o=parseInt(s["Unicode dec"],10),l={codePoint:o,string:n(o)};t[s["Typeface name"].toUpperCase()+"_"+s["Dingbat dec"]]=l}function h(m,v){return t[m.toUpperCase()+"_"+v]}Ji.codePoint=h;function d(m,v){return h(m,parseInt(v,10))}Ji.dec=d;function p(m,v){return h(m,parseInt(v,16))}Ji.hex=p;function g(m){if(m<=65535)return String.fromCharCode(m);var v=Math.floor((m-65536)/1024)+55296,y=(m-65536)%1024+56320;return String.fromCharCode(v,y)}return Ji}var ys={},Px;function zE(){if(Px)return ys;Px=1;var u=tn;ys.paragraph=e,ys.run=t,ys._elements=i,ys._elementsOfType=n,ys.getDescendantsOfType=r,ys.getDescendants=s;function e(l){return n("paragraph",l)}function t(l){return n("run",l)}function n(l,h){return i(function(d){return d.type===l?h(d):d})}function i(l){return function h(d){if(d.children){var p=u.map(d.children,h);d=u.extend(d,{children:p})}return l(d)}}function r(l,h){return s(l).filter(function(d){return d.type===h})}function s(l){var h=[];return o(l,function(d){h.push(d)}),h}function o(l,h){l.children&&l.children.forEach(function(d){o(d,h),h(d)})}return ys}var lh={},Wx;function JF(){if(Wx)return lh;Wx=1,lh.uriToZipEntryName=u,lh.replaceFragment=e;function u(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var i=t.indexOf("#");return i!==-1&&(t=t.substring(0,i)),t+"#"+n}return lh}var zx;function eM(){if(zx)return oh;zx=1,oh.createBodyReader=l,oh._readNumberingProperties=d;var u=QF(),e=tn,t=Ea(),n=Vr().Result,i=Vr().warning,r=gy(),s=zE(),o=JF();function l(E){return{readXmlElement:function(C){return new h(E).readXmlElement(C)},readXmlElements:function(C){return new h(E).readXmlElements(C)}}}function h(E){var C=[],R=[],N=[],F=E.relationships,I=E.contentTypes,q=E.docxFile,L=E.files,H=E.numbering,k=E.styles;function Z(he){var we=he.map(M);return _(we)}function M(he){if(he.type==="element"){var we=Y[he.name];if(we)return we(he);if(!Object.prototype.hasOwnProperty.call(g,he.name)){var Le=i("An unrecognised element was ignored: "+he.name);return m([Le])}}return v()}function O(he){return se(he).map(function(we){return{type:"paragraphProperties",styleId:we.styleId,styleName:we.name,alignment:he.firstOrEmpty("w:jc").attributes["w:val"],numbering:d(we.styleId,he.firstOrEmpty("w:numPr"),H),indent:K(he.firstOrEmpty("w:ind"))}})}function K(he){return{start:he.attributes["w:start"]||he.attributes["w:left"],end:he.attributes["w:end"]||he.attributes["w:right"],firstLine:he.attributes["w:firstLine"],hanging:he.attributes["w:hanging"]}}function Q(he){return le(he).map(function(we){var Le=he.firstOrEmpty("w:sz").attributes["w:val"],qe=/^[0-9]+$/.test(Le)?parseInt(Le,10)/2:null;return{type:"runProperties",styleId:we.styleId,styleName:we.name,verticalAlignment:he.firstOrEmpty("w:vertAlign").attributes["w:val"],font:he.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:qe,isBold:P(he.first("w:b")),isUnderline:z(he.first("w:u")),isItalic:P(he.first("w:i")),isStrikethrough:P(he.first("w:strike")),isAllCaps:P(he.first("w:caps")),isSmallCaps:P(he.first("w:smallCaps")),highlight:$(he.firstOrEmpty("w:highlight").attributes["w:val"])}})}function z(he){if(he){var we=he.attributes["w:val"];return we!==void 0&&we!=="false"&&we!=="0"&&we!=="none"}else return!1}function P(he){if(he){var we=he.attributes["w:val"];return we!=="false"&&we!=="0"}else return!1}function V(he){return he!=="false"&&he!=="0"}function $(he){return!he||he==="none"?null:he}function se(he){return ve(he,"w:pStyle","Paragraph",k.findParagraphStyleById)}function le(he){return ve(he,"w:rStyle","Run",k.findCharacterStyleById)}function ye(he){return ve(he,"w:tblStyle","Table",k.findTableStyleById)}function ve(he,we,Le,qe){var Xe=[],lt=he.first(we),Dt=null,An=null;if(lt&&(Dt=lt.attributes["w:val"],Dt)){var di=qe(Dt);di?An=di.name:Xe.push(ot(Le,Dt))}return A({styleId:Dt,name:An},Xe)}function Ee(he){var we=he.attributes["w:fldCharType"];if(we==="begin")C.push({type:"begin",fldChar:he}),R=[];else if(we==="end"){var Le=C.pop();if(Le.type==="begin"&&(Le=Ue(Le)),Le.type==="checkbox")return y(t.checkbox({checked:Le.checked}))}else if(we==="separate"){var qe=C.pop(),Xe=Ue(qe);C.push(Xe)}return v()}function Fe(){var he=e.last(C.filter(function(we){return we.type==="hyperlink"}));return he?he.options:null}function Ue(he){return Oe(R.join(""),he.type==="begin"?he.fldChar:r.emptyElement)}function Oe(he,we){var Le=/\s*HYPERLINK "(.*)"/.exec(he);if(Le)return{type:"hyperlink",options:{href:Le[1]}};var qe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(he);if(qe)return{type:"hyperlink",options:{anchor:qe[1]}};var Xe=/\s*FORMCHECKBOX\s*/.exec(he);if(Xe){var lt=we.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),Dt=lt.first("w:checked"),An=Dt==null?P(lt.first("w:default")):P(Dt);return{type:"checkbox",checked:An}}return{type:"unknown"}}function Ve(he){return R.push(he.text()),v()}function Be(he){var we=he.attributes["w:font"],Le=he.attributes["w:char"],qe=u.hex(we,Le);return qe==null&&/^F0..$/.test(Le)&&(qe=u.hex(we,Le.substring(2))),qe==null?m([i("A w:sym element with an unsupported character was ignored: char "+Le+" in font "+we)]):y(new t.Text(qe.string))}function U(he){return function(we){var Le=we.attributes["w:id"];return y(new t.NoteReference({noteType:he,noteId:Le}))}}function ae(he){return y(t.commentReference({commentId:he.attributes["w:id"]}))}function ee(he){return Z(he.children)}var Y={"w:p":function(he){var we=he.firstOrEmpty("w:pPr"),Le=!!we.firstOrEmpty("w:rPr").first("w:del");if(Le)return he.children.forEach(function(Xe){N.push(Xe)}),v();var qe=he.children;return N.length>0&&(qe=N.concat(qe),N=[]),x.map(O(we),Z(qe),function(Xe,lt){return new t.Paragraph(lt,Xe)}).insertExtra()},"w:r":function(he){return x.map(Q(he.firstOrEmpty("w:rPr")),Z(he.children),function(we,Le){var qe=Fe();return qe!==null&&(Le=[new t.Hyperlink(Le,qe)]),new t.Run(Le,we)})},"w:fldChar":Ee,"w:instrText":Ve,"w:t":function(he){return y(new t.Text(he.text()))},"w:tab":function(he){return y(new t.Tab)},"w:noBreakHyphen":function(){return y(new t.Text("‑"))},"w:softHyphen":function(he){return y(new t.Text("­"))},"w:sym":Be,"w:hyperlink":function(he){var we=he.attributes["r:id"],Le=he.attributes["w:anchor"];return Z(he.children).map(function(qe){function Xe(Dt){var An=he.attributes["w:tgtFrame"]||null;return new t.Hyperlink(qe,e.extend({targetFrame:An},Dt))}if(we){var lt=F.findTargetByRelationshipId(we);return Le&&(lt=o.replaceFragment(lt,Le)),Xe({href:lt})}else return Le?Xe({anchor:Le}):qe})},"w:tbl":X,"w:tr":De,"w:tc":_e,"w:footnoteReference":U("footnote"),"w:endnoteReference":U("endnote"),"w:commentReference":ae,"w:br":function(he){var we=he.attributes["w:type"];return we==null||we==="textWrapping"?y(t.lineBreak):we==="page"?y(t.pageBreak):we==="column"?y(t.columnBreak):m([i("Unsupported break type: "+we)])},"w:bookmarkStart":function(he){var we=he.attributes["w:name"];return we==="_GoBack"?v():y(new t.BookmarkStart({name:we}))},"mc:AlternateContent":function(he){return ee(he.firstOrEmpty("mc:Fallback"))},"w:sdt":function(he){var we=Z(he.firstOrEmpty("w:sdtContent").children);return we.map(function(Le){var qe=he.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(qe){var Xe=qe.first("wordml:checked"),lt=!!Xe&&V(Xe.attributes["wordml:val"]),Dt=t.checkbox({checked:lt}),An=!1,di=Le.map(s._elementsOfType(t.types.text,function(Ti){return Ti.value.length>0&&!An?(An=!0,Dt):Ti}));return An?di:Dt}else return Le})},"w:ins":ee,"w:object":ee,"w:smartTag":ee,"w:drawing":ee,"w:pict":function(he){return ee(he).toExtra()},"v:roundrect":ee,"v:shape":ee,"v:textbox":ee,"w:txbxContent":ee,"wp:inline":re,"wp:anchor":re,"v:imagedata":Ne,"v:group":ee,"v:rect":ee};return{readXmlElement:M,readXmlElements:Z};function X(he){var we=ie(he.firstOrEmpty("w:tblPr"));return Z(he.children).flatMap(J).flatMap(function(Le){return we.map(function(qe){return t.Table(Le,qe)})})}function ie(he){return ye(he).map(function(we){return{styleId:we.styleId,styleName:we.name}})}function De(he){var we=he.firstOrEmpty("w:trPr"),Le=!!we.first("w:del");if(Le)return v();var qe=!!we.first("w:tblHeader");return Z(he.children).map(function(Xe){return t.TableRow(Xe,{isHeader:qe})})}function _e(he){return Z(he.children).map(function(we){var Le=he.firstOrEmpty("w:tcPr"),qe=Le.firstOrEmpty("w:gridSpan").attributes["w:val"],Xe=qe?parseInt(qe,10):1,lt=t.TableCell(we,{colSpan:Xe});return lt._vMerge=oe(Le),lt})}function oe(he){var we=he.first("w:vMerge");if(we){var Le=we.attributes["w:val"];return Le==="continue"||!Le}else return null}function J(he){var we=e.any(he,function(Xe){return Xe.type!==t.types.tableRow});if(we)return A(he,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Le=e.any(he,function(Xe){return e.any(Xe.children,function(lt){return lt.type!==t.types.tableCell})});if(Le)return A(he,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var qe={};return he.forEach(function(Xe){var lt=0;Xe.children.forEach(function(Dt){Dt._vMerge&&qe[lt]?qe[lt].rowSpan++:(qe[lt]=Dt,Dt._vMerge=!1),lt+=Dt.colSpan})}),he.forEach(function(Xe){Xe.children=Xe.children.filter(function(lt){return!lt._vMerge}),Xe.children.forEach(function(lt){delete lt._vMerge})}),y(he)}function re(he){var we=he.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return _(we.map(ue.bind(null,he)))}function ue(he,we){var Le=he.first("wp:docPr").attributes,qe=Ae(Le.descr)?Le.title:Le.descr,Xe=Re(we);return Xe===null?m([i("Could not find image file for a:blip element")]):je(Xe,qe)}function Ae(he){return he==null||/^\s*$/.test(he)}function Re(he){var we=he.attributes["r:embed"],Le=he.attributes["r:link"];if(we)return Ie(we);if(Le){var qe=F.findTargetByRelationshipId(Le);return{path:qe,read:L.read.bind(L,qe)}}else return null}function Ne(he){var we=he.attributes["r:id"];return we?je(Ie(we),he.attributes["o:title"]):m([i("A v:imagedata element without a relationship ID was ignored")])}function Ie(he){var we=o.uriToZipEntryName("word",F.findTargetByRelationshipId(he));return{path:we,read:q.read.bind(q,we)}}function je(he,we){var Le=I.findContentType(he.path),qe=t.Image({readImage:he.read,altText:we,contentType:Le}),Xe=p[Le]?[]:i("Image of type "+Le+" is unlikely to display in web browsers");return A(qe,Xe)}function ot(he,we){return i(he+" style with ID "+we+" was referenced but not defined in the document")}}function d(E,C,R){var N=C.firstOrEmpty("w:ilvl").attributes["w:val"],F=C.firstOrEmpty("w:numId").attributes["w:val"];if(N!==void 0&&F!==void 0)return R.findLevel(F,N);if(E!=null){var I=R.findLevelByParagraphStyleId(E);if(I!=null)return I}return null}var p={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},g={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function m(E){return new x(null,null,E)}function v(){return new x(null)}function y(E){return new x(E)}function A(E,C){return new x(E,null,C)}function x(E,C,R){this.value=E||[],this.extra=C||[],this._result=new n({element:this.value,extra:C},R),this.messages=this._result.messages}x.prototype.toExtra=function(){return new x(null,w(this.extra,this.value),this.messages)},x.prototype.insertExtra=function(){var E=this.extra;return E&&E.length?new x(w(this.value,E),null,this.messages):this},x.prototype.map=function(E){var C=this._result.map(function(R){return E(R.element)});return new x(C.value,this.extra,C.messages)},x.prototype.flatMap=function(E){var C=this._result.flatMap(function(R){return E(R.element)._result});return new x(C.value.element,w(this.extra,C.value.extra),C.messages)},x.map=function(E,C,R){return new x(R(E.value,C.value),w(E.extra,C.extra),E.messages.concat(C.messages))};function _(E){var C=n.combine(e.pluck(E,"_result"));return new x(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),S),C.messages)}function w(E,C){return e.flatten([E,C])}function S(E){return E}return oh}var sm={},Hx;function tM(){if(Hx)return sm;Hx=1,sm.DocumentXmlReader=t;var u=Ea(),e=Vr().Result;function t(n){var i=n.bodyReader;function r(s){var o=s.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(h){return new u.Document(h,{notes:n.notes,comments:n.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:r}}return sm}var Hc={},jx;function nM(){if(jx)return Hc;jx=1,Hc.readRelationships=u,Hc.defaultValue=new e([]),Hc.Relationships=e;function u(t){var n=[];return t.children.forEach(function(i){if(i.name==="relationships:Relationship"){var r={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};n.push(r)}}),new e(n)}function e(t){var n={};t.forEach(function(r){n[r.relationshipId]=r.target});var i={};return t.forEach(function(r){i[r.type]||(i[r.type]=[]),i[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return n[r]},findTargetsByType:function(r){return i[r]||[]}}}return Hc}var uh={},qx;function iM(){if(qx)return uh;qx=1,uh.readContentTypesFromXml=e;var u={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};uh.defaultContentTypes=t({},{});function e(n){var i={},r={};return n.children.forEach(function(s){if(s.name==="content-types:Default"&&(i[s.attributes.Extension]=s.attributes.ContentType),s.name==="content-types:Override"){var o=s.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),r[o]=s.attributes.ContentType}}),t(r,i)}function t(n,i){return{findContentType:function(r){var s=n[r];if(s)return s;var o=r.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var h=u[l.toLowerCase()];return h?"image/"+h:null}}}return uh}var jc={},Gx;function rM(){if(Gx)return jc;Gx=1;var u=tn;jc.readNumberingXml=t,jc.Numbering=e,jc.defaultNumbering=new e({},{});function e(s,o,l){var h=u.flatten(u.values(o).map(function(m){return u.values(m.levels)})),d=u.indexBy(h.filter(function(m){return m.paragraphStyleId!=null}),"paragraphStyleId");function p(m,v){var y=s[m];if(y){var A=o[y.abstractNumId];if(A){if(A.numStyleLink==null)return o[y.abstractNumId].levels[v];var x=l.findNumberingStyleById(A.numStyleLink);return p(x.numId,v)}else return null}else return null}function g(m){return d[m]||null}return{findLevel:p,findLevelByParagraphStyleId:g}}function t(s,o){if(!o||!o.styles)throw new Error("styles is missing");var l=n(s),h=r(s);return new e(h,l,o.styles)}function n(s){var o={};return s.getElementsByTagName("w:abstractNum").forEach(function(l){var h=l.attributes["w:abstractNumId"];o[h]=i(l)}),o}function i(s){var o={};s.getElementsByTagName("w:lvl").forEach(function(h){var d=h.attributes["w:ilvl"],p=h.firstOrEmpty("w:numFmt").attributes["w:val"],g=h.firstOrEmpty("w:pStyle").attributes["w:val"];o[d]={isOrdered:p!=="bullet",level:d,paragraphStyleId:g}});var l=s.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function r(s){var o={};return s.getElementsByTagName("w:num").forEach(function(l){var h=l.attributes["w:numId"],d=l.first("w:abstractNumId").attributes["w:val"];o[h]={abstractNumId:d}}),o}return jc}var qc={},$x;function sM(){if($x)return qc;$x=1,qc.readStylesXml=e,qc.Styles=u,qc.defaultStyles=new u({},{});function u(r,s,o,l){return{findParagraphStyleById:function(h){return r[h]},findCharacterStyleById:function(h){return s[h]},findTableStyleById:function(h){return o[h]},findNumberingStyleById:function(h){return l[h]}}}u.EMPTY=new u({},{},{},{});function e(r){var s={},o={},l={},h={},d={paragraph:s,character:o,table:l};return r.getElementsByTagName("w:style").forEach(function(p){var g=t(p);if(g.type==="numbering")h[g.styleId]=i(p);else{var m=d[g.type];m&&(m[g.styleId]=g)}}),new u(s,o,l,h)}function t(r){var s=r.attributes["w:type"],o=r.attributes["w:styleId"],l=n(r);return{type:s,styleId:o,name:l}}function n(r){var s=r.first("w:name");return s?s.attributes["w:val"]:null}function i(r){var s=r.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:s}}return qc}var fo={},Vx;function aM(){if(Vx)return fo;Vx=1;var u=Ea(),e=Vr().Result;fo.createFootnotesReader=t.bind(fo,"footnote"),fo.createEndnotesReader=t.bind(fo,"endnote");function t(n,i){function r(l){return e.combine(l.getElementsByTagName("w:"+n).filter(s).map(o))}function s(l){var h=l.attributes["w:type"];return h!=="continuationSeparator"&&h!=="separator"}function o(l){var h=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(d){return u.Note({noteType:n,noteId:h,body:d})})}return r}return fo}var am={},Xx;function oM(){if(Xx)return am;Xx=1;var u=Ea(),e=Vr().Result;function t(n){function i(s){return e.combine(s.getElementsByTagName("w:comment").map(r))}function r(s){var o=s.attributes["w:id"];function l(h){return(s.attributes[h]||"").trim()||null}return n.readXmlElements(s.children).map(function(h){return u.comment({commentId:o,body:h,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return am.createCommentsReader=t,am}var om={},Yx;function cM(){if(Yx)return om;Yx=1;var u=Os();om.Files=e;function e(){function t(n){return u.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return om}var Kx;function lM(){if(Kx)return eh;Kx=1,eh.read=v,eh._findPartPaths=y;var u=Os(),e=Ea(),t=Vr().Result,n=OE(),i=KF().readXmlFromZipFile,r=eM().createBodyReader,s=tM().DocumentXmlReader,o=nM(),l=iM(),h=rM(),d=sM(),p=aM(),g=oM(),m=cM().Files;function v(F,I){return I=I||{},u.props({contentTypes:E(F),partPaths:y(F),docxFile:F,files:I.path?m.relativeToFile(I.path):new m(null)}).also(function(q){return{styles:R(F,q.partPaths.styles)}}).also(function(q){return{numbering:C(F,q.partPaths.numbering,q.styles)}}).also(function(q){return{footnotes:w(q.partPaths.footnotes,q,function(L,H){return H?p.createFootnotesReader(L)(H):new t([])}),endnotes:w(q.partPaths.endnotes,q,function(L,H){return H?p.createEndnotesReader(L)(H):new t([])}),comments:w(q.partPaths.comments,q,function(L,H){return H?g.createCommentsReader(L)(H):new t([])})}}).also(function(q){return{notes:q.footnotes.flatMap(function(L){return q.endnotes.map(function(H){return new e.Notes(L.concat(H))})})}}).then(function(q){return w(q.partPaths.mainDocument,q,function(L,H){return q.notes.flatMap(function(k){return q.comments.flatMap(function(Z){var M=new s({bodyReader:L,notes:k,comments:Z});return M.convertXmlToDocument(H)})})})})}function y(F){return N(F).then(function(I){var q=A({docxFile:F,relationships:I,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!F.exists(q))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return _({filename:S(q),readElement:o.readRelationships,defaultValue:o.defaultValue})(F).then(function(L){function H(k){return A({docxFile:F,relationships:L,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+k,basePath:n.splitPath(q).dirname,fallbackPath:"word/"+k+".xml"})}return{mainDocument:q,comments:H("comments"),endnotes:H("endnotes"),footnotes:H("footnotes"),numbering:H("numbering"),styles:H("styles")}})})}function A(F){var I=F.docxFile,q=F.relationships,L=F.relationshipType,H=F.basePath,k=F.fallbackPath,Z=q.findTargetsByType(L),M=Z.map(function(K){return x(n.joinPath(H,K),"/")}),O=M.filter(function(K){return I.exists(K)});return O.length===0?k:O[0]}function x(F,I){return F.substring(0,I.length)===I?F.substring(I.length):F}function _(F){return function(I){return i(I,F.filename).then(function(q){return q?F.readElement(q):F.defaultValue})}}function w(F,I,q){var L=_({filename:S(F),readElement:o.readRelationships,defaultValue:o.defaultValue});return L(I.docxFile).then(function(H){var k=new r({relationships:H,contentTypes:I.contentTypes,docxFile:I.docxFile,numbering:I.numbering,styles:I.styles,files:I.files});return i(I.docxFile,F).then(function(Z){return q(k,Z)})})}function S(F){var I=n.splitPath(F);return n.joinPath(I.dirname,"_rels",I.basename+".rels")}var E=_({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function C(F,I,q){return _({filename:I,readElement:function(L){return h.readNumberingXml(L,{styles:q})},defaultValue:h.defaultNumbering})(F)}function R(F,I){return _({filename:I,readElement:d.readStylesXml,defaultValue:d.defaultStyles})(F)}var N=_({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return eh}var hh={},Zx;function uM(){if(Zx)return hh;Zx=1;var u=tn,e=Os(),t=gy();hh.writeStyleMap=s,hh.readStyleMap=d;var n="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",r="/"+i;function s(p,g){return p.write(i,g),o(p).then(function(){return l(p)})}function o(p){var g="word/_rels/document.xml.rels",m="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+m+"}Relationship";return p.read(g,"utf8").then(t.readString).then(function(y){var A=y.children;h(A,v,"Id",{Id:"rMammothStyleMap",Type:n,Target:r});var x={"":m};return p.write(g,t.writeString(y,x))})}function l(p){var g="[Content_Types].xml",m="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+m+"}Override";return p.read(g,"utf8").then(t.readString).then(function(y){var A=y.children;h(A,v,"PartName",{PartName:r,ContentType:"text/prs.mammoth.style-map"});var x={"":m};return p.write(g,t.writeString(y,x))})}function h(p,g,m,v){var y=u.find(p,function(A){return A.name===g&&A.attributes[m]===v[m]});y?y.attributes=v:p.push(t.element(g,v))}function d(p){return p.exists(i)?p.read(i,"utf8"):e.resolve(null)}return hh}var dh={},ra={},Ir={},vs={},Qx;function HE(){if(Qx)return vs;Qx=1;var u=jd();function e(l,h,d){return n(u.element(l,h,{fresh:!1}),d)}function t(l,h,d){var p=u.element(l,h,{fresh:!0});return n(p,d)}function n(l,h){return{type:"element",tag:l,children:h||[]}}function i(l){return{type:"text",value:l}}var r={type:"forceWrite"};vs.freshElement=t,vs.nonFreshElement=e,vs.elementWithTag=n,vs.text=i,vs.forceWrite=r;var s={br:!0,hr:!0,img:!0,input:!0};function o(l){return l.children.length===0&&s[l.tag.tagName]}return vs.isVoidElement=o,vs}var cm,Jx;function hM(){if(Jx)return cm;Jx=1;var u=tn,e=HE();function t(y){return n(h(y))}function n(y){var A=[];return y.map(i).forEach(function(x){l(A,x)}),A}function i(y){return r[y.type](y)}var r={element:s,text:o,forceWrite:o};function s(y){return e.elementWithTag(y.tag,n(y.children))}function o(y){return y}function l(y,A){var x=y[y.length-1];A.type==="element"&&!A.tag.fresh&&x&&x.type==="element"&&A.tag.matchesElement(x.tag)?(A.tag.separator&&l(x.children,e.text(A.tag.separator)),A.children.forEach(function(_){l(x.children,_)})):y.push(A)}function h(y){return d(y,function(A){return p[A.type](A)})}function d(y,A){return u.flatten(u.map(y,A),!0)}var p={element:m,text:v,forceWrite:g};function g(y){return[y]}function m(y){var A=h(y.children);return A.length===0&&!e.isVoidElement(y)?[]:[e.elementWithTag(y.tag,A)]}function v(y){return y.value.length===0?[]:[y]}return cm=t,cm}var e_;function Hd(){if(e_)return Ir;e_=1;var u=HE();Ir.freshElement=u.freshElement,Ir.nonFreshElement=u.nonFreshElement,Ir.elementWithTag=u.elementWithTag,Ir.text=u.text,Ir.forceWrite=u.forceWrite,Ir.simplify=hM();function e(s,o){o.forEach(function(l){t(s,l)})}function t(s,o){n[o.type](s,o)}var n={element:i,text:r,forceWrite:function(){}};function i(s,o){u.isVoidElement(o)?s.selfClosing(o.tag.tagName,o.tag.attributes):(s.open(o.tag.tagName,o.tag.attributes),e(s,o.children),s.close(o.tag.tagName))}function r(s,o){s.text(o.value)}return Ir.write=e,Ir}var t_;function jd(){if(t_)return ra;t_=1;var u=tn,e=Hd();ra.topLevelElement=t,ra.elements=n,ra.element=r;function t(o,l){return n([r(o,l,{fresh:!0})])}function n(o){return new i(o.map(function(l){return u.isString(l)?r(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var h=l(),d=this._elements.length-1;d>=0;d--)h=this._elements[d].wrapNodes(h);return h};function r(o,l,h){return h=h||{},new s(o,l,h)}function s(o,l,h){var d={};u.isArray(o)?(o.forEach(function(p){d[p]=!0}),o=o[0]):d[o]=!0,this.tagName=o,this.tagNames=d,this.attributes=l||{},this.fresh=h.fresh,this.separator=h.separator}return s.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&u.isEqual(this.attributes||{},o.attributes||{})},s.prototype.wrap=function(l){return this.wrapNodes(l())},s.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},ra.empty=n([]),ra.ignore={wrap:function(){return[]}},ra}var lm={},n_;function jE(){return n_||(n_=1,(function(u){var e=tn,t=Os(),n=Hd();u.imgElement=i;function i(r){return function(s,o){return t.when(r(s)).then(function(l){var h={};return s.altText&&(h.alt=s.altText),e.extend(h,l),[n.freshElement("img",h)]})}}u.inline=u.imgElement,u.dataUri=i(function(r){return r.readAsBase64String().then(function(s){return{src:"data:"+r.contentType+";base64,"+s}})})})(lm)),lm}var um={},hm={},i_;function dM(){if(i_)return hm;i_=1;var u=tn;hm.writer=e;function e(o){return o=o||{},o.prettyPrint?n():i()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var o=0,l="  ",h=[],d=!0,p=!1,g=i();function m(E,C){t[E]&&w(),h.push(E),g.open(E,C),t[E]&&o++,d=!1}function v(E){t[E]&&(o--,w()),h.pop(),g.close(E)}function y(E){_();var C=S()?E:E.replace(`
`,`
`+l);g.text(C)}function A(E,C){w(),g.selfClosing(E,C)}function x(){return h.length===0||t[h[h.length-1]]}function _(){p||(w(),p=!0)}function w(){if(p=!1,!d&&x()&&!S()){g._append(`
`);for(var E=0;E<o;E++)g._append(l)}}function S(){return u.some(h,function(E){return E==="pre"})}return{asString:g.asString,open:m,close:v,text:y,selfClosing:A}}function i(){var o=[];function l(y,A){var x=p(A);o.push("<"+y+x+">")}function h(y){o.push("</"+y+">")}function d(y,A){var x=p(A);o.push("<"+y+x+" />")}function p(y){return u.map(y,function(A,x){return" "+x+'="'+s(A)+'"'}).join("")}function g(y){o.push(r(y))}function m(y){o.push(y)}function v(){return o.join("")}return{asString:v,open:l,close:h,text:g,selfClosing:d,_append:m}}function r(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return hm}var dm={},r_;function fM(){if(r_)return dm;r_=1;var u=tn;function e(p){return t(p,p)}function t(p,g){return function(){return{start:p,end:g}}}function n(p){var g=p.href||"";return g?{start:"[",end:"]("+g+")",anchorPosition:"before"}:{}}function i(p){var g=p.src||"",m=p.alt||"";return g||m?{start:"!["+m+"]("+g+")"}:{}}function r(p){return function(g,m){return{start:m?`
`:"",end:m?"":`
`,list:{isOrdered:p.isOrdered,indent:m?m.indent+1:0,count:0}}}}function s(p,g,m){g=g||{indent:0,isOrdered:!1,count:0},g.count++,m.hasClosed=!1;var v=g.isOrdered?g.count+".":"-",y=l("	",g.indent)+v+" ";return{start:y,end:function(){if(!m.hasClosed)return m.hasClosed=!0,`
`}}}var o={p:t("",`

`),br:t("",`  
`),ul:r({isOrdered:!1}),ol:r({isOrdered:!0}),li:s,strong:e("__"),em:e("*"),a:n,img:i};(function(){for(var p=1;p<=6;p++)o["h"+p]=t(l("#",p)+" ",`

`)})();function l(p,g){return new Array(g+1).join(p)}function h(){var p=[],g=[],m=null,v={};function y(E,C){C=C||{};var R=o[E]||function(){return{}},N=R(C,m,v);g.push({end:N.end,list:m}),N.list&&(m=N.list);var F=N.anchorPosition==="before";F&&A(C),p.push(N.start||""),F||A(C)}function A(E){E.id&&p.push('<a id="'+E.id+'"></a>')}function x(E){var C=g.pop();m=C.list;var R=u.isFunction(C.end)?C.end():C.end;p.push(R||"")}function _(E,C){y(E,C),x()}function w(E){p.push(d(E))}function S(){return p.join("")}return{asString:S,open:y,close:x,text:w,selfClosing:_}}dm.writer=h;function d(p){return p.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return dm}var s_;function pM(){if(s_)return um;s_=1;var u=dM(),e=fM();um.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():u.writer(n)}return um}var a_;function gM(){if(a_)return dh;a_=1;var u=tn,e=Os(),t=Ea(),n=jd(),i=Vr(),r=jE(),s=Hd(),o=pM();dh.DocumentConverter=l;function l(A){return{convertToHtml:function(x){var _=u.indexBy(x.type===t.types.document?x.comments:[],"commentId"),w=new h(A,_);return w.convertToHtml(x)}}}function h(A,x){var _=1,w=[],S=[];A=u.extend({ignoreEmptyParagraphs:!0},A);var E=A.idPrefix===void 0?"":A.idPrefix,C=A.ignoreEmptyParagraphs,R=n.topLevelElement("p"),N=A.styleMap||[];function F(U){var ae=[],ee=q(U,ae,{}),Y=[];v(ee,function(ie){ie.type==="deferred"&&Y.push(ie)});var X={};return e.mapSeries(Y,function(ie){return ie.value().then(function(De){X[ie.id]=De})}).then(function(){function ie(_e){return m(_e,function(oe){return oe.type==="deferred"?X[oe.id]:oe.children?[u.extend({},oe,{children:ie(oe.children)})]:[oe]})}var De=o.writer({prettyPrint:A.prettyPrint,outputFormat:A.outputFormat});return s.write(De,s.simplify(ie(ee))),new i.Result(De.asString(),ae)})}function I(U,ae,ee){return m(U,function(Y){return q(Y,ae,ee)})}function q(U,ae,ee){if(!ee)throw new Error("options not set");var Y=Be[U.type];return Y?Y(U,ae,ee):[]}function L(U,ae,ee){return H(U,ae).wrap(function(){var Y=I(U.children,ae,ee);return C?Y:[s.forceWrite].concat(Y)})}function H(U,ae){var ee=O(U);return ee?ee.to:(U.styleId&&ae.push(g("paragraph",U)),R)}function k(U,ae,ee){var Y=function(){return I(U.children,ae,ee)},X=[];if(U.highlight!==null){var ie=M({type:"highlight",color:U.highlight});ie&&X.push(ie)}U.isSmallCaps&&X.push(Z("smallCaps")),U.isAllCaps&&X.push(Z("allCaps")),U.isStrikethrough&&X.push(Z("strikethrough","s")),U.isUnderline&&X.push(Z("underline")),U.verticalAlignment===t.verticalAlignment.subscript&&X.push(n.element("sub",{},{fresh:!1})),U.verticalAlignment===t.verticalAlignment.superscript&&X.push(n.element("sup",{},{fresh:!1})),U.isItalic&&X.push(Z("italic","em")),U.isBold&&X.push(Z("bold","strong"));var De=n.empty,_e=O(U);return _e?De=_e.to:U.styleId&&ae.push(g("run",U)),X.push(De),X.forEach(function(oe){Y=oe.wrap.bind(oe,Y)}),Y()}function Z(U,ae){var ee=M({type:U});return ee||(ae?n.element(ae,{},{fresh:!1}):n.empty)}function M(U,ae){var ee=O(U);return ee?ee.to:ae}function O(U){for(var ae=0;ae<N.length;ae++)if(N[ae].from.matches(U))return N[ae]}function K(U){return function(ae,ee){return e.attempt(function(){return U(ae,ee)}).caught(function(Y){return ee.push(i.error(Y)),[]})}}function Q(U){return P(U.noteType,U.noteId)}function z(U){return V(U.noteType,U.noteId)}function P(U,ae){return $(U+"-"+ae)}function V(U,ae){return $(U+"-ref-"+ae)}function $(U){return E+U}var se=n.elements([n.element("table",{},{fresh:!0})]);function le(U,ae,ee){return M(U,se).wrap(function(){return ye(U,ae,ee)})}function ye(U,ae,ee){var Y=u.findIndex(U.children,function(_e){return!_e.type===t.types.tableRow||!_e.isHeader});Y===-1&&(Y=U.children.length);var X;if(Y===0)X=I(U.children,ae,u.extend({},ee,{isTableHeader:!1}));else{var ie=I(U.children.slice(0,Y),ae,u.extend({},ee,{isTableHeader:!0})),De=I(U.children.slice(Y),ae,u.extend({},ee,{isTableHeader:!1}));X=[s.freshElement("thead",{},ie),s.freshElement("tbody",{},De)]}return[s.forceWrite].concat(X)}function ve(U,ae,ee){var Y=I(U.children,ae,ee);return[s.freshElement("tr",{},[s.forceWrite].concat(Y))]}function Ee(U,ae,ee){var Y=ee.isTableHeader?"th":"td",X=I(U.children,ae,ee),ie={};return U.colSpan!==1&&(ie.colspan=U.colSpan.toString()),U.rowSpan!==1&&(ie.rowspan=U.rowSpan.toString()),[s.freshElement(Y,ie,[s.forceWrite].concat(X))]}function Fe(U,ae,ee){return M(U,n.ignore).wrap(function(){var Y=x[U.commentId],X=S.length+1,ie="["+y(Y)+X+"]";return S.push({label:ie,comment:Y}),[s.freshElement("a",{href:"#"+P("comment",U.commentId),id:V("comment",U.commentId)},[s.text(ie)])]})}function Ue(U,ae,ee){var Y=U.label,X=U.comment,ie=I(X.body,ae,ee).concat([s.nonFreshElement("p",{},[s.text(" "),s.freshElement("a",{href:"#"+V("comment",X.commentId)},[s.text("↑")])])]);return[s.freshElement("dt",{id:P("comment",X.commentId)},[s.text("Comment "+Y)]),s.freshElement("dd",{},ie)]}function Oe(U,ae,ee){return Ve(U).wrap(function(){return[]})}function Ve(U){var ae=O(U);return ae?ae.to:U.breakType==="line"?n.topLevelElement("br"):n.empty}var Be={document:function(U,ae,ee){var Y=I(U.children,ae,ee),X=w.map(function(De){return U.notes.resolve(De)}),ie=I(X,ae,ee);return Y.concat([s.freshElement("ol",{},ie),s.freshElement("dl",{},m(S,function(De){return Ue(De,ae,ee)}))])},paragraph:L,run:k,text:function(U,ae,ee){return[s.text(U.value)]},tab:function(U,ae,ee){return[s.text("	")]},hyperlink:function(U,ae,ee){var Y=U.anchor?"#"+$(U.anchor):U.href,X={href:Y};U.targetFrame!=null&&(X.target=U.targetFrame);var ie=I(U.children,ae,ee);return[s.nonFreshElement("a",X,ie)]},checkbox:function(U){var ae={type:"checkbox"};return U.checked&&(ae.checked="checked"),[s.freshElement("input",ae)]},bookmarkStart:function(U,ae,ee){var Y=s.freshElement("a",{id:$(U.name)},[s.forceWrite]);return[Y]},noteReference:function(U,ae,ee){w.push(U);var Y=s.freshElement("a",{href:"#"+Q(U),id:z(U)},[s.text("["+_+++"]")]);return[s.freshElement("sup",{},[Y])]},note:function(U,ae,ee){var Y=I(U.body,ae,ee),X=s.elementWithTag(n.element("p",{},{fresh:!1}),[s.text(" "),s.freshElement("a",{href:"#"+z(U)},[s.text("↑")])]),ie=Y.concat([X]);return s.freshElement("li",{id:Q(U)},ie)},commentReference:Fe,comment:Ue,image:p(K(A.convertImage||r.dataUri)),table:le,tableRow:ve,tableCell:Ee,break:Oe};return{convertToHtml:F}}var d=1;function p(A){return function(x,_,w){return[{type:"deferred",id:d++,value:function(){return A(x,_,w)}}]}}function g(A,x){return i.warning("Unrecognised "+A+" style: '"+x.styleName+"' (Style ID: "+x.styleId+")")}function m(A,x){return u.flatten(A.map(x),!0)}function v(A,x){A.forEach(function(_){x(_),_.children&&v(_.children,x)})}var y=dh.commentAuthorLabel=function(x){return x.authorInitials||""};return dh}var fm={},o_;function mM(){if(o_)return fm;o_=1;var u=Ea();function e(t){if(t.type==="text")return t.value;if(t.type===u.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return fm.convertElementToRawText=e,fm}var Gc={},er={},pm={},gm={exports:{}},c_;function bM(){if(c_)return gm.exports;c_=1;var u=gm.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return u.prototype.head=function(){return this._tokens[this._startIndex]},u.prototype.tail=function(e){return new u(this._tokens,this._startIndex+1)},u.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},u.prototype.end=function(){return this._tokens[this._tokens.length-1]},u.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},gm.exports}var l_;function yM(){if(l_)return pm;l_=1;var u=bM();return pm.Parser=function(e){var t=function(n,i){return n(new u(i))};return{parseTokens:t}},pm}var mm={},bm={},u_;function vM(){return u_||(u_=1,(function(u){u.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return u.none},flatMap:function(){return u.none},filter:function(){return u.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}u.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:u.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},u.isOption=function(n){return n===u.none||n instanceof t},u.fromNullable=function(n){return n==null?u.none:new t(n)}})(bm)),bm}var ym,h_;function my(){if(h_)return ym;h_=1,ym={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new u({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new u({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new u({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new u({status:"cut",remaining:e,errors:[]})}};var u=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return u.prototype.map=function(e){return this._hasValue?new u({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},u.prototype.changeRemaining=function(e){return new u({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},u.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},u.prototype.isFailure=function(){return this._status==="failure"},u.prototype.isError=function(){return this._status==="error"},u.prototype.isCut=function(){return this._status==="cut"},u.prototype.value=function(){return this._value},u.prototype.remaining=function(){return this._remaining},u.prototype.source=function(){return this._source},u.prototype.errors=function(){return this._errors},ym}var vm={},d_;function qE(){if(d_)return vm;d_=1,vm.error=function(e){return new u(e)};var u=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return u.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},u.prototype.lineNumber=function(){return this._location.lineNumber()},u.prototype.characterNumber=function(){return this._location.characterNumber()},vm}var Am={},f_;function AM(){if(f_)return Am;f_=1,Am.fromArray=function(e){var t=0,n=function(){return t<e.length};return new u({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var u=function(e){this._iterator=e};return u.prototype.map=function(e){var t=this._iterator;return new u({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},u.prototype.filter=function(e){var t=this._iterator,n=!1,i=!1,r,s=function(){if(!n)for(n=!0,i=!1;t.hasNext()&&!i;)r=t.next(),i=e(r)};return new u({hasNext:function(){return s(),i},next:function(){s();var o=r;return n=!1,o}})},u.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},u.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},Am}var p_;function GE(){return p_||(p_=1,(function(u){var e=tn,t=vM(),n=my(),i=qE(),r=AM();u.token=function(g,m){var v=m!==void 0;return function(y){var A=y.head();if(A&&A.name===g&&(!v||A.value===m))return n.success(A.value,y.tail(),A.source);var x=d({name:g,value:m});return p(y,x)}},u.tokenOfType=function(g){return u.token(g)},u.firstOf=function(g,m){return e.isArray(m)||(m=Array.prototype.slice.call(arguments,1)),function(v){return r.fromArray(m).map(function(y){return y(v)}).filter(function(y){return y.isSuccess()||y.isError()}).first()||p(v,g)}},u.then=function(g,m){return function(v){var y=g(v);return y.map||console.log(y),y.map(m)}},u.sequence=function(){var g=Array.prototype.slice.call(arguments,0),m=function(y){var A=e.foldl(g,function(_,w){var S=_.result,E=_.hasCut;if(!S.isSuccess())return{result:S,hasCut:E};var C=w(S.remaining());if(C.isCut())return{result:S,hasCut:!0};if(C.isSuccess()){var R;w.isCaptured?R=S.value().withValue(w,C.value()):R=S.value();var N=C.remaining(),F=y.to(N);return{result:n.success(R,N,F),hasCut:E}}else return E?{result:n.error(C.errors(),C.remaining()),hasCut:E}:{result:C,hasCut:E}},{result:n.success(new s,y),hasCut:!1}).result,x=y.to(A.remaining());return A.map(function(_){return _.withValue(u.sequence.source,x)})};m.head=function(){var y=e.find(g,v);return u.then(m,u.sequence.extract(y))},m.map=function(y){return u.then(m,function(A){return y.apply(this,A.toArray())})};function v(y){return y.isCaptured}return m};var s=function(g,m){this._values=g||{},this._valuesArray=m||[]};s.prototype.withValue=function(g,m){if(g.captureName&&g.captureName in this._values)throw new Error('Cannot add second value for capture "'+g.captureName+'"');var v=e.clone(this._values);v[g.captureName]=m;var y=this._valuesArray.concat([m]);return new s(v,y)},s.prototype.get=function(g){if(g.captureName in this._values)return this._values[g.captureName];throw new Error('No value for capture "'+g.captureName+'"')},s.prototype.toArray=function(){return this._valuesArray},u.sequence.capture=function(g,m){var v=function(){return g.apply(this,arguments)};return v.captureName=m,v.isCaptured=!0,v},u.sequence.extract=function(g){return function(m){return m.get(g)}},u.sequence.applyValues=function(g){var m=Array.prototype.slice.call(arguments,1);return function(v){var y=m.map(function(A){return v.get(A)});return g.apply(this,y)}},u.sequence.source={captureName:"☃source☃"},u.sequence.cut=function(){return function(g){return n.cut(g)}},u.optional=function(g){return function(m){var v=g(m);return v.isSuccess()?v.map(t.some):v.isFailure()?n.success(t.none,m):v}},u.zeroOrMoreWithSeparator=function(g,m){return h(g,m,!1)},u.oneOrMoreWithSeparator=function(g,m){return h(g,m,!0)};var o=u.zeroOrMore=function(g){return function(m){for(var v=[],y;(y=g(m))&&y.isSuccess();)m=y.remaining(),v.push(y.value());return y.isError()?y:n.success(v,m)}};u.oneOrMore=function(g){return u.oneOrMoreWithSeparator(g,l)};function l(g){return n.success(null,g)}var h=function(g,m,v){return function(y){var A=g(y);if(A.isSuccess()){var x=u.sequence.capture(g,"main"),_=o(u.then(u.sequence(m,x),u.sequence.extract(x))),w=_(A.remaining());return n.success([A.value()].concat(w.value()),w.remaining())}else return v||A.isError()?A:n.success([],y)}};u.leftAssociative=function(g,m,v){var y;v?y=[{func:v,rule:m}]:y=m,y=y.map(function(x){return u.then(x.rule,function(_){return function(w,S){return x.func(w,_,S)}})});var A=u.firstOf.apply(null,["rules"].concat(y));return function(x){var _=x,w=g(x);if(!w.isSuccess())return w;for(var S=A(w.remaining());S.isSuccess();){var E=S.remaining(),C=_.to(S.remaining()),R=S.value();w=n.success(R(w.value(),C),E,C),S=A(w.remaining())}return S.isError()?S:w}},u.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},u.nonConsuming=function(g){return function(m){return g(m).changeRemaining(m)}};var d=function(g){return g.value?g.name+' "'+g.value+'"':g.name};function p(g,m){var v,y=g.head();return y?v=i.error({expected:m,actual:d(y),location:y.source}):v=i.error({expected:m,actual:"end of tokens"}),n.failure([v],g)}})(mm)),mm}var xm={exports:{}},g_;function $E(){if(g_)return xm.exports;g_=1,xm.exports=function(e,t){var n={asString:function(){return e},range:function(i,r){return new u(e,t,i,r)}};return n};var u=function(e,t,n,i){this._string=e,this._description=t,this._startIndex=n,this._endIndex=i};return u.prototype.to=function(e){return new u(this._string,this._description,this._startIndex,e._endIndex)},u.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},u.prototype.lineNumber=function(){return this._position().lineNumber},u.prototype.characterNumber=function(){return this._position().characterNumber},u.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},i=1;n()!==-1&&n()<this._startIndex;)t=n()+1,i+=1;var r=this._startIndex-t+1;return{lineNumber:i,characterNumber:r}},xm.exports}var _m,m_;function VE(){return m_||(m_=1,_m=function(u,e,t){this.name=u,this.value=e,t&&(this.source=t)}),_m}var Dm={},b_;function xM(){return b_||(b_=1,(function(u){var e=GE(),t=my();u.parser=function(r,s,o){var l={rule:g,leftAssociative:m,rightAssociative:v},h=new n(o.map(p)),d=e.firstOf(r,s);function p(x){return{name:x.name,rule:i(x.ruleBuilder.bind(null,l))}}function g(){return y(h)}function m(x){return y(h.untilExclusive(x))}function v(x){return y(h.untilInclusive(x))}function y(x){return A.bind(null,x)}function A(x,_){var w=d(_);return w.isSuccess()?x.apply(w):w}return l};function n(r){function s(p){return new n(r.slice(0,l().indexOf(p)))}function o(p){return new n(r.slice(0,l().indexOf(p)+1))}function l(){return r.map(function(p){return p.name})}function h(p){for(var g,m;;)if(g=d(p.remaining()),g.isSuccess())m=p.source().to(g.source()),p=t.success(g.value()(p.value(),m),g.remaining(),m);else return g.isFailure()?p:g}function d(p){return e.firstOf("infix",r.map(function(g){return g.rule}))(p)}return{apply:h,untilExclusive:s,untilInclusive:o}}u.infix=function(r,s){function o(l){return u.infix(r,function(h){var d=s(h);return function(p){var g=d(p);return g.map(function(m){return function(v,y){return l(v,m,y)}})}})}return{name:r,ruleBuilder:s,map:o}};var i=function(r){var s;return function(o){return s||(s=r()),s(o)}}})(Dm)),Dm}var wm={},y_;function _M(){if(y_)return wm;y_=1;var u=VE(),e=$E();wm.RegexTokeniser=t;function t(n){n=n.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var h=new e(o,l),d=0,p=[];d<o.length;){var g=r(o,d,h);d=g.endIndex,p.push(g.token)}return p.push(s(o,h)),p}function r(o,l,h){for(var d=0;d<n.length;d++){var p=n[d].regex;p.lastIndex=l;var g=p.exec(o);if(g){var v=l+g[0].length;if(g.index===l&&v>l){var m=g[1],y=new u(n[d].name,m,h.range(l,v));return{token:y,endIndex:v}}}}var v=l+1,y=new u("unrecognisedCharacter",o.substring(l,v),h.range(l,v));return{token:y,endIndex:v}}function s(o,l){return new u("end",null,l.range(o.length,o.length))}return{tokenise:i}}return wm}var v_;function XE(){return v_||(v_=1,er.Parser=yM().Parser,er.rules=GE(),er.errors=qE(),er.results=my(),er.StringSource=$E(),er.Token=VE(),er.bottomUp=xM(),er.RegexTokeniser=_M().RegexTokeniser,er.rule=function(u){var e;return function(t){return e||(e=u()),e(t)}}),er}var En={},A_;function DM(){if(A_)return En;A_=1,En.paragraph=u,En.run=e,En.table=t,En.bold=new i("bold"),En.italic=new i("italic"),En.underline=new i("underline"),En.strikethrough=new i("strikethrough"),En.allCaps=new i("allCaps"),En.smallCaps=new i("smallCaps"),En.highlight=n,En.commentReference=new i("commentReference"),En.lineBreak=new s({breakType:"line"}),En.pageBreak=new s({breakType:"page"}),En.columnBreak=new s({breakType:"column"}),En.equalTo=l,En.startsWith=h;function u(g){return new i("paragraph",g)}function e(g){return new i("run",g)}function t(g){return new i("table",g)}function n(g){return new r(g)}function i(g,m){m=m||{},this._elementType=g,this._styleId=m.styleId,this._styleName=m.styleName,m.list&&(this._listIndex=m.list.levelIndex,this._listIsOrdered=m.list.isOrdered)}i.prototype.matches=function(g){return g.type===this._elementType&&(this._styleId===void 0||g.styleId===this._styleId)&&(this._styleName===void 0||g.styleName&&this._styleName.operator(this._styleName.operand,g.styleName))&&(this._listIndex===void 0||o(g,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===g.breakType)};function r(g){g=g||{},this._color=g.color}r.prototype.matches=function(g){return g.type==="highlight"&&(this._color===void 0||g.color===this._color)};function s(g){g=g||{},this._breakType=g.breakType}s.prototype.matches=function(g){return g.type==="break"&&(this._breakType===void 0||g.breakType===this._breakType)};function o(g,m,v){return g.numbering&&g.numbering.level==m&&g.numbering.isOrdered==v}function l(g){return{operator:d,operand:g}}function h(g){return{operator:p,operand:g}}function d(g,m){return g.toUpperCase()===m.toUpperCase()}function p(g,m){return m.toUpperCase().indexOf(g.toUpperCase())===0}return En}var Em={},x_;function wM(){if(x_)return Em;x_=1;var u=XE(),e=u.RegexTokeniser;Em.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(i){var r="(?:[a-zA-Z\\-_]|\\\\.)",s=new e([{name:"identifier",regex:new RegExp("("+r+"(?:"+r+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return s.tokenise(i)}return Em}var __;function EM(){if(__)return Gc;__=1;var u=tn,e=XE(),t=DM(),n=jd(),i=wM().tokenise,r=Vr();Gc.readHtmlPath=d,Gc.readDocumentMatcher=l,Gc.readStyle=s;function s(N){return S(R,N)}function o(){return e.rules.sequence(e.rules.sequence.capture(h()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(p())).head())),e.rules.tokenOfType("end")).map(function(N,F){return{from:N,to:F.valueOrElse(n.empty)}})}function l(N){return S(h(),N)}function h(){var N=e.rules.sequence,F=function(Ue,Oe){return e.rules.then(e.rules.token("identifier",Ue),function(){return Oe})},I=F("p",t.paragraph),q=F("r",t.run),L=e.rules.firstOf("p or r or table",I,q),H=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(g)).map(function(Ue){return{styleId:Ue}}),k=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Ue){return{styleName:t.equalTo(Ue)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Ue){return{styleName:t.startsWith(Ue)}})),Z=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(k),e.rules.tokenOfType("close-square-bracket")).head(),M=e.rules.firstOf("list type",F("ordered-list",{isOrdered:!0}),F("unordered-list",{isOrdered:!1})),O=N(e.rules.tokenOfType("colon"),N.capture(M),N.cut(),e.rules.tokenOfType("open-paren"),N.capture(m),e.rules.tokenOfType("close-paren")).map(function(Ue,Oe){return{list:{isOrdered:Ue.isOrdered,levelIndex:Oe-1}}});function K(Ue){var Oe=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(Ue)),Ve=e.rules.zeroOrMore(Oe);return e.rules.then(Ve,function(Be){var U={};return Be.forEach(function(ae){u.extend(U,ae)}),U})}var Q=N(N.capture(L),N.capture(K([H,Z,O]))).map(function(Ue,Oe){return Ue(Oe)}),z=N(e.rules.token("identifier","table"),N.capture(K([H,Z]))).map(function(Ue){return t.table(Ue)}),P=F("b",t.bold),V=F("i",t.italic),$=F("u",t.underline),se=F("strike",t.strikethrough),le=F("all-caps",t.allCaps),ye=F("small-caps",t.smallCaps),ve=N(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(Ue){return t.highlight({color:Ue.valueOrElse(void 0)})}),Ee=F("comment-reference",t.commentReference),Fe=N(e.rules.token("identifier","br"),N.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),N.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(Ue){switch(Ue){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",Q,z,P,V,$,se,le,ye,ve,Ee,Fe)}function d(N){return S(p(),N)}function p(){var N=e.rules.sequence.capture,F=e.rules.tokenOfType("whitespace"),I=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(k){return k.map(function(){return!0}).valueOrElse(!1)}),q=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),N(v),e.rules.tokenOfType("close-paren")).head()),function(k){return k.valueOrElse("")}),L=e.rules.oneOrMoreWithSeparator(g,e.rules.tokenOfType("choice")),H=e.rules.sequence(N(L),N(e.rules.zeroOrMore(w)),N(I),N(q)).map(function(k,Z,M,O){var K={},Q={};return Z.forEach(function(z){z.append&&K[z.name]?K[z.name]+=" "+z.value:K[z.name]=z.value}),M&&(Q.fresh=!0),O&&(Q.separator=O),n.element(k,K,Q)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(H,e.rules.sequence(F,e.rules.tokenOfType("gt"),F)),n.elements))}var g=e.rules.then(e.rules.tokenOfType("identifier"),A),m=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),A),y={n:`
`,r:"\r",t:"	"};function A(N){return N.replace(/\\(.)/g,function(F,I){return y[I]||I})}var x=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(g),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(N,F){return{name:N,value:F,append:!1}}),_=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(g)).map(function(N){return{name:"class",value:N,append:!0}}),w=e.rules.firstOf("attribute or class",x,_);function S(N,F){var I=i(F),q=e.Parser(),L=q.parseTokens(N,I);return L.isSuccess()?r.success(L.value()):new r.Result(null,[r.warning(E(F,L))])}function E(N,F){return"Did not understand this style mapping, so ignored it: "+N+`
`+F.errors().map(C).join(`
`)}function C(N){return"Error was at character number "+N.characterNumber()+": Expected "+N.expected+" but got "+N.actual}var R=o();return Gc}var $c={},D_;function TM(){if(D_)return $c;D_=1,$c.readOptions=n;var u=tn,e=$c._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],t=$c._standardOptions={transformDocument:r,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(s){return s=s||{},u.extend({},t,s,{customStyleMap:i(s.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(s){return s?u.isString(s)?s.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):s:[]}function r(s){return s}return $c}var Tm={},w_;function SM(){if(w_)return Tm;w_=1;var u=Os(),e=OE();Tm.openZip=t;function t(n){return n.arrayBuffer?u.resolve(e.openArrayBuffer(n.arrayBuffer)):u.reject(new Error("Could not find file in options"))}return Tm}var Sm={},E_;function CM(){if(E_)return Sm;E_=1;var u=jd(),e=Hd();Sm.element=t;function t(n){return function(i){return e.elementWithTag(u.element(n),[i])}}return Sm}var T_;function RM(){if(T_)return Ii;T_=1;var u=tn,e=lM(),t=uM(),n=gM().DocumentConverter,i=mM().convertElementToRawText,r=EM().readStyle,s=TM().readOptions,o=SM(),l=Vr().Result;Ii.convertToHtml=h,Ii.convertToMarkdown=d,Ii.convert=p,Ii.extractRawText=y,Ii.images=jE(),Ii.transforms=zE(),Ii.underline=CM(),Ii.embedStyleMap=A,Ii.readEmbeddedStyleMap=g;function h(x,_){return p(x,_)}function d(x,_){var w=Object.create(_||{});return w.outputFormat="markdown",p(x,w)}function p(x,_){return _=s(_),o.openZip(x).tap(function(w){return t.readStyleMap(w).then(function(S){_.embeddedStyleMap=S})}).then(function(w){return e.read(w,x).then(function(S){return S.map(_.transformDocument)}).then(function(S){return m(S,_)})})}function g(x){return o.openZip(x).then(t.readStyleMap)}function m(x,_){var w=v(_.readStyleMap()),S=u.extend({},_,{styleMap:w.value}),E=new n(S);return x.flatMapThen(function(C){return w.flatMapThen(function(R){return E.convertToHtml(C)})})}function v(x){return l.combine((x||[]).map(r)).map(function(_){return _.filter(function(w){return!!w})})}function y(x){return o.openZip(x).then(e.read).then(function(_){return _.map(i)})}function A(x,_){return o.openZip(x).tap(function(w){return t.writeStyleMap(w,_)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return Ii.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Ii}var UM=RM();const YE=cd(UM),kM=({file:u})=>{const[e,t]=Me.useState(""),[n,i]=Me.useState(!0),[r,s]=Me.useState(null);return Me.useEffect(()=>{u&&(async()=>{try{i(!0);const l=await u.arrayBuffer(),h=await YE.convertToHtml({arrayBuffer:l});t(h.value),s(null)}catch(l){s("Failed to load document"),console.error("Error loading DOCX:",l)}finally{i(!1)}})()},[u]),n?me.jsx("div",{className:"h-full flex items-center justify-center",children:me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),me.jsx("p",{className:"text-gray-600",children:"Loading document..."})]})}):r?me.jsx("div",{className:"h-full flex items-center justify-center",children:me.jsxs("div",{className:"text-center text-gray-500",children:[me.jsx(ld,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),me.jsx("p",{children:r})]})}):me.jsx("div",{className:"h-full overflow-auto p-6",children:me.jsx("div",{className:"prose prose-sm max-w-none bg-white p-6 rounded-lg border border-gray-200",dangerouslySetInnerHTML:{__html:e},style:{fontFamily:"inherit",lineHeight:"1.6"}})})},FM=({file:u})=>{const[e,t]=Me.useState(null),[n,i]=Me.useState(!1);Me.useEffect(()=>{u&&r()},[u]);const r=async()=>{i(!0);try{if(u.type==="application/pdf")t(u);else if(u.type==="text/plain"){const o=await u.text();t(o)}else(u.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||u.type==="application/msword")&&t(u)}catch(o){console.error("Error loading file:",o),t(null)}finally{i(!1)}},s=()=>n?me.jsx("div",{className:"flex items-center justify-center h-64",children:me.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?u.type==="application/pdf"?me.jsx(uk,{file:e}):u.type==="text/plain"?me.jsx(hk,{content:e}):u.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||u.type==="application/msword"?me.jsx(kM,{file:e}):null:me.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:me.jsxs("div",{className:"text-center",children:[me.jsx(u3,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),me.jsx("p",{children:"Unable to preview this file type"})]})});return me.jsxs("div",{className:"h-full flex flex-col",children:[me.jsx("div",{className:"flex-shrink-0 bg-gray-50 px-6 py-3 border-b border-gray-200",children:me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx(ld,{className:"w-5 h-5 text-blue-600"}),me.jsx("span",{className:"font-medium text-gray-900 truncate",children:u.name}),me.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[(u.size/1024/1024).toFixed(2)," MB"]})]})}),me.jsx("div",{className:"flex-1 overflow-auto",children:s()})]})},MM=()=>me.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2",children:[me.jsx(g3,{className:"w-4 h-4 animate-spin"}),me.jsx("span",{className:"text-sm font-medium",children:"Analyzing..."}),me.jsx(Y_,{className:"w-4 h-4 text-yellow-300"})]}),LM=u=>{const e=["Contract","Agreement","Terms","Conditions","Liability","Payment","Termination","Intellectual Property","Confidentiality","Indemnification","Force Majeure","Dispute Resolution","Compliance","Risk","Warning","Critical","Important","Recommendation","Issue","Problem","Concern","High Risk","Medium Risk","Low Risk","GDPR","Data Protection"];let t=u;return e.forEach(n=>{const i=new RegExp(`\\b${n}\\b`,"gi");t=t.replace(i,`<mark class="bg-yellow-200 px-1 rounded font-medium">${n}</mark>`)}),t=t.replace(/\b(High Risk|Critical)\b/gi,'<span class="bg-red-100 text-red-800 px-2 py-1 rounded font-medium">$1</span>'),t=t.replace(/\b(Medium Risk|Warning)\b/gi,'<span class="bg-orange-100 text-orange-800 px-2 py-1 rounded font-medium">$1</span>'),t=t.replace(/\b(Low Risk|Safe)\b/gi,'<span class="bg-green-100 text-green-800 px-2 py-1 rounded font-medium">$1</span>'),t=t.replace(/^\*\*(.*?)\*\*/gm,'<h3 class="text-lg font-semibold text-gray-900 mt-6 mb-3 border-b border-gray-200 pb-2">$1</h3>'),t=t.replace(/^\d+\.\s\*\*(.*?)\*\*/gm,'<h4 class="font-semibold text-gray-800 mt-4 mb-2">$1</h4>'),t=t.replace(/✓/g,'<span class="text-green-600 font-bold">✓</span>'),t=t.replace(/⚠/g,'<span class="text-orange-500 font-bold">⚠</span>'),t},NM=({text:u,speed:e=50,className:t="",onComplete:n})=>{const[i,r]=Me.useState(""),[s,o]=Me.useState(0),[l,h]=Me.useState(!1);Me.useEffect(()=>{if(u)if(s<u.length){const p=setTimeout(()=>{r(g=>g+u[s]),o(g=>g+1)},e);return()=>clearTimeout(p)}else l||(h(!0),n?.())},[s,u,e,l,n]),Me.useEffect(()=>{r(""),o(0),h(!1)},[u]);const d=LM(i);return me.jsxs("div",{className:`relative ${t}`,children:[me.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-800",dangerouslySetInnerHTML:{__html:d}}),!l&&s<u.length&&me.jsx("span",{className:"inline-block w-2 h-5 bg-blue-600 ml-1 animate-pulse"})]})},OM=({data:u})=>me.jsx("div",{className:"h-full overflow-auto p-6",children:me.jsx(NM,{text:u,speed:25,className:"prose prose-sm max-w-none"})}),BM=({analysisData:u,isAnalyzing:e,error:t})=>me.jsxs("div",{className:"h-full flex flex-col",children:[me.jsx("div",{className:"flex-shrink-0 bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white",children:me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("div",{className:"flex items-center space-x-3",children:[me.jsx(C2,{className:"w-6 h-6"}),me.jsx("h2",{className:"text-lg font-semibold",children:"AI Analysis"})]}),e&&me.jsx(MM,{})]})}),me.jsx("div",{className:"flex-1 overflow-hidden",children:t?me.jsx("div",{className:"h-full flex items-center justify-center p-6",children:me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"bg-red-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:me.jsx(d3,{className:"w-8 h-8 text-red-600"})}),me.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analysis Failed"}),me.jsx("p",{className:"text-gray-600",children:t})]})}):u?me.jsx(OM,{data:u}):e?null:me.jsx("div",{className:"h-full flex items-center justify-center p-6",children:me.jsxs("div",{className:"text-center",children:[me.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:me.jsx(C2,{className:"w-8 h-8 text-blue-600"})}),me.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready for Analysis"}),me.jsx("p",{className:"text-gray-600",children:"AI analysis will appear here once processing begins"})]})})})]}),Yn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Qm=[.001,0,0,.001,0,0],Cm=1.35,_i={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},_s={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},KE="pdfjs_internal_editor_",it={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},IM={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Fn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},$h={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ln={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},bo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},qd={ERRORS:0,WARNINGS:1,INFOS:5},bl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},fh={moveTo:0,lineTo:1,curveTo:2,closePath:3},PM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Gd=qd.WARNINGS;function WM(u){Number.isInteger(u)&&(Gd=u)}function zM(){return Gd}function $d(u){Gd>=qd.INFOS&&console.log(`Info: ${u}`)}function at(u){Gd>=qd.WARNINGS&&console.log(`Warning: ${u}`)}function Ft(u){throw new Error(u)}function dn(u,e){u||Ft(e)}function HM(u){switch(u?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ZE(u,e=null,t=null){if(!u)return null;if(t&&typeof u=="string"&&(t.addDefaultProtocol&&u.startsWith("www.")&&u.match(/\./g)?.length>=2&&(u=`http://${u}`),t.tryConvertEncoding))try{u=VM(u)}catch{}const n=e?URL.parse(u,e):URL.parse(u);return HM(n)?n:null}function QE(u,e,t=!1){const n=URL.parse(u);return n?(n.hash=e,n.href):t&&ZE(u,"http://example.com")?u.split("#",1)[0]+`${e?`#${e}`:""}`:""}function dt(u,e,t,n=!1){return Object.defineProperty(u,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Ta=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class S_ extends Ta{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Rm extends Ta{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Jm extends Ta{constructor(e){super(e,"InvalidPDFException")}}class id extends Ta{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class jM extends Ta{constructor(e){super(e,"FormatError")}}class ks extends Ta{constructor(e){super(e,"AbortException")}}function JE(u){(typeof u!="object"||u?.length===void 0)&&Ft("Invalid argument for bytesToString");const e=u.length,t=8192;if(e<t)return String.fromCharCode.apply(null,u);const n=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),s=u.subarray(i,r);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function kl(u){typeof u!="string"&&Ft("Invalid argument for stringToBytes");const e=u.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=u.charCodeAt(n)&255;return t}function qM(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function GM(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function $M(){try{return new Function(""),!0}catch{return!1}}class On{static get isLittleEndian(){return dt(this,"isLittleEndian",GM())}static get isEvalSupported(){return dt(this,"isEvalSupported",$M())}static get isOffscreenCanvasSupported(){return dt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return dt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return dt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return dt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Um=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));class He{static makeHexColor(e,t,n){return`#${Um[e]}${Um[t]}${Um[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],r=e[n+1];e[n]=i*t[0]+r*t[2]+t[4],e[n+1]=i*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],r=t[1],s=t[2],o=t[3],l=t[4],h=t[5];for(let d=0;d<6;d+=2){const p=e[n+d],g=e[n+d+1];e[n+d]=p*i+g*s+l,e[n+d+1]=p*r+g*o+h}}static applyInverseTransform(e,t){const n=e[0],i=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],l=t[4],h=t[5],d=e[0],p=e[1],g=e[2],m=e[3];let v=i*d+l,y=v,A=i*g+l,x=A,_=o*p+h,w=_,S=o*m+h,E=S;if(r!==0||s!==0){const C=r*d,R=r*g,N=s*p,F=s*m;v+=N,x+=N,A+=F,y+=F,_+=C,E+=C,S+=R,w+=R}n[0]=Math.min(n[0],v,A,y,x),n[1]=Math.min(n[1],_,S,w,E),n[2]=Math.max(n[2],v,A,y,x),n[3]=Math.max(n[3],_,S,w,E)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],r=e[2],s=e[3],o=n**2+i**2,l=n*r+i*s,h=r**2+s**2,d=(o+h)/2,p=Math.sqrt(d**2-(o*h-l**2));t[0]=Math.sqrt(d+p||1),t[1]=Math.sqrt(d-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>s?null:[n,r,i,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,r){r[0]=Math.min(r[0],e,n),r[1]=Math.min(r[1],t,i),r[2]=Math.max(r[2],e,n),r[3]=Math.max(r[3],t,i)}static#e(e,t,n,i,r,s,o,l,h,d){if(h<=0||h>=1)return;const p=1-h,g=h*h,m=g*h,v=p*(p*(p*e+3*h*t)+3*g*n)+m*i,y=p*(p*(p*r+3*h*s)+3*g*o)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],y)}static#t(e,t,n,i,r,s,o,l,h,d,p,g){if(Math.abs(h)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,t,n,i,r,s,o,l,-p/d,g);return}const m=d**2-4*p*h;if(m<0)return;const v=Math.sqrt(m),y=2*h;this.#e(e,t,n,i,r,s,o,l,(-d+v)/y,g),this.#e(e,t,n,i,r,s,o,l,(-d-v)/y,g)}static bezierBoundingBox(e,t,n,i,r,s,o,l,h){h[0]=Math.min(h[0],e,o),h[1]=Math.min(h[1],t,l),h[2]=Math.max(h[2],e,o),h[3]=Math.max(h[3],t,l),this.#t(e,n,r,o,t,i,s,l,3*(-e+3*(n-r)+o),6*(e-2*n+r),3*(n-e),h),this.#t(e,n,r,o,t,i,s,l,3*(-t+3*(i-s)+l),6*(t-2*i+s),3*(i-t),h)}}function VM(u){return decodeURIComponent(escape(u))}let km=null,C_=null;function XM(u){return km||(km=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,C_=new Map([["ﬅ","ſt"]])),u.replaceAll(km,(e,t,n)=>t?t.normalize("NFKC"):C_.get(n))}function eT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const u=new Uint8Array(32);return crypto.getRandomValues(u),JE(u)}const by="pdfjs_internal_id_";function YM(u,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...r]=t;if(!u(n)&&!Number.isInteger(n)||!e(i))return!1;const s=r.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const l of r)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Kn(u,e,t){return Math.min(Math.max(u,e),t)}function tT(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(JE(u))}function KM(u){return Uint8Array.fromBase64?Uint8Array.fromBase64(u):kl(atob(u))}typeof Promise.try!="function"&&(Promise.try=function(u,...e){return new Promise(t=>{t(u(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(u){return u.reduce((e,t)=>e+t,0)});const zr="http://www.w3.org/2000/svg";class No{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Fl(u,e="text"){if(nl(u,document.baseURI)){const t=await fetch(u);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",u,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Ml{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s,n*=t;const l=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let d,p,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,p=0,g=0,m=1;break;case 90:d=0,p=1,g=1,m=0;break;case 270:d=0,p=-1,g=-1,m=0;break;case 0:d=1,p=0,g=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,m=-m);let v,y,A,x;d===0?(v=Math.abs(h-e[1])*n+r,y=Math.abs(l-e[0])*n+s,A=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(v=Math.abs(l-e[0])*n+r,y=Math.abs(h-e[1])*n+s,A=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[d*n,p*n,g*n,m*n,v-d*n*l-g*n*h,y-p*n*l-m*n*h],this.width=A,this.height=x}get rawDims(){const e=this.viewBox;return dt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Ml({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){const n=[e,t];return He.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];He.applyTransform(t,this.transform);const n=[e[2],e[3]];return He.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return He.applyInverseTransform(n,this.transform),n}}class yy extends Ta{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Vd(u){const e=u.length;let t=0;for(;t<e&&u[t].trim()==="";)t++;return u.substring(t,t+5).toLowerCase()==="data:"}function vy(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function ZM(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function QM(u,e="document.pdf"){if(typeof u!="string")return e;if(Vd(u))return at('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(u);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},r=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(r.test(s))return i(s);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const h of o)if(r.test(h))return i(h);const l=Array.from(n.searchParams.keys()).reverse();for(const h of l)if(r.test(h))return i(h)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class R_{started=Object.create(null);times=[];time(e){e in this.started&&at(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||at(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms
`);return e.join("")}}function nl(u,e){const t=e?URL.parse(u,e):URL.parse(u);return t?.protocol==="http:"||t?.protocol==="https:"}function $i(u){u.preventDefault()}function un(u){u.preventDefault(),u.stopPropagation()}function JM(u){console.log("Deprecated API usage: "+u)}class eb{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const h=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(s+=d,o+=p):h==="+"&&(s-=d,o-=p),new Date(Date.UTC(n,i,r,s,o,l))}}function eL(u,{scale:e=1,rotation:t=0}){const{width:n,height:i}=u.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new Ml({viewBox:r,userUnit:1,scale:e,rotation:t})}function Xd(u){if(u.startsWith("#")){const e=parseInt(u.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(e=>parseInt(e)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(at(`Not a valid color format: "${u}"`),[0,0,0])}function tL(u){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of u.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;u.set(t,Xd(n))}e.remove()}function $t(u){const{a:e,b:t,c:n,d:i,e:r,f:s}=u.getTransform();return[e,t,n,i,r,s]}function fr(u){const{a:e,b:t,c:n,d:i,e:r,f:s}=u.getTransform().invertSelf();return[e,t,n,i,r,s]}function ya(u,e,t=!1,n=!0){if(e instanceof Ml){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:s}=u,o=On.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,h=`var(--total-scale-factor) * ${r}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,p=o?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(s.width=d,s.height=p):(s.width=p,s.height=d)}n&&u.setAttribute("data-main-rotation",e.rotation)}class vr{constructor(){const{pixelRatio:e}=vr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,r=-1){let s=1/0,o=1/0,l=1/0;n=vr.capPixels(n,r),n>0&&(s=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const h=Math.min(s,o,l);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const tb=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class al{#e=null;#t=null;#n;#i=null;#s=null;#r=null;#a=null;static#o=null;constructor(e){this.#n=e,al.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",$i,{signal:t}),e.addEventListener("pointerdown",al.#l,{signal:t}));const n=this.#i=document.createElement("div");n.className="buttons",e.append(n);const i=this.#n.toolbarPosition;if(i){const{style:r}=e,s=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#c(e){this.#n._focusEventsAllowed=!1,un(e)}#d(e){this.#n._focusEventsAllowed=!0,un(e)}#u(e){const t=this.#n._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",$i,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",al.#o[e]),this.#u(n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#i.append(n)}get#f(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#u(t),this.#i.append(t,this.#f),this.#s=e}addComment(e){if(this.#r)return;const t=e.render();t&&(this.#u(t),this.#i.append(t,this.#f),this.#r=e,e.toolbar=this)}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#u(t),this.#i.append(t,this.#f)}async addEditSignatureButton(e){const t=this.#a=await e.renderEditButton(this.#n);this.#u(t),this.#i.append(t,this.#f)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}updateEditSignatureButton(e){this.#a&&(this.#a.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class nL{#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",$i,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#n.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),e}#s(e,t){let n=0,i=0;for(const r of e){const s=r.y+r.height;if(s<n)continue;const o=r.x+(t?r.width:0);if(s>n){i=o,n=s;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]}show(e,t,n){const[i,r]=this.#s(t,n),{style:s}=this.#t||=this.#i();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(e,t,n,i){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const s=document.createElement("span");r.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",n);const o=this.#n._signal;o instanceof AbortSignal&&!o.aborted&&(r.addEventListener("contextmenu",$i,{signal:o}),r.addEventListener("click",i,{signal:o})),this.#e.append(r)}}function nT(u,e,t){for(const n of t)e.addEventListener(n,u[n].bind(u))}class iL{#e=0;get id(){return`${KE}${this.#e++}`}}class Ay{#e=eT();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return dt(this,"_isSVGFittingCanvas",r)}async#i(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(n.url=t,i=await Fl(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=Ay._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((h,d)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,h()},s.onload=async()=>{const p=n.svgUrl=s.result;o.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},o.onerror=s.onerror=d});s.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){at(i),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return this.#i(`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return this.#i(e,e)}async getFromBlob(e,t){const n=await t;return this.#i(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class rL{#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:t,post:n,type:r};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(l);return}if(s&&this.#e[this.#i].type===r){o&&(l.undo=this.#e[this.#i].undo),this.#e[this.#i]=l;return}const h=this.#i+1;h===this.#n?this.#e.splice(0,1):(this.#i=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(l)}undo(){if(this.#i===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}cleanType(e){if(this.#i!==-1){for(let t=this.#i;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#i-t),this.#i=t;return}this.#e.length=0,this.#i=-1}}destroy(){this.#e=null}}class Ll{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=On.platform;for(const[n,i,r={}]of e)for(const s of n){const o=s.startsWith("mac+");t&&o?(this.callbacks.set(s.slice(4),{callback:i,options:r}),this.allKeys.add(s.split("+").at(-1))):!t&&!o&&(this.callbacks.set(s,{callback:i,options:r}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:s=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...s,t)(),r||un(t))}}class xy{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return tL(e),dt(this,"_colors",e)}convert(e){const t=Xd(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((r,s)=>r===t[s]))return xy._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?He.makeHexColor(...t):e}}class Fs{#e=new AbortController;#t=null;#n=null;#i=new Map;#s=new Map;#r=null;#a=null;#o=null;#l=new rL;#c=null;#d=null;#u=null;#f=0;#g=new Set;#p=null;#h=null;#m=new Set;_editorUndoBar=null;#y=!1;#b=!1;#A=!1;#x=null;#v=null;#w=null;#C=null;#T=!1;#D=null;#k=new iL;#E=!1;#F=!1;#L=!1;#M=null;#N=null;#R=null;#_=null;#O=null;#U=it.NONE;#S=new Set;#H=null;#q=null;#W=null;#j=null;#z=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#$=[0,0];#B=null;#Y=null;#ee=null;#te=null;#V=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Fs.prototype,t=s=>s.#Y.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return dt(this,"_keyboardManager",new Ll([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#Y.contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&s.#Y.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,n,i,r,s,o,l,h,d,p,g,m,v,y,A){const x=this._signal=this.#e.signal;this.#Y=e,this.#ee=t,this.#te=n,this.#r=i,this.#c=r,this.#q=s,this.#z=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:x}),window.addEventListener("pointerdown",()=>{this.#F=!0},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{this.#F=!1},{capture:!0,signal:x}),this.#he(),this.#de(),this.#se(),this.#a=l.annotationStorage,this.#x=l.filterFactory,this.#W=h,this.#C=d||null,this.#y=p,this.#b=g,this.#A=m,this.#O=v||null,this.viewParameters={realScale:No.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=A!==!1}destroy(){this.#V?.resolve(),this.#V=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#i.clear(),this.#m.clear(),this.#_?.clear(),this.#t=null,this.#S.clear(),this.#l.destroy(),this.#r?.destroy(),this.#c?.destroy(),this.#q?.destroy(),this.#D?.hide(),this.#D=null,this.#R?.destroy(),this.#R=null,this.#n=null,this.#v&&(clearTimeout(this.#v),this.#v=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#z=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#O}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#A}get hcmFilter(){return dt(this,"hcmFilter",this.#W?this.#x.addHCMFilter(this.#W.foreground,this.#W.background):"none")}get direction(){return dt(this,"direction",getComputedStyle(this.#Y).direction)}get _highlightColors(){return dt(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return dt(this,"highlightColors",null);const t=new Map,n=!!this.#W;for(const[i,r]of e){const s=i.endsWith("_HCM");if(n&&s){t.set(i.replace("_HCM",""),r);continue}!n&&!s&&t.set(i,r)}return dt(this,"highlightColors",t)}get highlightColorNames(){return dt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#u=e}setMainHighlightColorPicker(e){this.#R=e}editAltText(e,t=!1){this.#r?.editAltText(this,e,t)}hasCommentManager(){return!!this.#c}editComment(e,t){this.#c?.open(this,e,t)}getSignature(e){this.#q?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#q}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#A=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#Y.focus()}findParent(e,t){for(const n of this.#s.values()){const{x:i,y:r,width:s,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=r&&t<=r+o)return n}return null}disableUserSelect(e=!1){this.#ee.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*No.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#u?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ne(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#s.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=n,l=n.toString(),d=this.#Z(n).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;n.empty();const g=this.#ne(d),m=this.#U===it.NONE,v=()=>{const y=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:l});m&&this.showAllEditors("highlight",!0,!0),t&&y?.editComment()};if(m){this.switchToMode(it.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}#le(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Z(e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(this.#D||=new nL(this),this.#D.show(n,i,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#a&&!this.#a.has(e.id)&&this.#a.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#te;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#ue(){const e=document.getSelection();if(!e||e.isCollapsed){this.#H&&(this.#D?.hide(),this.#H=null,this.#I({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#H)return;const i=this.#Z(e).closest(".textLayer");if(!i){this.#H&&(this.#D?.hide(),this.#H=null,this.#I({hasSelectedText:!1}));return}if(this.#D?.hide(),this.#H=t,this.#I({hasSelectedText:!0}),!(this.#U!==it.HIGHLIGHT&&this.#U!==it.NONE)&&(this.#U===it.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#T=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#U===it.HIGHLIGHT?this.#ne(i):null;if(r?.toggleDrawing(),this.#F){const s=new AbortController,o=this.combinedSignal(s),l=h=>{h.type==="pointerup"&&h.button!==0||(s.abort(),r?.toggleDrawing(!0),h.type==="pointerup"&&this.#Q("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else r?.toggleDrawing(!0),this.#Q("main_toolbar")}}#Q(e=""){this.#U===it.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#le()}#he(){document.addEventListener("selectionchange",this.#ue.bind(this),{signal:this._signal})}#ie(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#re(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#Q("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#S)if(t.div.contains(e)){this.#N=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,t]=this.#N;this.#N=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#se(){if(this.#M)return;this.#M=new AbortController;const e=this.combinedSignal(this.#M);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#P(){this.#M?.abort(),this.#M=null}#X(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ae(){this.#d?.abort(),this.#d=null}#de(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#se(),this.#X()}removeEditListeners(){this.#P(),this.#ae()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#h)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#h)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#S){const i=n.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const s of this.#h)if(s.isHandlingMimeForPasting(r.type)){s.paste(r,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){at(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of n){const h=await i.deserialize(l);if(!h)return;r.push(h)}const s=()=>{for(const l of r)this.#fe(l);this.#pe(r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(r){at(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#U!==it.NONE&&!this.isEditorHandlingKeyboard&&Fs._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#Q("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#I(e){Object.entries(e).some(([n,i])=>this.#G[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#U===it.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#K([[bt.HIGHLIGHT_FREE,!0]]))}#K(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ie(),this.#X(),this.#I({isEditing:this.#U!==it.NONE,isEmpty:this.#ce(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#re(),this.#ae(),this.#I({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#h){this.#h=e;for(const t of this.#h)this.#K(t.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#s.set(e.pageIndex,e),this.#E?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,r=!1){if(this.#U!==e&&!(this.#V&&(await this.#V.promise,!this.#V))){if(this.#V=Promise.withResolvers(),this.#u?.commitOrRemove(),this.#U===it.POPUP&&this.#c?.hideSidebar(),this.#U=e,e===it.NONE){this.setEditingState(!1),this.#oe(),this._editorUndoBar?.hide(),this.#V.resolve();return}e===it.SIGNATURE&&await this.#q?.loadSignatures(),e===it.POPUP&&(this.#n||=await this.#z.getAnnotationsByType(new Set(this.#h.map(s=>s._editorType))),this.#c?.showSidebar(this.#n)),this.setEditingState(!0),await this.#J(),this.unselectAll();for(const s of this.#s.values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),this.#V.resolve();return}for(const s of this.#i.values())s.annotationElementId===t||s.id===t?(this.setSelected(s),r?s.editComment():i&&s.enterInEditMode()):s.unselect();this.#V.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#U&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#h){switch(e){case bt.CREATE:this.currentLayer.addNewEditor(t);return;case bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#j||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#S)n.updateParams(e,t);else for(const n of this.#h)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const r of this.#i.values())r.editorType===e&&r.show(t);(this.#j?.get(bt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#K([[bt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const t of this.#s.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#J(){if(!this.#E){this.#E=!0;const e=[];for(const t of this.#s.values())e.push(t.enable());await Promise.all(e);for(const t of this.#i.values())t.enable()}}#oe(){if(this.unselectAll(),this.#E){this.#E=!1;for(const e of this.#s.values())e.disable();for(const e of this.#i.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#i.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#i.get(e)}addEditor(e){this.#i.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.focusMainContainer(),this.#v=null},0)),this.#i.delete(e.id),e.annotationElementId&&this.#_?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#a?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#fe(e){const t=this.#s.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#K(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#S);return e}updateUI(e){this.#ge===e&&this.#K(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#K(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#S.has(e)){this.#S.delete(e),e.unselect(),this.#I({hasSelectedEditor:this.hasSelection});return}this.#S.add(e),e.select(),this.#K(e.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#u?.commitOrRemove();for(const t of this.#S)t!==e&&t.unselect();this.#S.clear(),this.#S.add(e),e.select(),this.#K(e.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}isSelected(e){return this.#S.has(e)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(e){e.unselect(),this.#S.delete(e),this.#I({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#I({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#ce()}),this._editorUndoBar?.hide()}redo(){this.#l.redo(),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#ce()})}addCommands(e){this.#l.add(e),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#ce()})}cleanUndoStack(e){this.#l.cleanType(e)}#ce(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(const e of this.#i.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#S],n=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const r of t)r.remove()},i=()=>{for(const r of t)this.#fe(r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#pe(e){for(const t of this.#S)t.unselect();this.#S.clear();for(const t of e)t.isEmpty()||(this.#S.add(t),t.select());this.#I({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#S)e.commit();this.#pe(this.#i.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#U!==it.NONE))&&!this.#u?.commitOrRemove()&&this.hasSelection){for(const e of this.#S)e.unselect();this.#S.clear(),this.#I({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#$[0]+=e,this.#$[1]+=t;const[i,r]=this.#$,s=[...this.#S],o=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#$[0]=this.#$[1]=0,this.addCommands({cmd:()=>{for(const l of s)this.#i.has(l.id)&&(l.translateInPage(i,r),l.translationDone())},undo:()=>{for(const l of s)this.#i.has(l.id)&&(l.translateInPage(-i,-r),l.translationDone())},mustExec:!1})},o);for(const l of s)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#S)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let t=!1;for(const[{x:i,y:r,pageIndex:s},o]of e)o.newX=i,o.newY=r,o.newPageIndex=s,t||=i!==o.savedX||r!==o.savedY||s!==o.savedPageIndex;if(!t)return!1;const n=(i,r,s,o)=>{if(this.#i.has(i.id)){const l=this.#s.get(o);l?i._setParentAndPosition(l,r,s):(i.pageIndex=o,i.x=r,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:s,newPageIndex:o}]of e)n(i,r,s,o)},undo:()=>{for(const[i,{savedX:r,savedY:s,savedPageIndex:o}]of e)n(i,r,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#p)for(const n of this.#p.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#U}get imageManager(){return dt(this,"imageManager",new Ay)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,d=t.rangeCount;h<d;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(h,d,p,g)=>({x:(d-i)/s,y:1-(h+p-n)/r,width:g/s,height:p/r});break;case"180":o=(h,d,p,g)=>({x:1-(h+p-n)/r,y:1-(d+g-i)/s,width:p/r,height:g/s});break;case"270":o=(h,d,p,g)=>({x:1-(d+g-i)/s,y:(h-n)/r,width:g/s,height:p/r});break;default:o=(h,d,p,g)=>({x:(h-n)/r,y:(d-i)/s,width:p/r,height:g/s});break}const l=[];for(let h=0,d=t.rangeCount;h<d;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:g,y:m,width:v,height:y}of p.getClientRects())v===0||y===0||l.push(o(g,m,v,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#a.getRawValue(t);n&&(this.#U===it.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const i=this.#_?.get(e);i&&(i.setCanvas(t,n),this.#_.delete(e))}addMissingCanvas(e,t){(this.#_||=new Map).set(e,t)}}class br{#e=null;#t=!1;#n=null;#i=null;#s=null;#r=null;#a=!1;#o=null;#l=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#l=e,this.#u=e._uiManager.useNewAltTextFlow,br.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){br._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#i=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",br.#f.missing),t.setAttribute("data-l10n-id",br.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#l._uiManager._signal;e.addEventListener("contextmenu",$i,{signal:n}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#u&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#a=!0,i(r))},{signal:n}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#d=await br._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#l.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#c===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(this.#c=n,this.#d=i),!(this.#e===e&&this.#t===t)&&(r||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!e)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",br.#f[this.#g]),this.#i?.setAttribute("data-l10n-id",br.#f[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#s;if(!t){this.#s=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#l.id}`;const i=100,r=this.#l._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:r}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:r})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#l.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class ph{#e=null;#t=!1;#n=null;#i=null;#s=null;#r=null;#a=!1;constructor(e){this.#n=e,this.toolbar=null}render(){if(!this.#n._uiManager.hasCommentManager())return null;const e=this.#e=document.createElement("button");e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=this.#n._uiManager._signal;if(!(t instanceof AbortSignal)||t.aborted)return e;e.addEventListener("contextmenu",$i,{signal:t}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:t});const n=i=>{i.preventDefault(),this.edit()};return e.addEventListener("click",n,{capture:!0,signal:t}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(this.#t=!0,n(i))},{signal:t}),e}edit(){const{bottom:e,left:t,right:n}=this.#n.getClientDimensions(),i={top:e};this.#n._uiManager.direction==="ltr"?i.right=n:i.left=t,this.#n._uiManager.editComment(this.#n,i)}finish(){this.#e&&(this.#e.focus({focusVisible:this.#t}),this.#t=!1)}isDeleted(){return this.#a||this.#s===""}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#i}serialize(){return this.data}get data(){return{text:this.#s,date:this.#r,deleted:this.#a}}set data(e){if(e===null){this.#s="",this.#a=!0;return}this.#s=e,this.#r=new Date,this.#a=!1}setInitialText(e){this.#i=e,this.data=e}toggle(e=!1){this.#e&&(this.#e.disabled=!e)}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#s="",this.#r=null,this.#n=null,this.#t=!1,this.#a=!1}}class Yd{#e;#t=!1;#n=null;#i;#s;#r;#a;#o=null;#l;#c=null;#d;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:s=null,signal:o}){this.#e=e,this.#n=n,this.#i=t,this.#s=i,this.#r=r,this.#a=s,this.#d=new AbortController,this.#l=AbortSignal.any([o,this.#d.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#l})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/vr.pixelRatio}#f(e){if(this.#i?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,r=AbortSignal.any([this.#l,i.signal]),s=this.#e,o={capture:!0,signal:r,passive:!1},l=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};s.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(un(h),l(h))},o),s.addEventListener("pointerup",l,o),s.addEventListener("pointercancel",l,o);return}if(!this.#u){this.#u=new AbortController;const i=AbortSignal.any([this.#l,this.#u.signal]),r=this.#e,s={signal:i,capture:!1,passive:!1};r.addEventListener("touchmove",this.#g.bind(this),s);const o=this.#p.bind(this);r.addEventListener("touchend",o,s),r.addEventListener("touchcancel",o,s),s.capture=!0,r.addEventListener("pointerdown",un,s),r.addEventListener("pointermove",un,s),r.addEventListener("pointercancel",un,s),r.addEventListener("pointerup",un,s),this.#s?.()}if(un(e),e.touches.length!==2||this.#n?.()){this.#c=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#c={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(e){if(!this.#c||e.touches.length!==2)return;un(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:r}=t,{screenX:s,screenY:o}=n,l=this.#c,{touch0X:h,touch0Y:d,touch1X:p,touch1Y:g}=l,m=p-h,v=g-d,y=s-i,A=o-r,x=Math.hypot(y,A)||1,_=Math.hypot(m,v)||1;if(!this.#t&&Math.abs(_-x)<=Yd.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=r,l.touch1X=s,l.touch1Y=o,!this.#t){this.#t=!0;return}const w=[(i+s)/2,(r+o)/2];this.#r?.(w,_,x)}#p(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#a?.()),this.#c&&(un(e),this.#c=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class Ye{#e=null;#t=null;#n=null;#i=null;#s=!1;#r=null;#a="";#o=!1;#l=null;#c=null;#d=null;#u=null;#f="";#g=!1;#p=null;#h=!1;#m=!1;#y=!1;#b=null;#A=0;#x=0;#v=null;#w=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#C=!1;#T=Ye._zIndex++;static _borderLineWidth=-1;static _colorManager=new xy;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Ye.prototype._resizeWithKeyboard,t=Fs.TRANSLATE_SMALL,n=Fs.TRANSLATE_BIG;return dt(this,"_resizerKeyboardManager",new Ll([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ye.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return dt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new sL({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ye._l10n??=e,Ye._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ye._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ye._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ft("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#C}set _isDraggable(e){this.#C=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#$(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}#D([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#D(this.parentDimensions,e,t)}translateInPage(e,t){this.#p||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#p||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[i,r]}=this;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,h]=this.getBaseTranslation();s+=l,o+=h;const{style:d}=n;d.left=`${(100*s).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ye,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:r,y:s,width:o,height:l}=this;if(o*=n,l*=i,r*=n,s*=i,this._mustFixPosition)switch(e){case 0:r=Kn(r,0,n-o),s=Kn(s,0,i-l);break;case 90:r=Kn(r,0,n-l),s=Kn(s,o,i);break;case 180:r=Kn(r,o,n),s=Kn(s,l,i);break;case 270:r=Kn(r,l,n),s=Kn(s,0,i-o);break}this.x=r/=n,this.y=s/=i;const[h,d]=this.getBaseTranslation();r+=h,s+=d,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#k(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Ye.#k(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Ye.#k(e,t,360-this.parentRotation)}#E(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*e/n).toFixed(2)}%`,this.#o||(r.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!this.#o&&t.endsWith("%");if(i&&r)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),!this.#o&&!r&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#F(){if(this.#l)return;this.#l=document.createElement("div"),this.#l.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");this.#l.append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",this.#L.bind(this,n),{signal:t}),i.addEventListener("contextmenu",$i,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#l)}#L(e,t){t.preventDefault();const{isMac:n}=On.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#c=[t.screenX,t.screenY];const r=new AbortController,s=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#R.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",un,{passive:!1,signal:s}),window.addEventListener("contextmenu",$i,{signal:s}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#N()};window.addEventListener("pointerup",h,{signal:s}),window.addEventListener("blur",h,{signal:s})}#M(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[r,s]=this.parentDimensions;this.setDims(r*n,s*i),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#d)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#d;this.#d=null;const r=this.x,s=this.y,o=this.width,l=this.height;r===e&&s===t&&o===n&&l===i||this.addCommands({cmd:this.#M.bind(this,r,s,o,l),undo:this.#M.bind(this,e,t,n,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#R(e,t){const[n,i]=this.parentDimensions,r=this.x,s=this.y,o=this.width,l=this.height,h=Ye.MIN_SIZE/n,d=Ye.MIN_SIZE/i,p=this.#E(this.rotation),g=(M,O)=>[p[0]*M+p[2]*O,p[1]*M+p[3]*O],m=this.#E(360-this.rotation),v=(M,O)=>[m[0]*M+m[2]*O,m[1]*M+m[3]*O];let y,A,x=!1,_=!1;switch(e){case"topLeft":x=!0,y=(M,O)=>[0,0],A=(M,O)=>[M,O];break;case"topMiddle":y=(M,O)=>[M/2,0],A=(M,O)=>[M/2,O];break;case"topRight":x=!0,y=(M,O)=>[M,0],A=(M,O)=>[0,O];break;case"middleRight":_=!0,y=(M,O)=>[M,O/2],A=(M,O)=>[0,O/2];break;case"bottomRight":x=!0,y=(M,O)=>[M,O],A=(M,O)=>[0,0];break;case"bottomMiddle":y=(M,O)=>[M/2,O],A=(M,O)=>[M/2,0];break;case"bottomLeft":x=!0,y=(M,O)=>[0,O],A=(M,O)=>[M,0];break;case"middleLeft":_=!0,y=(M,O)=>[0,O/2],A=(M,O)=>[M,O/2];break}const w=y(o,l),S=A(o,l);let E=g(...S);const C=Ye._round(r+E[0]),R=Ye._round(s+E[1]);let N=1,F=1,I,q;if(t.fromKeyboard)({deltaX:I,deltaY:q}=t);else{const{screenX:M,screenY:O}=t,[K,Q]=this.#c;[I,q]=this.screenToPageTranslation(M-K,O-Q),this.#c[0]=M,this.#c[1]=O}if([I,q]=v(I/n,q/i),x){const M=Math.hypot(o,l);N=F=Math.max(Math.min(Math.hypot(S[0]-w[0]-I,S[1]-w[1]-q)/M,1/o,1/l),h/o,d/l)}else _?N=Kn(Math.abs(S[0]-w[0]-I),h,1)/o:F=Kn(Math.abs(S[1]-w[1]-q),d,1)/l;const L=Ye._round(o*N),H=Ye._round(l*F);E=g(...A(L,H));const k=C-E[0],Z=R-E[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=L,this.height=H,this.x=k,this.y=Z,this.setDims(n*L,i*H),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#m)return this._editToolbar;this._editToolbar=new al(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(br.initialize(Ye._l10n),this.#n=new br(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}addCommentButton(){return this.#i?this.#i:this.#i=new ph(this)}get commentColor(){return null}get comment(){const e=this.#i;return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){this.#i||(this.#i=new ph(this)),this.#i.data=e}setCommentData(e){this.#i||(this.#i=new ph(this)),this.#i.setInitialText(e)}get hasEditedComment(){return this.#i?.hasBeenEdited()}async editComment(){this.#i||(this.#i=new ph(this)),this.#i.edit()}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[r]=this.pageDimensions,[s]=this.pageTranslation,o=s+r+1,l=i-100,h=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,h,i]}}}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#q();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),nT(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#w||=new Yd({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#_.bind(this),onPinching:this.#O.bind(this),onPinchEnd:this.#U.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#_(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#O(e,t,n){let r=.7*(n/t)+1-.7;if(r===1)return;const s=this.#E(this.rotation),o=(C,R)=>[s[0]*C+s[2]*R,s[1]*C+s[3]*R],[l,h]=this.parentDimensions,d=this.x,p=this.y,g=this.width,m=this.height,v=Ye.MIN_SIZE/l,y=Ye.MIN_SIZE/h;r=Math.max(Math.min(r,1/g,1/m),v/g,y/m);const A=Ye._round(g*r),x=Ye._round(m*r);if(A===g&&x===m)return;this.#p||=[d,p,g,m];const _=o(g/2,m/2),w=Ye._round(d+_[0]),S=Ye._round(p+_[1]),E=o(A/2,x/2);this.x=w-E[0],this.y=S-E[1],this.width=A,this.height=x,this.setDims(l*A,h*x),this.fixAndSetPosition(),this._onResizing()}#U(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(e){const{isMac:t}=On.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#H(e);return}this.#S(e)}#S(e){const{isMac:t}=On.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#H(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:r},o=h=>{i.abort(),this.#r=null,this.#g=!1,this._uiManager.endDragSession()||this.#S(h),n&&this._onStopDragging()};t&&(this.#A=e.clientX,this.#x=e.clientY,this.#r=e.pointerId,this.#a=e.pointerType,window.addEventListener("pointermove",h=>{n||(n=!0,this._onStartDragging());const{clientX:d,clientY:p,pointerId:g}=h;if(g!==this.#r){un(h);return}const[m,v]=this.screenToPageTranslation(d-this.#A,p-this.#x);this.#A=d,this.#x=p,this._uiManager.dragSelectedEditors(m,v)},s),window.addEventListener("touchmove",un,s),window.addEventListener("pointerdown",h=>{h.pointerType===this.#a&&(this.#w||h.isPrimary)&&o(h),un(h)},s));const l=h=>{if(!this.#r||this.#r===h.pointerId){o(h);return}un(h)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,s]=this.pageDimensions,[o,l]=this.pageTranslation,h=e/i,d=t/i,p=this.x*r,g=this.y*s,m=this.width*r,v=this.height*s;switch(n){case 0:return[p+h+o,s-g-d-v+l,p+h+m+o,s-g-d+l];case 90:return[p+d+o,s-g+h+l,p+d+v+o,s-g+h+m+l];case 180:return[p-h-m+o,s-g+d+l,p-h+o,s-g+d+v+l];case 270:return[p-d-v+o,s-g-h-m+l,p-d+o,s-g-h+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,s]=e,o=r-n,l=s-i;switch(this.rotation){case 0:return[n,t-s,o,l];case 90:return[n,t-i,l,o];case 180:return[r,t-i,o,l];case 270:return[r,t-s,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:s}=window;return t<s&&i>0&&e<r&&n>0}#q(){if(this.#u||!this.div)return;this.#u=new AbortController;const e=this._uiManager.combinedSignal(this.#u);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#q()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){Ft("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[r,s]=i.pageDimensions,[o,l,h,d]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/r,i.y=l/s,i.width=h/r,i.height=d/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#u?.abort(),this.#u=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#$(),this.removeEditToolbar(),this.#v){for(const e of this.#v.values())clearTimeout(e);this.#v=null}this.parent=null,this.#w?.destroy(),this.#w=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#l.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#l.children;if(!this.#t){this.#t=Array.from(t);const s=this.#W.bind(this),o=this.#j.bind(this),l=this._uiManager._signal;for(const h of this.#t){const d=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",s,{signal:l}),h.addEventListener("blur",o,{signal:l}),h.addEventListener("focus",this.#z.bind(this,d),{signal:l}),h.setAttribute("data-l10n-id",Ye._l10nResizer[d])}}const n=this.#t[0];let i=0;for(const s of t){if(s===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)this.#l.append(this.#l.firstChild);else if(r>i)for(let o=0;o<r-i;o++)this.#l.firstChild.before(this.#l.lastChild);let s=0;for(const o of t){const h=this.#t[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Ye._l10nResizer[h])}}this.#G(0),this.#y=!0,this.#l.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#W(e){Ye._resizerKeyboardManager.exec(this,e)}#j(e){this.#y&&e.relatedTarget?.parentNode!==this.#l&&this.#$()}#z(e){this.#f=this.#y?e:""}#G(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#y&&this.#R(this.#f,{deltaX:e,deltaY:t,fromKeyboard:!0})}#$(){this.#y=!1,this.#G(-1),this.#N()}_stopResizingWithKeyboard(){this.#$(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#l?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#h}set isEditing(e){this.#h=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#o=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#v||=new Map;const{action:n}=e;let i=this.#v.get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#v.delete(n),this.#v.size===0&&(this.#v=null)},Ye._telemetryTimeout),this.#v.set(n,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class sL extends Ye{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const U_=3285377520,Wi=4294901760,pr=65535;class iT{constructor(e){this.h1=e?e&4294967295:U_,this.h2=e?e&4294967295:U_}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let y=0,A=e.length;y<A;y++){const x=e.charCodeAt(y);x<=255?t[n++]=x:(t[n++]=x>>>8,t[n++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,s=new Uint32Array(t.buffer,0,i);let o=0,l=0,h=this.h1,d=this.h2;const p=3432918353,g=461845907,m=p&pr,v=g&pr;for(let y=0;y<i;y++)y&1?(o=s[y],o=o*p&Wi|o*m&pr,o=o<<15|o>>>17,o=o*g&Wi|o*v&pr,h^=o,h=h<<13|h>>>19,h=h*5+3864292196):(l=s[y],l=l*p&Wi|l*m&pr,l=l<<15|l>>>17,l=l*g&Wi|l*v&pr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,r){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*p&Wi|o*m&pr,o=o<<15|o>>>17,o=o*g&Wi|o*v&pr,i&1?h^=o:d^=o}this.h1=h,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Wi|e*36045&pr,t=t*4283543511&Wi|((t<<16|e>>>16)*2950163797&Wi)>>>16,e^=t>>>1,e=e*444984403&Wi|e*60499&pr,t=t*3301882366&Wi|((t<<16|e>>>16)*3120437893&Wi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const nb=Object.freeze({map:null,hash:"",transfer:void 0});class _y{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of this.#n.values())if(t instanceof Ye)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let i=!1;if(n!==void 0)for(const[r,s]of Object.entries(t))n[r]!==s&&(i=!0,n[r]=s);else i=!0,this.#n.set(e,t);i&&this.#i(),t instanceof Ye&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rT(this)}get serializable(){if(this.#n.size===0)return nb;const e=new Map,t=new iT,n=[],i=Object.create(null);let r=!1;for(const[s,o]of this.#n){const l=o instanceof Ye?o.serialize(!1,i):o;l&&(e.set(s,l),t.update(`${s}:${JSON.stringify(l)}`),r||=!!l.bitmap)}if(r)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:nb}get editorStats(){let e=null;const t=new Map;for(const n of this.#n.values()){if(!(n instanceof Ye))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const s=e[r]||=new Map;for(const[o,l]of Object.entries(i)){if(o==="type")continue;let h=s.get(o);h||(h=new Map,s.set(o,h));const d=h.get(l)??0;h.set(l,d+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof Ye)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class rT extends _y{#e;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);this.#e={map:r,hash:n,transfer:i}}get print(){Ft("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return dt(this,"modifiedIds",{ids:new Set,hash:""})}}class aL{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(dn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),this.#e.add(i),n?.(e)}catch{at(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ft("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw at(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return dt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return dt(this,"isSyncFontLoadingSupported",Yn||On.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(dn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return dt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(S,E){return S.charCodeAt(E)<<24|S.charCodeAt(E+1)<<16|S.charCodeAt(E+2)<<8|S.charCodeAt(E+3)&255}function i(S,E,C,R){const N=S.substring(0,E),F=S.substring(E+C);return N+R+F}let r,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let h=0;function d(S,E){if(++h>30){at("Load test font never loaded."),E();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(d.bind(null,S,E))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const v=16,y=1482184792;let A=n(g,v);for(r=0,s=p.length-3;r<s;r+=4)A=A-y+n(p,r)|0;r<p.length&&(A=A-y+n(p+"XXX",r)|0),g=i(g,v,4,qM(A));const x=`url(data:font/opentype;base64,${btoa(g)});`,_=`@font-face {font-family:"${p}";src:${x}}`;this.insertRule(_);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const S of[e.loadedName,p]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=S,w.append(E)}this._document.body.append(w),d(p,()=>{w.remove(),t.complete()})}}class oL{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${tT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(s){at(`getPathGenerator - ignoring character: "${s}".`)}const r=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=r}}function cL(u){if(u instanceof URL)return u.href;if(typeof u=="string"){if(Yn)return u;const e=URL.parse(u,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function lL(u){if(Yn&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return kl(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u?.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function gh(u){if(typeof u!="string")return null;if(u.endsWith("/"))return u;throw new Error(`Invalid factory url: "${u}" must include trailing slash.`)}const ib=u=>typeof u=="object"&&Number.isInteger(u?.num)&&u.num>=0&&Number.isInteger(u?.gen)&&u.gen>=0,uL=u=>typeof u=="object"&&typeof u?.name=="string",hL=YM.bind(null,ib,uL);class dL{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if(n?.signal instanceof AbortSignal){const{signal:r}=n;if(r.aborted){at("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",s),r.addEventListener("abort",s)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const mh={DATA:1,ERROR:2},cn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function k_(){}function ai(u){if(u instanceof ks||u instanceof Jm||u instanceof S_||u instanceof id||u instanceof Rm)return u;switch(u instanceof Error||typeof u=="object"&&u!==null||Ft('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new ks(u.message);case"InvalidPDFException":return new Jm(u.message);case"PasswordException":return new S_(u.message,u.code);case"ResponseException":return new id(u.message,u.status,u.missing);case"UnknownErrorException":return new Rm(u.message,u.details)}return new Rm(u.message,u.toString())}class il{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#i(e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===mh.DATA)i.resolve(e.data);else if(e.callback===mh.ERROR)i.reject(ai(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(s){r.postMessage({sourceName:n,targetName:i,callback:mh.DATA,callbackId:e.callbackId,data:s})},function(s){r.postMessage({sourceName:n,targetName:i,callback:mh.ERROR,callbackId:e.callbackId,reason:ai(s)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){r.reject(s)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:h=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:h,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:r,data:t,desiredSize:h.desiredSize},i),d.promise},pull:h=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,l.postMessage({sourceName:s,targetName:o,stream:cn.PULL,streamId:r,desiredSize:h.desiredSize}),d.promise},cancel:h=>{dn(h instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:cn.CANCEL,streamId:r,reason:ai(h)}),d.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(h,d=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:cn.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:cn.CLOSE,streamId:t}),delete s.streamSinks[t])},error(h){dn(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:cn.ERROR,streamId:t,reason:ai(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:cn.START_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:n,targetName:i,stream:cn.START_COMPLETE,streamId:t,reason:ai(h)})})}#i(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case cn.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ai(e.reason));break;case cn.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ai(e.reason));break;case cn.PULL:if(!o){r.postMessage({sourceName:n,targetName:i,stream:cn.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||k_).then(function(){r.postMessage({sourceName:n,targetName:i,stream:cn.PULL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:n,targetName:i,stream:cn.PULL_COMPLETE,streamId:t,reason:ai(h)})});break;case cn.ENQUEUE:if(dn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case cn.CLOSE:if(dn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#s(s,t);break;case cn.ERROR:dn(s,"error should have stream controller"),s.controller.error(ai(e.reason)),this.#s(s,t);break;case cn.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ai(e.reason)),this.#s(s,t);break;case cn.CANCEL:if(!o)break;const l=ai(e.reason);Promise.try(o.onCancel||k_,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:cn.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:n,targetName:i,stream:cn.CANCEL_COMPLETE,streamId:t,reason:ai(h)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#s(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class sT{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ft("Abstract method `_createCanvas` called.")}}class fL extends sT{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class aT{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ft("Abstract method `_fetch` called.")}}class F_ extends aT{async _fetch(e){const t=await Fl(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):kl(t)}}class oT{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}class pL extends oT{#e;#t;#n;#i;#s;#r;#a=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#i=e,this.#s=t}get#o(){return this.#t||=new Map}get#l(){return this.#r||=new Map}get#c(){if(!this.#n){const e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#s.createElementNS(zr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(zr,"defs"),e.append(n),n.append(this.#n),this.#s.body.append(e)}return this.#n}#d(e){if(e.length===1){const l=e[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=l[p]/255;const d=h.join(",");return[d,d,d]}const[t,n,i]=e,r=new Array(256),s=new Array(256),o=new Array(256);for(let l=0;l<256;l++)r[l]=t[l]/255,s[l]=n[l]/255,o[l]=i[l]/255;return[r.join(","),s.join(","),o.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#s.URL;t!==this.#s.baseURI&&(Vd(t)?at('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=QE(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,i,r]=this.#d(e),s=e.length===1?n:`${n}${i}${r}`;if(t=this.#o.get(s),t)return this.#o.set(e,t),t;const o=`g_${this.#i}_transfer_map_${this.#a++}`,l=this.#u(o);this.#o.set(e,l),this.#o.set(s,l);const h=this.#p(o);return this.#m(n,i,r,h),l}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let r=this.#l.get(i);if(r?.key===n||(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#l.set(i,r)),!e||!t))return r.url;const s=this.#b(e);e=He.makeHexColor(...s);const o=this.#b(t);if(t=He.makeHexColor(...o),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return r.url;const l=new Array(256);for(let m=0;m<=255;m++){const v=m/255;l[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const h=l.join(","),d=`g_${this.#i}_hcm_filter`,p=r.filter=this.#p(d);this.#m(h,h,h,p),this.#g(p);const g=(m,v)=>{const y=s[m]/255,A=o[m]/255,x=new Array(v+1);for(let _=0;_<=v;_++)x[_]=y+_/v*(A-y);return x.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),p),r.url=this.#u(d),r.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#d([e]),i=`alpha_${n}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const r=`g_${this.#i}_alpha_map_${this.#a++}`,s=this.#u(r);this.#o.set(e,s),this.#o.set(i,s);const o=this.#p(r);return this.#y(n,o),s}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,i;if(e?([n]=this.#d([e]),i=`luminosity_${n}`):i="luminosity",t=this.#o.get(i),t)return this.#o.set(e,t),t;const r=`g_${this.#i}_luminosity_map_${this.#a++}`,s=this.#u(r);this.#o.set(e,s),this.#o.set(i,s);const o=this.#p(r);return this.#f(o),e&&this.#y(n,o),s}addHighlightHCMFilter(e,t,n,i,r){const s=`${t}-${n}-${i}-${r}`;let o=this.#l.get(e);if(o?.key===s||(o?(o.filter?.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},this.#l.set(e,o)),!t||!n))return o.url;const[l,h]=[t,n].map(this.#b.bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,m]=[i,r].map(this.#b.bind(this));p<d&&([d,p,g,m]=[p,d,m,g]),this.#c.style.color="";const v=(x,_,w)=>{const S=new Array(256),E=(p-d)/w,C=x/255,R=(_-x)/(255*w);let N=0;for(let F=0;F<=w;F++){const I=Math.round(d+F*E),q=C+F*R;for(let L=N;L<=I;L++)S[L]=q;N=I+1}for(let F=N;F<256;F++)S[F]=S[N-1];return S.join(",")},y=`g_${this.#i}_hcm_${e}_filter`,A=o.filter=this.#p(y);return this.#g(A),this.#m(v(g[0],m[0],5),v(g[1],m[1],5),v(g[2],m[2],5),A),o.url=this.#u(y),o.url}destroy(e=!1){e&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#a=0)}#f(e){const t=this.#s.createElementNS(zr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#s.createElementNS(zr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#s.createElementNS(zr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#h(e,t,n){const i=this.#s.createElementNS(zr,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#m(e,t,n,i){const r=this.#s.createElementNS(zr,"feComponentTransfer");i.append(r),this.#h(r,"feFuncR",e),this.#h(r,"feFuncG",t),this.#h(r,"feFuncB",n)}#y(e,t){const n=this.#s.createElementNS(zr,"feComponentTransfer");t.append(n),this.#h(n,"feFuncA",e)}#b(e){return this.#c.style.color=e,Xd(getComputedStyle(this.#c).getPropertyValue("color"))}}class cT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ft("Abstract method `_fetch` called.")}}class M_ extends cT{async _fetch(e){const t=await Fl(e,"arraybuffer");return new Uint8Array(t)}}class lT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ft("Abstract method `_fetch` called.")}}class L_ extends lT{async _fetch(e){const t=await Fl(e,"arraybuffer");return new Uint8Array(t)}}Yn&&at("Please use the `legacy` build in Node.js environments.");async function Dy(u){const t=await process.getBuiltinModule("fs").promises.readFile(u);return new Uint8Array(t)}class gL extends oT{}class mL extends sT{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class bL extends aT{async _fetch(e){return Dy(e)}}class yL extends cT{async _fetch(e){return Dy(e)}}class vL extends lT{async _fetch(e){return Dy(e)}}const po="__forcedDependency";class AL{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[po]:[]};#n=new Map;#i=[];#s=[];#r=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#l=-1;#c=new Set;#d=new Map;#u=new Map;#f;#g;constructor(e){this.#f=e.width,this.#g=e.height}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[po]:{__proto__:this.#t[po]}},this.#a={__proto__:this.#a},this.#i.push([e,null]),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#a=Object.getPrototypeOf(this.#a);const n=this.#i.pop();return n!==void 0&&(n[1]=e),this}recordOpenMarker(e){return this.#i.push([e,null]),this}getOpenMarker(){return this.#i.length===0?null:this.#i.at(-1)[0]}recordCloseMarker(e){const t=this.#i.pop();return t!==void 0&&(t[1]=e),this}beginMarkedContent(e){return this.#s.push([e,null]),this}endMarkedContent(e){const t=this.#s.pop();return t!==void 0&&(t[1]=e),this}pushBaseTransform(e){return this.#r.push(He.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#n.set(e,t),this}recordFutureForcedDependency(e,t){return this.recordIncrementalData(po,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#c)this.recordFutureForcedDependency(po,e);return this}resetBBox(e){return this.#l=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0,this}get hasPendingBBox(){return this.#l!==-1}recordClipBox(e,t,n,i,r,s){const o=He.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];He.axialAlignedBoundingBox([n,r,i,s],o,l);const h=He.intersect(this.#a,l);return h?(this.#a[0]=h[0],this.#a[1]=h[1],this.#a[2]=h[2],this.#a[3]=h[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(e,t,n,i,r,s){const o=this.#a;if(o[0]===1/0)return this;const l=He.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform());if(o[0]===-1/0)return He.axialAlignedBoundingBox([n,r,i,s],l,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return He.axialAlignedBoundingBox([n,r,i,s],l,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],o[3])),this}recordCharacterBBox(e,t,n,i=1,r=0,s=0,o){const l=n.bbox;let h,d;if(l&&(h=l[2]!==l[0]&&l[3]!==l[1]&&this.#u.get(n),h!==!1&&(d=[0,0,0,0],He.axialAlignedBoundingBox(l,n.fontMatrix,d),(i!==1||r!==0||s!==0)&&He.scaleMinMax([i,0,0,-i,r,s],d),h)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const p=o();return l&&d&&h===void 0&&(h=d[0]<=r-p.actualBoundingBoxLeft&&d[2]>=r+p.actualBoundingBoxRight&&d[1]<=s-p.actualBoundingBoxAscent&&d[3]>=s+p.actualBoundingBoxDescent,this.#u.set(n,h),h)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,r-p.actualBoundingBoxLeft,r+p.actualBoundingBoxRight,s-p.actualBoundingBoxAscent,s+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#c,i=this.#e,r=this.#t;for(const s of t)s in this.#e?n.add(i[s]):s in r&&r[s].forEach(n.add,n);return this}copyDependenciesFromIncrementalOperation(e,t){const n=this.#d,i=this.#c;for(const r of this.#t[t])n.get(r).dependencies.forEach(i.add,i.add(r));return this}recordNamedDependency(e,t){return this.#n.has(t)&&this.#c.add(this.#n.get(t)),this}recordOperation(e,t=!1){this.recordDependencies(e,[po]);const n=new Set(this.#c),i=this.#i.concat(this.#s),r=this.#l===e?{minX:this.#o[0],minY:this.#o[1],maxX:this.#o[2],maxY:this.#o[3]}:null;return this.#d.set(e,{bbox:r,pairs:i,dependencies:n}),t||(this.#l=-1),this.#c.clear(),this}bboxToClipBoxDropOperation(e){return this.#l!==-1&&(this.#l=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3])),this.#c.clear(),this}_takePendingDependencies(){const e=this.#c;return this.#c=new Set,e}_extractOperation(e){const t=this.#d.get(e);return this.#d.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#c.add(t)}take(){return this.#u.clear(),Array.from(this.#d,([e,{bbox:t,pairs:n,dependencies:i}])=>(n.forEach(r=>r.forEach(i.add,i)),i.delete(e),{minX:(t?.minX??0)/this.#f,maxX:(t?.maxX??this.#f)/this.#f,minY:(t?.minY??0)/this.#g,maxY:(t?.maxY??this.#g)/this.#g,dependencies:Array.from(i).sort((r,s)=>r-s),idx:e}))}}class rd{#e;#t;#n=0;#i;#s=0;constructor(e,t){if(e instanceof rd)return e;this.#e=e,this.#i=e._takePendingDependencies(),this.#t=t}save(e){return this.#s++,this.#e.save(this.#t),this}restore(e){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#e.hasPendingBBox||this.#e.resetBBox(this.#t),this}get hasPendingBBox(){return this.#e.hasPendingBBox}recordClipBox(e,t,n,i,r,s){return this.#e.recordClipBox(this.#t,t,n,i,r,s),this}recordBBox(e,t,n,i,r,s){return this.#e.recordBBox(this.#t,t,n,i,r,s),this}recordCharacterBBox(e,t,n,i,r,s,o){return this.#e.recordCharacterBBox(this.#t,t,n,i,r,s,o),this}recordFullPageBBox(e){return this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}copyDependenciesFromIncrementalOperation(e,t){return this.#e.copyDependenciesFromIncrementalOperation(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){this.#e.recordOperation(this.#t,!0);const t=this.#e._extractOperation(this.#t);for(const n of t.dependencies)this.#i.add(n);return this.#i.delete(this.#t),this.#i.delete(null),this}bboxToClipBoxDropOperation(e){return this.#e.bboxToClipBoxDropOperation(this.#t),this}recordNestedDependencies(){this.#e._pushPendingDependencies(this.#i)}take(){throw new Error("Unreachable")}}const zi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],transform:["transform"],transformAndFill:["transform","fillColor"]},Nn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rb(u,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),u.clip(i)}class wy{isModifyingCurrentTransform(){return!1}getPattern(){Ft("Abstract method `getPattern` called.")}}class xL extends wy{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===Nn.STROKE||i===Nn.FILL){const s=t.current.getClippedPathBoundingBox(i,$t(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,h=t.cachedCanvases.getCanvas("pattern",o,l),d=h.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-s[0],-s[1]),n=He.transform(n,[1,0,0,1,s[0],s[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),rb(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);r.setTransform(p)}else rb(e,this._bbox),r=this._createGradient(e);return r}}function Fm(u,e,t,n,i,r,s,o){const l=e.coords,h=e.colors,d=u.data,p=u.width*4;let g;l[t+1]>l[n+1]&&(g=t,t=n,n=g,g=r,r=s,s=g),l[n+1]>l[i+1]&&(g=n,n=i,i=g,g=s,s=o,o=g),l[t+1]>l[n+1]&&(g=t,t=n,n=g,g=r,r=s,s=g);const m=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,y=(l[n]+e.offsetX)*e.scaleX,A=(l[n+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,_=(l[i+1]+e.offsetY)*e.scaleY;if(v>=_)return;const w=h[r],S=h[r+1],E=h[r+2],C=h[s],R=h[s+1],N=h[s+2],F=h[o],I=h[o+1],q=h[o+2],L=Math.round(v),H=Math.round(_);let k,Z,M,O,K,Q,z,P;for(let V=L;V<=H;V++){if(V<A){const ve=V<v?0:(v-V)/(v-A);k=m-(m-y)*ve,Z=w-(w-C)*ve,M=S-(S-R)*ve,O=E-(E-N)*ve}else{let ve;V>_?ve=1:A===_?ve=0:ve=(A-V)/(A-_),k=y-(y-x)*ve,Z=C-(C-F)*ve,M=R-(R-I)*ve,O=N-(N-q)*ve}let $;V<v?$=0:V>_?$=1:$=(v-V)/(v-_),K=m-(m-x)*$,Q=w-(w-F)*$,z=S-(S-I)*$,P=E-(E-q)*$;const se=Math.round(Math.min(k,K)),le=Math.round(Math.max(k,K));let ye=p*V+se*4;for(let ve=se;ve<=le;ve++)$=(k-ve)/(k-K),$<0?$=0:$>1&&($=1),d[ye++]=Z-(Z-Q)*$|0,d[ye++]=M-(M-z)*$|0,d[ye++]=O-(O-P)*$|0,d[ye++]=255}}function _L(u,e,t){const n=e.coords,i=e.colors;let r,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,h=o-1;for(r=0;r<l;r++){let d=r*o;for(let p=0;p<h;p++,d++)Fm(u,t,n[d],n[d+1],n[d+o],i[d],i[d+1],i[d+o]),Fm(u,t,n[d+o+1],n[d+1],n[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(r=0,s=n.length;r<s;r+=3)Fm(u,t,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class DL extends wy{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=h/p,v=d/g,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/v},A=p+4,x=g+4,_=n.getCanvas("mesh",A,x),w=_.context,S=w.createImageData(p,g);if(t){const C=S.data;for(let R=0,N=C.length;R<N;R+=4)C[R]=t[0],C[R+1]=t[1],C[R+2]=t[2],C[R+3]=255}for(const C of this._figures)_L(S,C,y);return w.putImageData(S,2,2),{canvas:_.canvas,offsetX:o-2*m,offsetY:l-2*v,scaleX:m,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){rb(e,this._bbox);const r=new Float32Array(2);if(i===Nn.SHADING)He.singularValueDecompose2dScale($t(e),r);else if(this.matrix){He.singularValueDecompose2dScale(this.matrix,r);const[o,l]=r;He.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=o,r[1]*=l}else He.singularValueDecompose2dScale(t.baseTransform,r);const s=this._createMeshCanvas(r,i===Nn.SHADING?null:this._background,t.cachedCanvases);return i!==Nn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class wL extends wy{getPattern(){return"hotpink"}}function EL(u){switch(u[0]){case"RadialAxial":return new xL(u);case"Mesh":return new DL(u);case"Dummy":return new wL}throw new Error(`Unknown IR type: ${u[0]}`)}const N_={COLORED:1,UNCOLORED:2};class Ey{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:r,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:h}=this;l=Math.abs(l),h=Math.abs(h),$d("TilingType: "+r);const d=t[0],p=t[1],g=t[2],m=t[3],v=g-d,y=m-p,A=new Float32Array(2);He.singularValueDecompose2dScale(this.matrix,A);const[x,_]=A;He.singularValueDecompose2dScale(this.baseTransform,A);const w=x*A[0],S=_*A[1];let E=v,C=y,R=!1,N=!1;const F=Math.ceil(l*w),I=Math.ceil(h*S),q=Math.ceil(v*w),L=Math.ceil(y*S);F>=q?E=l:R=!0,I>=L?C=h:N=!0;const H=this.getSizeAndScale(E,this.ctx.canvas.width,w),k=this.getSizeAndScale(C,this.ctx.canvas.height,S),Z=e.cachedCanvases.getCanvas("pattern",H.size,k.size),M=Z.context,O=o.createCanvasGraphics(M);if(O.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(O,i,s),M.translate(-H.scale*d,-k.scale*p),O.transform(0,H.scale,0,0,k.scale,0,0),M.save(),O.dependencyTracker?.save(),this.clipBbox(O,d,p,g,m),O.baseTransform=$t(O.ctx),O.executeOperatorList(n),O.endDrawing(),O.dependencyTracker?.restore().recordNestedDependencies?.(),M.restore(),R||N){const K=Z.canvas;R&&(E=l),N&&(C=h);const Q=this.getSizeAndScale(E,this.ctx.canvas.width,w),z=this.getSizeAndScale(C,this.ctx.canvas.height,S),P=Q.size,V=z.size,$=e.cachedCanvases.getCanvas("pattern-workaround",P,V),se=$.context,le=R?Math.floor(v/l):0,ye=N?Math.floor(y/h):0;for(let ve=0;ve<=le;ve++)for(let Ee=0;Ee<=ye;Ee++)se.drawImage(K,P*ve,V*Ee,P,V,0,0,P,V);return{canvas:$.canvas,scaleX:Q.scale,scaleY:z.scale,offsetX:d,offsetY:p}}return{canvas:Z.canvas,scaleX:H.scale,scaleY:k.scale,offsetX:d,offsetY:p}}getSizeAndScale(e,t,n){const i=Math.max(Ey.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const s=i-t,o=r-n;e.ctx.rect(t,n,s,o),He.axialAlignedBoundingBox([t,n,i,r],$t(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case N_.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;i.fillStyle=r.fillColor=s,i.strokeStyle=r.strokeColor=o;break;case N_.UNCOLORED:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new jM(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i){let r=n;i!==Nn.SHADING&&(r=He.transform(r,t.baseTransform),this.matrix&&(r=He.transform(r,this.matrix)));const s=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}}function TL({src:u,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:s=!1}){const o=On.isLittleEndian?4278190080:255,[l,h]=s?[r,o]:[o,r],d=n>>3,p=n&7,g=u.length;t=new Uint32Array(t.buffer);let m=0;for(let v=0;v<i;v++){for(const A=e+d;e<A;e++){const x=e<g?u[e]:255;t[m++]=x&128?h:l,t[m++]=x&64?h:l,t[m++]=x&32?h:l,t[m++]=x&16?h:l,t[m++]=x&8?h:l,t[m++]=x&4?h:l,t[m++]=x&2?h:l,t[m++]=x&1?h:l}if(p===0)continue;const y=e<g?u[e++]:255;for(let A=0;A<p;A++)t[m++]=y&1<<7-A?h:l}return{srcPos:e,destPos:m}}const O_=16,B_=100,SL=15,I_=10,ci=16,Mm=new DOMMatrix,wi=new Float32Array(2),xo=new Float32Array([1/0,1/0,-1/0,-1/0]);function CL(u,e){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){e.save(),this.__originalSave()},u.restore=function(){e.restore(),this.__originalRestore()},u.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},u.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},u.transform=function(t,n,i,r,s,o){e.transform(t,n,i,r,s,o),this.__originalTransform(t,n,i,r,s,o)},u.setTransform=function(t,n,i,r,s,o){e.setTransform(t,n,i,r,s,o),this.__originalSetTransform(t,n,i,r,s,o)},u.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},u.rotate=function(t){e.rotate(t),this.__originalRotate(t)},u.clip=function(t){e.clip(t),this.__originalClip(t)},u.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},u.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},u.bezierCurveTo=function(t,n,i,r,s,o){e.bezierCurveTo(t,n,i,r,s,o),this.__originalBezierCurveTo(t,n,i,r,s,o)},u.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},u.closePath=function(){e.closePath(),this.__originalClosePath()},u.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class RL{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function bh(u,e,t,n,i,r,s,o,l,h){const[d,p,g,m,v,y]=$t(u);if(p===0&&g===0){const _=s*d+v,w=Math.round(_),S=o*m+y,E=Math.round(S),C=(s+l)*d+v,R=Math.abs(Math.round(C)-w)||1,N=(o+h)*m+y,F=Math.abs(Math.round(N)-E)||1;return u.setTransform(Math.sign(d),0,0,Math.sign(m),w,E),u.drawImage(e,t,n,i,r,0,0,R,F),u.setTransform(d,p,g,m,v,y),[R,F]}if(d===0&&m===0){const _=o*g+v,w=Math.round(_),S=s*p+y,E=Math.round(S),C=(o+h)*g+v,R=Math.abs(Math.round(C)-w)||1,N=(s+l)*p+y,F=Math.abs(Math.round(N)-E)||1;return u.setTransform(0,Math.sign(p),Math.sign(g),0,w,E),u.drawImage(e,t,n,i,r,0,0,F,R),u.setTransform(d,p,g,m,v,y),[F,R]}u.drawImage(e,t,n,i,r,s,o,l,h);const A=Math.hypot(d,p),x=Math.hypot(g,m);return[A*l,x*h]}class P_{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Qm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Fn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=xo.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Nn.FILL,t=null){const n=this.minMax.slice();if(e===Nn.STROKE){t||Ft("Stroke bounding box must include transform."),He.singularValueDecompose2dScale(t,wi);const i=wi[0]*this.lineWidth/2,r=wi[1]*this.lineWidth/2;n[0]-=i,n[1]-=r,n[2]+=i,n[3]+=r}return n}updateClipFromPath(){const e=He.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(xo,0)}getClippedPathBoundingBox(e=Nn.FILL,t=null){return He.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function W_(u,e){if(e instanceof ImageData){u.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%ci,r=(t-i)/ci,s=i===0?r:r+1,o=u.createImageData(n,ci);let l=0,h;const d=e.data,p=o.data;let g,m,v,y;if(e.kind===$h.GRAYSCALE_1BPP){const A=d.byteLength,x=new Uint32Array(p.buffer,0,p.byteLength>>2),_=x.length,w=n+7>>3,S=4294967295,E=On.isLittleEndian?4278190080:255;for(g=0;g<s;g++){for(v=g<r?ci:i,h=0,m=0;m<v;m++){const C=A-l;let R=0;const N=C>w?n:C*8-7,F=N&-8;let I=0,q=0;for(;R<F;R+=8)q=d[l++],x[h++]=q&128?S:E,x[h++]=q&64?S:E,x[h++]=q&32?S:E,x[h++]=q&16?S:E,x[h++]=q&8?S:E,x[h++]=q&4?S:E,x[h++]=q&2?S:E,x[h++]=q&1?S:E;for(;R<N;R++)I===0&&(q=d[l++],I=128),x[h++]=q&I?S:E,I>>=1}for(;h<_;)x[h++]=0;u.putImageData(o,0,g*ci)}}else if(e.kind===$h.RGBA_32BPP){for(m=0,y=n*ci*4,g=0;g<r;g++)p.set(d.subarray(l,l+y)),l+=y,u.putImageData(o,0,m),m+=ci;g<s&&(y=n*i*4,p.set(d.subarray(l,l+y)),u.putImageData(o,0,m))}else if(e.kind===$h.RGB_24BPP)for(v=ci,y=n*v,g=0;g<s;g++){for(g>=r&&(v=i,y=n*v),h=0,m=y;m--;)p[h++]=d[l++],p[h++]=d[l++],p[h++]=d[l++],p[h++]=255;u.putImageData(o,0,g*ci)}else throw new Error(`bad image kind: ${e.kind}`)}function z_(u,e){if(e.bitmap){u.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%ci,r=(t-i)/ci,s=i===0?r:r+1,o=u.createImageData(n,ci);let l=0;const h=e.data,d=o.data;for(let p=0;p<s;p++){const g=p<r?ci:i;({srcPos:l}=TL({src:h,srcPos:l,dest:d,width:n,height:g,nonBlackColor:0})),u.putImageData(o,0,p*ci)}}function Vc(u,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)u[n]!==void 0&&(e[n]=u[n]);u.setLineDash!==void 0&&(e.setLineDash(u.getLineDash()),e.lineDashOffset=u.lineDashOffset)}function yh(u){u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0);const{filter:e}=u;e!=="none"&&e!==""&&(u.filter="none")}function H_(u,e){if(e)return!0;He.singularValueDecompose2dScale(u,wi);const t=Math.fround(vr.pixelRatio*No.PDF_TO_CSS_UNITS);return wi[0]<=t&&wi[1]<=t}const UL=["butt","round","square"],kL=["miter","round","bevel"],FL={},j_={};class So{constructor(e,t,n,i,r,{optionalContentConfig:s,markedContentStack:o=null},l,h,d){this.ctx=e,this.current=new P_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new RL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...$t(this.compositeCtx))}this.ctx.save(),yh(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=$t(this.ctx)}executeOperatorList(e,t,n,i,r){const s=e.argsArray,o=e.fnArray;let l=t||0;const h=s.length;if(h===l)return l;const d=h-l>I_&&typeof n=="function",p=d?Date.now()+SL:0;let g=0;const m=this.commonObjs,v=this.objs;let y,A;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(!r||r.has(l))if(y=o[l],A=s[l]??null,y!==bl.dependency)A===null?this[y](l):this[y](l,...A);else for(const x of A){this.dependencyTracker?.recordNamedData(x,l);const _=x.startsWith("g_")?m:v;if(!_.has(x))return _.get(x,n),l}if(l++,l===h)return l;if(d&&++g>I_){if(Date.now()>p)return n(),l;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,h="prescale1",d,p;for(;r>2&&o>1||s>2&&l>1;){let g=o,m=l;r>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/g),s>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/m),d=this.cachedCanvases.getCanvas(h,g,m),p=d.context,p.clearRect(0,0,g,m),p.drawImage(e,0,0,o,l,0,0,g,m),e=d.canvas,o=g,l=m,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){const n=this.ctx,{width:i,height:r}=t,s=this.current.fillColor,o=this.current.patternFill,l=$t(n);let h,d,p,g;if((t.bitmap||t.data)&&t.count>1){const I=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),s]),h=this._cachedBitmapsMap.get(I),h||(h=new Map,this._cachedBitmapsMap.set(I,h));const q=h.get(d);if(q&&!o){const L=Math.round(Math.min(l[0],l[2])+l[4]),H=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(e,zi.transformAndFill),{canvas:q,offsetX:L,offsetY:H}}p=q}p||(g=this.cachedCanvases.getCanvas("maskCanvas",i,r),z_(g.context,t));let m=He.transform(l,[1/i,0,0,-1/r,0,0]);m=He.transform(m,[1,0,0,1,0,-r]);const v=xo.slice();He.axialAlignedBoundingBox([0,0,i,r],m,v);const[y,A,x,_]=v,w=Math.round(x-y)||1,S=Math.round(_-A)||1,E=this.cachedCanvases.getCanvas("fillCanvas",w,S),C=E.context,R=y,N=A;C.translate(-R,-N),C.transform(...m),p||(p=this._scaleImage(g.canvas,fr(C)),p=p.img,h&&o&&h.set(d,p)),C.imageSmoothingEnabled=H_($t(C),t.interpolate),bh(C,p,0,0,p.width,p.height,0,0,i,r),C.globalCompositeOperation="source-in";const F=He.transform(fr(C),[1,0,0,1,-R,-N]);return C.fillStyle=o?s.getPattern(n,this,F,Nn.FILL):s,C.fillRect(0,0,i,r),h&&!o&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,E.canvas)),this.dependencyTracker?.recordDependencies(e,zi.transformAndFill),{canvas:E.canvas,offsetX:Math.round(R),offsetY:Math.round(N)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=UL[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=kL[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,i]of t)switch(n){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const s=this.ctx=r.context;s.setTransform(this.suspendedCtx.getTransform()),Vc(this.suspendedCtx,s),CL(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Vc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],s=i[1],o=i[2]-r,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,r,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,s,o,l,h,d,p){let g=e.canvas,m=l-d,v=h-p;if(s)if(m<0||v<0||m+n>g.width||v+i>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,i),x=A.context;x.drawImage(g,-m,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=s,x.fillRect(0,0,n,i),x.globalCompositeOperation="source-over",g=A.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(m,v,n,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(m,v,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,h,n,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(g,m,v,n,i,l,h,n,i),t.restore()}save(e){this.inSMaskMode&&Vc(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Vc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,r,s,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[r]=n;if(!i){r||=n[0]=new Path2D,this[t](e,r);return}if(this.dependencyTracker!==null){const s=t===bl.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}if(!(r instanceof Path2D)){const s=n[0]=new Path2D;for(let o=0,l=r.length;o<l;)switch(r[o++]){case fh.moveTo:s.moveTo(r[o++],r[o++]);break;case fh.lineTo:s.lineTo(r[o++],r[o++]);break;case fh.curveTo:s.bezierCurveTo(r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]);break;case fh.closePath:s.closePath();break;default:at(`Unrecognized drawing path operator: ${r[o-1]}`);break}r=s}He.axialAlignedBoundingBox(i,$t(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const s=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,fr(i),Nn.STROKE),s){const o=new Path2D;o.addPath(t,i.getTransform().invertSelf().multiplySelf(s)),t=o}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,zi.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Nn.STROKE,$t(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const h=r.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=r.getPattern(i,this,fr(i),Nn.FILL),h){const d=new Path2D;d.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=d}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),this.dependencyTracker?.recordDependencies(e,zi.fill),o&&(i.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,zi.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=FL}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=j_}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,r=n.getTransform().invertSelf();for(const{transform:s,x:o,y:l,fontSize:h,path:d}of t)d&&i.addPath(d,new DOMMatrix(s).preMultiplySelf(r).translate(o,l).scale(h,-h));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordNamedDependency(e,t);const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||Qm,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&at("Invalid font matrix for font "+t),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const h=i.italic?"italic":"normal";let d=n;n<O_?d=O_:n>B_&&(d=B_),this.current.fontSizeScale=n/d,this.ctx.font=`${h} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#n(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i}paintChar(e,t,n,i,r,s){const o=this.ctx,l=this.current,h=l.font,d=l.textRenderingMode,p=l.fontSize/l.fontSizeScale,g=d&Fn.FILL_STROKE_MASK,m=!!(d&Fn.ADD_TO_PATH_FLAG),v=l.patternFill&&!h.missingFile,y=l.patternStroke&&!h.missingFile;let A;if((h.disableFontFace||m||v||y)&&!h.missingFile&&(A=h.getPathGenerator(this.commonObjs,t)),A&&(h.disableFontFace||v||y)){o.save(),o.translate(n,i),o.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,o,h);let x;if(g===Fn.FILL||g===Fn.FILL_STROKE)if(r){x=o.getTransform(),o.setTransform(...r);const _=this.#n(A,x,r);o.fill(_)}else o.fill(A);if(g===Fn.STROKE||g===Fn.FILL_STROKE)if(s){x||=o.getTransform(),o.setTransform(...s);const{a:_,b:w,c:S,d:E}=x,C=He.inverseTransform(s),R=He.transform([_,w,S,E,0,0],C);He.singularValueDecompose2dScale(R,wi),o.lineWidth*=Math.max(wi[0],wi[1])/p,o.stroke(this.#n(A,x,s))}else o.lineWidth/=p,o.stroke(A);o.restore()}else(g===Fn.FILL||g===Fn.FILL_STROKE)&&(o.fillText(t,n,i),this.dependencyTracker?.recordCharacterBBox(e,o,h,p,n,i,()=>o.measureText(t))),(g===Fn.STROKE||g===Fn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,h,p,n,i,()=>o.measureText(t)).recordDependencies(e,zi.stroke),o.strokeText(t,n,i));m&&((this.pendingTextPaths||=[]).push({transform:$t(o),x:n,y:i,fontSize:p,path:A}),this.dependencyTracker?.recordCharacterBBox(e,o,h,p,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return dt(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,zi.showText).copyDependenciesFromIncrementalOperation(e,"sameLineText").resetBBox(e),this.current.textRenderingMode&Fn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordOperation(e).recordIncrementalData("sameLineText",e);return}const r=n.fontSize;if(r===0){this.dependencyTracker?.recordOperation(e);return}const s=this.ctx,o=n.fontSizeScale,l=n.charSpacing,h=n.wordSpacing,d=n.fontDirection,p=n.textHScale*d,g=t.length,m=i.vertical,v=m?1:-1,y=i.defaultVMetrics,A=r*n.fontMatrix[0],x=n.textRenderingMode===Fn.FILL&&!i.disableFontFace&&!n.patternFill;s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),d>0?s.scale(p,-1):s.scale(p,1);let _,w;if(n.patternFill){s.save();const N=n.fillColor.getPattern(s,this,fr(s),Nn.FILL);_=$t(s),s.restore(),s.fillStyle=N}if(n.patternStroke){s.save();const N=n.strokeColor.getPattern(s,this,fr(s),Nn.STROKE);w=$t(s),s.restore(),s.strokeStyle=N}let S=n.lineWidth;const E=n.textMatrixScale;if(E===0||S===0){const N=n.textRenderingMode&Fn.FILL_STROKE_MASK;(N===Fn.STROKE||N===Fn.FILL_STROKE)&&(S=this.getSinglePixelWidth())}else S/=E;if(o!==1&&(s.scale(o,o),S/=o),s.lineWidth=S,i.isInvalidPDFjsFont){const N=[];let F=0;for(const q of t)N.push(q.unicode),F+=q.width;const I=N.join("");if(s.fillText(I,0,0),this.dependencyTracker!==null){const q=s.measureText(I);this.dependencyTracker.recordBBox(e,this.ctx,-q.actualBoundingBoxLeft,q.actualBoundingBoxRight,-q.actualBoundingBoxAscent,q.actualBoundingBoxDescent).recordOperation(e).recordIncrementalData("sameLineText",e)}n.x+=F*A*p,s.restore(),this.compose();return}let C=0,R;for(R=0;R<g;++R){const N=t[R];if(typeof N=="number"){C+=v*N*r/1e3;continue}let F=!1;const I=(N.isSpace?h:0)+l,q=N.fontChar,L=N.accent;let H,k,Z=N.width;if(m){const K=N.vmetric||y,Q=-(N.vmetric?K[1]:Z*.5)*A,z=K[2]*A;Z=K?-K[0]:Z,H=Q/o,k=(C+z)/o}else H=C/o,k=0;let M;if(i.remeasure&&Z>0){M=s.measureText(q);const K=M.width*1e3/r*o;if(Z<K&&this.isFontSubpixelAAEnabled){const Q=Z/K;F=!0,s.save(),s.scale(Q,1),H/=Q}else Z!==K&&(H+=(Z-K)/2e3*r/o)}if(this.contentVisible&&(N.isInFont||i.missingFile)){if(x&&!L)s.fillText(q,H,k),this.dependencyTracker?.recordCharacterBBox(e,s,M?{bbox:null}:i,r/o,H,k,()=>M??s.measureText(q));else if(this.paintChar(e,q,H,k,_,w),L){const K=H+r*L.offset.x/o,Q=k-r*L.offset.y/o;this.paintChar(e,L.fontChar,K,Q,_,w)}}const O=m?Z*A-I*d:Z*A+I*d;C+=O,F&&s.restore()}m?n.y-=C:n.x+=C*p,s.restore(),this.compose(),this.dependencyTracker?.recordOperation(e).recordIncrementalData("sameLineText",e)}showType3Text(e,t){const n=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,l=r.vertical?1:-1,h=i.charSpacing,d=i.wordSpacing,p=i.textHScale*o,g=i.fontMatrix||Qm,m=t.length,v=i.textRenderingMode===Fn.INVISIBLE;let y,A,x,_;if(v||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(p,o);const w=this.dependencyTracker;for(this.dependencyTracker=w?new rd(w,e):null,y=0;y<m;++y){if(A=t[y],typeof A=="number"){_=l*A*s/1e3,this.ctx.translate(_,0),i.x+=_*p;continue}const S=(A.isSpace?d:0)+h,E=r.charProcOperatorList[A.operatorListId];E?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...g),this.executeOperatorList(E),this.restore()):at(`Type3 character "${A.operatorListId}" is not available.`);const C=[A.width,0];He.applyTransform(C,g),x=C[0]*s+S,n.translate(x,0),i.x+=x*p}n.restore(),w&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=w)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,r,s,o){const l=new Path2D;l.rect(i,r,s-i,o-r),this.ctx.clip(l),this.dependencyTracker?.recordBBox(e,this.ctx,i,s,r,o).recordClipBox(e,this.ctx,i,s,r,o),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||$t(this.ctx),r={createCanvasGraphics:s=>new So(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new rd(this.dependencyTracker,e):null)};n=new Ey(t,this.ctx,r,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=EL(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,fr(n),Nn.SHADING);const r=fr(n);if(r){const{width:s,height:o}=n.canvas,l=xo.slice();He.axialAlignedBoundingBox([0,0,s,o],r,l);const[h,d,p,g]=l;this.ctx.fillRect(h,d,p-h,g-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,zi.transform).recordDependencies(e,zi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ft("Should not call beginInlineImage")}beginImageData(){Ft("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=$t(this.ctx),n)){He.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,r,s,o]=n,l=new Path2D;l.rect(i,r,s-i,o-r),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(e,this.ctx,i,s,r,o),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||$d("TODO: Support non-isolated groups."),t.knockout&&at("Knockout groups not supported.");const i=$t(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=xo.slice();He.axialAlignedBoundingBox(t.bbox,$t(n),r);const s=[0,0,n.canvas.width,n.canvas.height];r=He.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-o,1),d=Math.max(Math.ceil(r[3])-l,1);this.current.startNewPathAndClipBox([0,0,h,d]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,h,d),m=g.context;m.translate(-o,-l),m.transform(...i);let v=new Path2D;const[y,A,x,_]=t.bbox;if(v.rect(y,A,x-y,_-A),t.matrix){const w=new Path2D;w.addPath(v,new DOMMatrix(t.matrix)),v=w}m.clip(v),t.smask&&this.smaskStack.push({canvas:g.canvas,context:m,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),Vc(n,m),this.ctx=m,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const r=$t(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...r);const s=xo.slice();He.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r,s),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,r,s){if(this.#e(),yh(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,He.singularValueDecompose2dScale($t(this.ctx),wi);const{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),p=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,p);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(wi[0],0,0,-wi[1],0,l*wi[1]),yh(this.ctx)}else{yh(this.ctx),this.endPath(e);const h=new Path2D;h.rect(n[0],n[1],o,l),this.ctx.clip(h)}}this.current=new P_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,r=this._createMaskCanvas(e,t),s=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,r.offsetX,r.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+s.width,r.offsetY,r.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,r=0,s,o){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const h=$t(l);l.transform(n,i,r,s,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,g=o.length;p<g;p+=2){const m=He.transform(h,[n,i,r,s,o[p],o[p+1]]);l.drawImage(d.canvas,m[4],m[5]),this.dependencyTracker?.recordBBox(e,this.ctx,m[4],m[4]+d.canvas.width,m[5],m[5]+d.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,zi.transformAndFill);for(const s of t){const{data:o,width:l,height:h,transform:d}=s,p=this.cachedCanvases.getCanvas("maskCanvas",l,h),g=p.context;g.save();const m=this.getObject(e,o,s);z_(g,m),g.globalCompositeOperation="source-in",g.fillStyle=r?i.getPattern(g,this,fr(n),Nn.FILL):i,g.fillRect(0,0,l,h),g.restore(),n.save(),n.transform(...d),n.scale(1,-1),bh(n,p.canvas,0,0,l,h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,l,0,h),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){at("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,r){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){at("Dependent image isn't ready yet");return}const o=s.width,l=s.height,h=[];for(let d=0,p=r.length;d<p;d+=2)h.push({transform:[n,0,0,i,r[d],r[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,s,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",r.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,i=t.height,r=this.ctx;this.save(e);const{filter:s}=r;s!=="none"&&s!==""&&(r.filter="none"),r.scale(1/n,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,i).context;W_(d,t),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,fr(r));r.imageSmoothingEnabled=H_($t(r),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,r,0,n,-i,0).recordDependencies(e,zi.imageXObject).recordOperation(e),bh(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,o=t.height,h=this.cachedCanvases.getCanvas("inlineImage",s,o).context;W_(h,t),r=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(e);for(const s of n)i.save(),i.transform(...s.transform),i.scale(1,-1),bh(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,zi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;this.pendingClip?(i||(this.pendingClip===j_?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=$t(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let s,o;if(n===0&&i===0){const l=Math.abs(t),h=Math.abs(r);if(l===h)if(e===0)s=o=1/l;else{const d=l*e;s=o=d<1?1/d:1}else if(e===0)s=1/l,o=1/h;else{const d=l*e,p=h*e;s=d<1?1/d:1,o=p<1?1/p:1}}else{const l=Math.abs(t*r-n*i),h=Math.hypot(t,n),d=Math.hypot(i,r);if(e===0)s=d/l,o=h/l;else{const p=e*l;s=d>p?d/p:1,o=h>p?h/p:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[r,s]=this.getScaleForStroking();if(r===s){n.lineWidth=(i||1)*r,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(r,s),Mm.a=1/r,Mm.d=1/s;const l=new Path2D;if(l.addPath(e,Mm),o.length>0){const h=Math.max(r,s);n.setLineDash(o.map(d=>d/h)),n.lineDashOffset/=h}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const u in bl)So.prototype[u]!==void 0&&(So.prototype[bl[u]]=So.prototype[u]);class Co{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class ML{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const yo=Symbol("INTERNAL");class LL{#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:n,usage:i,rbGroups:r}){this.#e=!!(e&_i.DISPLAY),this.#t=!!(e&_i.PRINT),this.name=t,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==yo&&Ft("Internal method `_setVisible` called."),this.#n=n,this.#i=t}}class NL{#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=_i.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(const n of e.groups)this.#t.set(n.id,new LL(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(yo,!1);for(const n of e.on)this.#t.get(n)._setVisible(yo,!0);for(const n of e.off)this.#t.get(n)._setVisible(yo,!1);this.#n=this.getHash()}}#s(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const r=e[i];let s;if(Array.isArray(r))s=this.#s(r);else if(this.#t.has(r))s=this.#t.get(r).visible;else return at(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return $d("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(at(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return at(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return at(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return at(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return at(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return at(`Unknown optional content policy ${e.policy}.`),!0}return at(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const i=this.#t.get(e);if(!i){at(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const r of i.rbGroups)for(const s of r)s!==e&&this.#t.get(s)?._setVisible(yo,!1,!0);i._setVisible(yo,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=this.#t.get(i);if(r)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new iT;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class OL{constructor(e,{disableRange:t=!1,disableStream:n=!1}){dn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,r?.length>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,h)=>{this._onReceiveData({begin:l,chunk:h})}),e.addProgressListener((l,h)=>{this._onProgress({loaded:l,total:h})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(n),!0)});dn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){dn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new BL(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new IL(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class BL{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=vy(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class IL{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function PL(u){let e=!0,t=n("filename\\*","i").exec(u);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=h(d),r(d)}if(t=s(u),t){const d=h(t);return r(d)}if(t=n("filename","i").exec(u),t){t=t[1];let d=o(t);return d=h(d),r(d)}function n(d,p){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(d,p){if(d){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(d,{fatal:!0}),m=kl(p);p=g.decode(m),e=!1}catch{}}return p}function r(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function s(d){const p=[];let g;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=m.exec(d))!==null;){let[,y,A,x]=g;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[A,x]}const v=[];for(let y=0;y<p.length&&y in p;++y){let[A,x]=p[y];x=o(x),A&&(x=unescape(x),y===0&&(x=l(x))),v.push(x)}return v.join("")}function o(d){if(d.startsWith('"')){const p=d.slice(1).split('\\"');for(let g=0;g<p.length;++g){const m=p[g].indexOf('"');m!==-1&&(p[g]=p[g].slice(0,m),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}d=p.join('"')}return d}function l(d){const p=d.indexOf("'");if(p===-1)return d;const g=d.slice(0,p),v=d.slice(p+1).replace(/^[^']*'/,"");return i(g,v)}function h(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,A){return String.fromCharCode(parseInt(A,16))}),i(g,v);try{v=atob(v)}catch{}return i(g,v)})}return""}function uT(u,e){const t=new Headers;if(!u||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function Kd(u){return URL.parse(u)?.origin??null}function hT({responseHeaders:u,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(u.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||n||!e||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function dT(u){const e=u.get("Content-Disposition");if(e){let t=PL(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(vy(t))return t}return null}function Nl(u,e){return new id(`Unexpected server response (${u}) while retrieving PDF "${e}".`,u,u===404||u===0&&e.startsWith("file:"))}function fT(u){return u===200||u===206}function pT(u,e,t){return{method:"GET",headers:u,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function gT(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(at(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class WL{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=uT(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return dn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zL(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new HL(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class zL{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,pT(n,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=Kd(r.url),!fT(r.status))throw Nl(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=r.headers,{allowRangeRequests:o,suggestedLength:l}=hT({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=dT(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ks("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:gT(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class HL{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,pT(r,this._withCredentials,this._abortController)).then(o=>{const l=Kd(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!fT(o.status))throw Nl(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:gT(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Lm=200,Nm=206;function jL(u){const e=u.response;return typeof e!="string"?e:kl(e).buffer}class qL{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=uT(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,s]of this.headers)t.setRequestHeader(r,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Nm):i.expectedStatus=Lm,t.responseType="arraybuffer",dn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const r=i.status||Lm;if(!(r===Lm&&n.expectedStatus===Nm)&&r!==n.expectedStatus){n.onError(i.status);return}const o=jL(i);if(r===Nm){const l=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);h?n.onDone({begin:parseInt(h[1],10),chunk:o}):(at('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class GL{constructor(e){this._source=e,this._manager=new qL(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return dn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $L(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new VL(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class $L{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Kd(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...h]=o.split(": ");return[l,h.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:s}=hT({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=dT(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Nl(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class VL{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Kd(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Nl(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const XL=/^[a-z][a-z0-9\-+.]+:/i;function YL(u){if(XL.test(u))return new URL(u);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(u))}class KL{constructor(e){this.source=e,this.url=YL(e.url),dn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return dn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new ZL(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new QL(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class ZL{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Nl(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ks("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class QL{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Xc=Symbol("INITIAL_DATA");class mT{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Xc}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const n=this.#e[e];if(!n||n.data===Xc)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Xc}delete(e){const t=this.#e[e];return!t||t.data===Xc?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Xc&&(yield[e,t])}}}const JL=1e5,q_=30;class Vn{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#a=0;#o=0;#l=null;#c=null;#d=0;#u=0;#f=Object.create(null);#g=[];#p=null;#h=[];#m=new WeakMap;#y=null;static#b=new Map;static#A=new Map;static#x=new WeakMap;static#v=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#u=n.scale*vr.pixelRatio,this.#d=n.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:r,pageX:s,pageY:o}=n.rawDims;this.#y=[1,0,0,-1,-s,o+r],this.#o=i,this.#a=r,Vn.#F(),ya(t,n),this.#e.promise.finally(()=>{Vn.#w.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=On.platform;return dt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#l.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#f,t.styles),this.#C(t.items),e()},this.#e.reject)};return this.#l=this.#p.getReader(),Vn.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*vr.pixelRatio,i=e.rotation;if(i!==this.#d&&(t?.(),this.#d=i,ya(this.#c,{rotation:i})),n!==this.#u){t?.(),this.#u=n;const r={div:null,properties:null,ctx:Vn.#k(this.#s)};for(const s of this.#h)r.properties=this.#m.get(s),r.div=s,this.#D(r)}}cancel(){const e=new ks("TextLayer task cancelled.");this.#l?.cancel(e).catch(()=>{}),this.#l=null,this.#e.reject(e)}get textDivs(){return this.#h}get textContentItemsStr(){return this.#g}#C(e){if(this.#n)return;this.#r.ctx??=Vn.#k(this.#s);const t=this.#h,n=this.#g;for(const i of e){if(t.length>JL){at("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const r=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),r.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(i.str),this.#T(i)}}#T(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#h.push(t);const i=He.transform(this.#y,e.transform);let r=Math.atan2(i[1],i[0]);const s=this.#f[e.fontName];s.vertical&&(r+=Math.PI/2);let o=this.#i&&s.fontSubstitution||s.fontFamily;o=Vn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),h=l*Vn.#L(o,s,this.#s);let d,p;r===0?(d=i[4],p=i[5]-h):(d=i[4]+h*Math.sin(r),p=i[5]-h*Math.cos(r));const g="calc(var(--total-scale-factor) *",m=t.style;this.#t===this.#c?(m.left=`${(100*d/this.#o).toFixed(2)}%`,m.top=`${(100*p/this.#a).toFixed(2)}%`):(m.left=`${g}${d.toFixed(2)}px)`,m.top=`${g}${p.toFixed(2)}px)`),m.fontSize=`${g}${(Vn.#v*l).toFixed(2)}px)`,m.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);y!==A&&Math.max(y,A)/Math.min(y,A)>1.5&&(v=!0)}if(v&&(n.canvasWidth=s.vertical?e.height:e.width),this.#m.set(t,n),this.#r.div=t,this.#r.properties=n,this.#D(this.#r),n.hasText&&this.#t.append(t),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#t.append(y)}}#D(e){const{div:t,properties:n,ctx:i}=e,{style:r}=t;let s="";if(Vn.#v>1&&(s=`scale(${1/Vn.#v})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=r,{canvasWidth:l,fontSize:h}=n;Vn.#E(i,h*this.#u,o);const{width:d}=i.measureText(t.textContent);d>0&&(s=`scaleX(${l*this.#u/d}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(r.transform=s)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#A.values())e.remove();this.#A.clear()}}static#k(e=null){let t=this.#A.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#A.set(e,t),this.#x.set(t,{size:0,family:""})}return t}static#E(e,t,n){const i=this.#x.get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)}static#F(){if(this.#v!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#v=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const i=this.#b.get(e);if(i)return i;const r=this.#k(n);r.canvas.width=r.canvas.height=q_,this.#E(r,q_,e);const s=r.measureText(""),o=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let h=.8;return o?h=o/(o+l):(On.platform.isFirefox&&at("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#b.set(e,h),h}}class yl{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(r){if(!r)return;let s=null;const o=r.name;if(o==="#text")s=r.value;else if(yl.shouldBuildText(o))r?.attributes?.textContent?s=r.attributes.textContent:r.value&&(s=r.value);else return;if(s!==null&&t.push({str:s}),!!r.children)for(const l of r.children)i(l)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const eN=100;function bT(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const e=new Ty,{docId:t}=e,n=u.url?cL(u.url):null,i=u.data?lL(u.data):null,r=u.httpHeaders||null,s=u.withCredentials===!0,o=u.password??null,l=u.range instanceof yT?u.range:null,h=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:2**16;let d=u.worker instanceof vl?u.worker:null;const p=u.verbosity,g=typeof u.docBaseUrl=="string"&&!Vd(u.docBaseUrl)?u.docBaseUrl:null,m=gh(u.cMapUrl),v=u.cMapPacked!==!1,y=u.CMapReaderFactory||(Yn?bL:F_),A=gh(u.iccUrl),x=gh(u.standardFontDataUrl),_=u.StandardFontDataFactory||(Yn?yL:M_),w=gh(u.wasmUrl),S=u.WasmFactory||(Yn?vL:L_),E=u.stopAtErrors!==!0,C=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,R=u.isEvalSupported!==!1,N=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!Yn,F=typeof u.isImageDecoderSupported=="boolean"?u.isImageDecoderSupported:!Yn&&(On.platform.isFirefox||!globalThis.chrome),I=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,q=typeof u.disableFontFace=="boolean"?u.disableFontFace:Yn,L=u.fontExtraProperties===!0,H=u.enableXfa===!0,k=u.ownerDocument||globalThis.document,Z=u.disableRange===!0,M=u.disableStream===!0,O=u.disableAutoFetch===!0,K=u.pdfBug===!0,Q=u.CanvasFactory||(Yn?mL:fL),z=u.FilterFactory||(Yn?gL:pL),P=u.enableHWA===!0,V=u.useWasm!==!1,$=l?l.length:u.length??NaN,se=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!Yn&&!q,le=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:!!(y===F_&&_===M_&&S===L_&&m&&x&&w&&nl(m,document.baseURI)&&nl(x,document.baseURI)&&nl(w,document.baseURI)),ye=null;WM(p);const ve={canvasFactory:new Q({ownerDocument:k,enableHWA:P}),filterFactory:new z({docId:t,ownerDocument:k}),cMapReaderFactory:le?null:new y({baseUrl:m,isCompressed:v}),standardFontDataFactory:le?null:new _({baseUrl:x}),wasmFactory:le?null:new S({baseUrl:w})};d||(d=vl.create({verbosity:p,port:Co.workerPort}),e._worker=d);const Ee={docId:t,apiVersion:"5.4.149",data:i,password:o,disableAutoFetch:O,rangeChunkSize:h,length:$,docBaseUrl:g,enableXfa:H,evaluatorOptions:{maxImageSize:C,disableFontFace:q,ignoreErrors:E,isEvalSupported:R,isOffscreenCanvasSupported:N,isImageDecoderSupported:F,canvasMaxAreaInBytes:I,fontExtraProperties:L,useSystemFonts:se,useWasm:V,useWorkerFetch:le,cMapUrl:m,iccUrl:A,standardFontDataUrl:x,wasmUrl:w}},Fe={ownerDocument:k,pdfBug:K,styleElement:ye,loadingParams:{disableAutoFetch:O,enableXfa:H}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ue=d.messageHandler.sendWithPromise("GetDocRequest",Ee,i?[i.buffer]:null);let Oe;if(l)Oe=new OL(l,{disableRange:Z,disableStream:M});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ve=nl(n)?WL:Yn?KL:GL;Oe=new Ve({url:n,length:$,httpHeaders:r,withCredentials:s,rangeChunkSize:h,disableRange:Z,disableStream:M})}return Ue.then(Ve=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Be=new il(t,Ve,d.port),U=new iN(Be,e,Oe,Fe,ve,P);e._transport=U,Be.send("Ready",null)})}).catch(e._capability.reject),e}class Ty{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Ty.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class yT{#e=Promise.withResolvers();#t=[];#n=[];#i=[];#s=[];constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#i.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#s)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#i)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){Ft("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class tN{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class nN{#e=!1;constructor(e,t,n,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new R_:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new mT,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new Ml({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:r=_s.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:m=!1,filteredOperationIndexes:v=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(i,r,p,g),{renderingIntent:A,cacheKey:x}=y;this.#e=!1,l||=this._transport.getOptionalContentConfig(A);let _=this._intentStates.get(x);_||(_=Object.create(null),this._intentStates.set(x,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const w=!!(A&_i.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const S=!this.recordedGroups&&(m||this._pdfBug&&globalThis.StepperManager?.enabled),E=N=>{if(_.renderTasks.delete(C),S){const F=C.gfx?.dependencyTracker.take();F?(C.stepper?.setOperatorGroups(F),m&&(this.recordedGroups=F)):m&&(this.recordedGroups=[])}w&&(this.#e=!0),this.#t(),N?(C.capability.reject(N),this._abortOperatorList({intentState:_,reason:N instanceof Error?N:new Error(N)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new _o({callback:E,params:{canvas:t,canvasContext:e,dependencyTracker:S?new AL(t):null,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,filteredOperationIndexes:v});(_.renderTasks||=new Set).add(C);const R=C.task;return Promise.all([_.displayReadyCapability.promise,l]).then(([N,F])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(F.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:N,optionalContentConfig:F}),C.operatorListChanged()}).catch(E),R}getOperatorList({intent:e="display",annotationMode:t=_s.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>yl.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function r(){s.read().then(function({value:l,done:h}){if(h){n(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},i)}const s=t.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new R_),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},s).getReader(),h=this._intentStates.get(t);h.streamReader=l;const d=()=>{l.read().then(({value:p,done:g})=>{if(g){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),d())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof yy){let i=eN;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ks(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var ws,nr,qr,ua,od,ha,da,Qn,Vh,vT,AT,rl,Uo,Xh;const Ht=class Ht{constructor({name:e=null,port:t=null,verbosity:n=zM()}={}){gn(this,Qn);gn(this,ws,Promise.withResolvers());gn(this,nr,null);gn(this,qr,null);gn(this,ua,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(nt(Ht,da).has(t))throw new Error("Cannot use more than one PDFWorker per port.");nt(Ht,da).set(t,this),mn(this,Qn,vT).call(this,t)}else mn(this,Qn,AT).call(this)}get promise(){return nt(this,ws).promise}get port(){return nt(this,qr)}get messageHandler(){return nt(this,nr)}destroy(){this.destroyed=!0,nt(this,ua)?.terminate(),Bt(this,ua,null),nt(Ht,da).delete(nt(this,qr)),Bt(this,qr,null),nt(this,nr)?.destroy(),Bt(this,nr,null)}static create(e){const t=nt(this,da).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ht(e)}static get workerSrc(){if(Co.workerSrc)return Co.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return dt(this,"_setupFakeWorkerGlobal",(async()=>nt(this,Uo,Xh)?nt(this,Uo,Xh):(await import(this.workerSrc)).WorkerMessageHandler)())}};ws=new WeakMap,nr=new WeakMap,qr=new WeakMap,ua=new WeakMap,od=new WeakMap,ha=new WeakMap,da=new WeakMap,Qn=new WeakSet,Vh=function(){nt(this,ws).resolve(),nt(this,nr).send("configure",{verbosity:this.verbosity})},vT=function(e){Bt(this,qr,e),Bt(this,nr,new il("main","worker",e)),nt(this,nr).on("ready",()=>{}),mn(this,Qn,Vh).call(this)},AT=function(){if(nt(Ht,ha)||nt(Ht,Uo,Xh)){mn(this,Qn,rl).call(this);return}let{workerSrc:e}=Ht;try{Ht._isSameOrigin(window.location,e)||(e=Ht._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new il("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?nt(this,ws).reject(new Error("Worker was destroyed")):mn(this,Qn,rl).call(this)},r=new AbortController;t.addEventListener("error",()=>{nt(this,ua)||i()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}Bt(this,nr,n),Bt(this,qr,t),Bt(this,ua,t),mn(this,Qn,Vh).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{s()}catch{mn(this,Qn,rl).call(this)}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{$d("The worker has been disabled.")}mn(this,Qn,rl).call(this)},rl=function(){nt(Ht,ha)||(at("Setting up fake worker."),Bt(Ht,ha,!0)),Ht._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){nt(this,ws).reject(new Error("Worker was destroyed"));return}const t=new dL;Bt(this,qr,t);const n=`fake${ag(Ht,od)._++}`,i=new il(n+"_worker",n,t);e.setup(i,t),Bt(this,nr,new il(n,n+"_worker",t)),mn(this,Qn,Vh).call(this)}).catch(e=>{nt(this,ws).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Uo=new WeakSet,Xh=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},gn(Ht,Uo),gn(Ht,od,0),gn(Ht,ha,!1),gn(Ht,da,new WeakMap),Yn&&(Bt(Ht,ha,!0),Co.workerSrc||="./pdf.worker.mjs"),Ht._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},Ht._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Ht.fromPort=e=>{if(JM("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ht.create(e)};let vl=Ht;class iN{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(e,t,n,i,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new mT,this.fontLoader=new aL({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}#r(e,t=null){const n=this.#e.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return dt(this,"annotationStorage",new _y)}getRenderingIntent(e,t=_s.ENABLE,n=null,i=!1,r=!1){let s=_i.DISPLAY,o=nb;switch(e){case"any":s=_i.ANY;break;case"display":break;case"print":s=_i.PRINT;break;default:at(`getRenderingIntent - invalid intent: ${e}`)}const l=s&_i.PRINT&&n instanceof rT?n:this.annotationStorage;switch(t){case _s.DISABLE:s+=_i.ANNOTATIONS_DISABLE;break;case _s.ENABLE:break;case _s.ENABLE_FORMS:s+=_i.ANNOTATIONS_FORMS;break;case _s.ENABLE_STORAGE:s+=_i.ANNOTATIONS_STORAGE,o=l.serializable;break;default:at(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=_i.IS_EDITING),r&&(s+=_i.OPLIST);const{ids:h,hash:d}=l.modifiedIds,p=[s,o.hash,d];return{renderingIntent:s,cacheKey:p.join("_"),annotationStorageSerializable:o,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Vn.cleanup(),this._networkStream?.cancelAllRequests(new ks("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{dn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:s}){if(s){i.close();return}dn(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:s}=this._fullReader;return(!i||!r)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{dn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:s,done:o}){if(o){i.close();return}dn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{r.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new tN(n,this))}),e.on("DocException",n=>{t._capability.reject(ai(n))}),e.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!t.onPassword)throw ai(n);const i=r=>{r instanceof Error?this.#s.reject(r):this.#s.resolve({password:r})};t.onPassword(i,n.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,r])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in r){const h=r.error;at(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const s=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,o=new oL(r,s);this.fontLoader.bind(o).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(n,o)});break;case"CopyLocalImage":const{imageRef:l}=r;dn(l,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,d]of h.objs)if(d?.ref===l)return d.dataLen?(this.commonObjs.resolve(n,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,r,s])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){s?.bitmap?.close();return}switch(r){case"Image":case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&at("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#i.set(r.refStr,e);const s=new nN(t,r,this,this._params.pdfBug);return this.#t.set(t,s),s});return this.#n.set(t,i),i}getPageIndex(e){return ib(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(t=>new NL(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new ML(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Vn.cleanup()}}cachedPageNumber(e){if(!ib(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#i.get(t)??null}}class rN{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class _o{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:h,useRequestAnimationFrame:d=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:m=!1,filteredOperationIndexes:v=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=h,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new rN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=m,this._dependencyTracker=t.dependencyTracker,this._filteredOperationIndexes=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(_o.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_o.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:r,dependencyTracker:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new So(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),_o.#t.delete(this._canvas),e||=new yy(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_o.#t.delete(this._canvas),this.callback())))}}const xT="5.4.149",sN="9e2e9e209";class ji{#e=null;#t=null;#n;#i=null;#s=!1;#r=!1;#a=null;#o;#l=null;#c=null;static#d=null;static get _keyboardManager(){return dt(this,"_keyboardManager",new Ll([[["Escape","mac+Escape"],ji.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ji.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ji.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ji.prototype._moveToPrevious],[["Home","mac+Home"],ji.prototype._moveToBeginning],[["End","mac+End"],ji.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#r=!1,this.#a=e):this.#r=!0,this.#c=e?._uiManager||t,this.#o=this.#c._eventBus,this.#n=e?.color?.toUpperCase()||this.#c?.highlightColors.values().next().value||"#FFFF98",ji.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#a&&(e.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const t=this.#c._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#i=this.#u();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#u(){const e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",$i,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(e.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,i]of this.#c.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",ji.#d[n]);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=i,r.ariaSelected=i===this.#n,r.addEventListener("click",this.#f.bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:bt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#i.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#i?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#i.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#i.lastChild?.focus()}#g(e){ji._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#s=e.detail===0,this.#l||(this.#l=new AbortController,window.addEventListener("pointerdown",this.#h.bind(this),{signal:this.#c.combinedSignal(this.#l)})),this.#e.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const t=this.#i=this.#u();this.#e.append(t)}#h(e){this.#i?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#l?.abort(),this.#l=null}get#m(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#m){this.#a?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#i)return;const t=this.#c.highlightColors.values();for(const n of this.#i.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}}class Al{#e=null;#t=null;#n=null;static#i=null;constructor(e){this.#t=e,this.#n=e._uiManager,Al.#i||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:n}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Al.#i[e]),i.addEventListener("input",()=>{this.#n.updateParams(t,i.value)},{signal:this.#n._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function G_(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function Yc(u){return Math.max(0,Math.min(255,255*u))}class $_{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Yc(e),[e,e,e]}static G_HTML([e]){const t=G_(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Yc)}static RGB_HTML(e){return`#${e.map(G_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Yc(1-Math.min(1,e+i)),Yc(1-Math.min(1,n+i)),Yc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,s=1-n,o=Math.min(i,r,s);return["CMYK",i,r,s,o]}}class aN{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ft("Abstract method `_createSVG` called.")}}class sd extends aN{_createSVG(e){return document.createElementNS(zr,e)}}class _T{static setupStorage(e,t,n,i,r){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),r==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,h=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:s}=t,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,h]of Object.entries(s))if(h!=null)switch(l){case"class":h.length&&e.setAttribute(l,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,h)}o&&r.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:r,linkService:n});const o=r!=="richText",l=e.div;if(l.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);s.append(p),o&&yl.shouldBuildText(i.name)&&h.push(p)}return{textDivs:h}}const d=[[i,-1,s]];for(;d.length>0;){const[p,g,m]=d.at(-1);if(g+1===p.children.length){d.pop();continue}const v=p.children[++d.at(-1)[1]];if(v===null)continue;const{name:y}=v;if(y==="#text"){const x=document.createTextNode(v.value);h.push(x),m.append(x);continue}const A=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y);if(m.append(A),v.attributes&&this.setAttributes({html:A,element:v,storage:t,intent:r,linkService:n}),v.children?.length>0)d.push([v,-1,A]);else if(v.value){const x=document.createTextNode(v.value);o&&yl.shouldBuildText(y)&&h.push(x),A.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const oN=9,va=new WeakSet,cN=new Date().getTimezoneOffset()*60*1e3;class V_{static create(e){switch(e.data.annotationType){case ln.LINK:return new Sy(e);case ln.TEXT:return new lN(e);case ln.WIDGET:switch(e.data.fieldType){case"Tx":return new uN(e);case"Btn":return e.data.radioButton?new DT(e):e.data.checkBox?new dN(e):new fN(e);case"Ch":return new pN(e);case"Sig":return new hN(e)}return new Sa(e);case ln.POPUP:return new sb(e);case ln.FREETEXT:return new wT(e);case ln.LINE:return new mN(e);case ln.SQUARE:return new bN(e);case ln.CIRCLE:return new yN(e);case ln.POLYLINE:return new ET(e);case ln.CARET:return new AN(e);case ln.INK:return new Cy(e);case ln.POLYGON:return new vN(e);case ln.HIGHLIGHT:return new TT(e);case ln.UNDERLINE:return new xN(e);case ln.SQUIGGLY:return new _N(e);case ln.STRIKEOUT:return new DN(e);case ln.STAMP:return new ST(e);case ln.FILEATTACHMENT:return new wN(e);default:return new en(e)}}}class en{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return en._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:e,rect:t}=this.data;let n=-1/0,i=-1/0;if(e?.length>=8){for(let r=0;r<e.length;r+=8)e[r+1]>i?(i=e[r+1],n=e[r+2]):e[r+1]===i&&(n=Math.max(n,e[r+2]));return[n,i]}return t?[t[2],t[3]]:null}get commentButtonColor(){if(!this.data.color)return null;const[e,t,n]=this.data.color,r=255*(1-(this.data.opacity??1));return this.#i(Math.min(e+r,255),Math.min(t+r,255),Math.min(n+r,255))}#i(e,t,n){e/=255,t/=255,n/=255;const i=Math.max(e,t,n),r=Math.min(e,t,n),s=(i+r)/2,o=((1+Math.sqrt(s))/2*100).toFixed(2);if(i===r)return`hsl(0, 0%, ${o}%)`;const l=i-r;let h;i===e?h=(t-n)/l+(t<n?6:0):i===t?h=(n-e)/l+2:h=(e-t)/l+4,h=(h*60).toFixed(2);const d=(l/(1-Math.abs(2*s-1))*100).toFixed(2);return`hsl(${h}, ${d}%, ${o}%)`}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/n,e[1]=100*(e[1]-s)/i,e}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#s(t);let i=this.#n?.popup||this.popup;!i&&n?.text&&(this._createPopup(n),i=this.#n.popup),i&&(i.updateEdited(e),n?.deleted&&(i.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#s(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#s(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:l}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-o)/r}%`,t.top=`${100*(s-e[3]+l)/s}%`,i===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),!(this instanceof Sa)&&!(this instanceof Sy)&&(r.tabIndex=0);const{style:s}=r;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof sb){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,r),r}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(y>0||A>0){const _=`calc(${y}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;s.borderRadius=_}else if(this instanceof DT){const _=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;s.borderRadius=_}switch(t.borderStyle.style){case bo.SOLID:s.borderStyle="solid";break;case bo.DASHED:s.borderStyle="dashed";break;case bo.BEVELED:at("Unimplemented border style: beveled");break;case bo.INSET:at("Unimplemented border style: inset");break;case bo.UNDERLINE:s.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(this.#t=!0,s.borderColor=He.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):s.borderWidth=0}const h=He.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:p,pageX:g,pageY:m}=i.rawDims;s.left=`${100*(h[0]-g)/d}%`,s.top=`${100*(h[1]-m)/p}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(s.width=`${100*o/d}%`,s.height=`${100*l/p}%`):this.setRotation(v,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:s}=this;e%180!==0&&([r,s]=[s,r]),t.style.width=`${100*r/n}%`,t.style.height=`${100*s/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const r=i.detail[t],s=r[0],o=r.slice(1);i.target.style[n]=$_[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:$_[`${s}_rgb`](o)})};return dt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||n[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const s=n[i];if(s){const o={detail:{[i]:r},target:e};s(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,A,x,_]=e.subarray(2,6);if(i===y&&r===A&&t===x&&n===_)return}const{style:s}=this.container;let o;if(this.#t){const{borderColor:y,borderWidth:A}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=i-t,h=r-n,{svgFactory:d}=this,p=d.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=d.createElement("defs");p.append(g);const m=d.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),g.append(m);for(let y=2,A=e.length;y<A;y+=8){const x=e[y],_=e[y+1],w=e[y+2],S=e[y+3],E=d.createElement("rect"),C=(w-t)/l,R=(r-_)/h,N=(x-w)/l,F=(_-S)/h;E.setAttribute("x",C),E.setAttribute("y",R),E.setAttribute("width",N),E.setAttribute("height",F),m.append(E),o?.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${R}" width="${N}" height="${F}"/>`)}this.#t&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(p),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const r=this.#n=new sb({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent.div.append(r.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}render(){Ft("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:s,exportValues:o}of i){if(r===-1||s===t)continue;const l=typeof o=="string"?o:null,h=document.querySelector(`[data-element-id="${s}"]`);if(h&&!va.has(h)){at(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:h})}return n}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,s=i.getAttribute("data-element-id");s!==t&&va.has(i)&&n.push({id:s,exportValue:r,domElement:i})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Sy extends en{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#n(n,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){at('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:i,refs:r,include:s}=t,o=[];if(i.length!==0||r.length!==0){const d=new Set(r);for(const p of i){const g=this._fieldObjects[p]||[];for(const{id:m}of g)d.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)d.has(g.id)===s&&o.push(g)}else for(const d of Object.values(this._fieldObjects))o.push(...d);const l=this.annotationStorage,h=[];for(const d of o){const{id:p}=d;switch(h.push(p),d.type){case"text":{const m=d.defaultValue||"";l.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=d.defaultValue===d.exportValues;l.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=d.defaultValue||"";l.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!va.has(g)){at(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class lN extends en{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Sa extends en{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return On.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(s)}})})}_setEventListeners(e,t,n,i){for(const[r,s]of n)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,r,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":He.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||oN,r=e.style;let s;const o=2,l=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(h/(Cm*i))||1,p=h/d;s=Math.min(i,l(p/Cm))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(h/Cm))}r.fontSize=`calc(${s}px * var(--total-scale-factor))`,r.color=He.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class uN extends Sa{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),r.setValue(s.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let r=i.value||"";const s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:r,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=o??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",o??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),va.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:h,datetimeType:d,timeStep:p}=this.data,g=!!d&&this.enableScripting;h&&(n.title=h),this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",v=>{const y=this.data.defaultFieldValue??"";n.value=l.userValue=y,l.formattedValue=null});let m=v=>{const{formattedValue:y}=l;y!=null&&(v.target.value=y),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{if(l.focused)return;const{target:A}=y;if(g&&(A.type=d,p&&(A.step=p)),l.userValue){const x=l.userValue;if(g)if(d==="time"){const _=new Date(x),w=[_.getHours(),_.getMinutes(),_.getSeconds()];A.value=w.map(S=>S.toString().padStart(2,"0")).join(":")}else A.value=new Date(x-cN).toISOString().split(d==="date"?"T":".",1)[0];else A.value=x}l.lastCommittedValue=A.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const A={value(x){l.userValue=x.detail.value??"",g||e.setValue(t,{value:l.userValue.toString()}),x.target.value=l.userValue},formattedValue(x){const{formattedValue:_}=x.detail;l.formattedValue=_,_!=null&&x.target!==document.activeElement&&(x.target.value=_);const w={formattedValue:_};g&&(w.value=_),e.setValue(t,w)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:_}=x.detail,{target:w}=x;if(_===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",_);let S=l.userValue;!S||S.length<=_||(S=S.slice(0,_),w.value=l.userValue=S,e.setValue(t,{value:S}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(A,y)}),n.addEventListener("keydown",y=>{l.commitKey=1;let A=-1;if(y.key==="Escape"?A=0:y.key==="Enter"&&!this.data.multiLine?A=2:y.key==="Tab"&&(l.commitKey=3),A===-1)return;const{value:x}=y.target;l.lastCommittedValue!==x&&(l.lastCommittedValue=x,l.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:A,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const v=m;m=null,n.addEventListener("blur",y=>{if(!l.focused||!y.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:A}=y;let{value:x}=A;if(g){if(x&&d==="time"){const _=x.split(":").map(w=>parseInt(w,10));x=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),A.step=""}else x=new Date(x).valueOf();A.type="text"}l.userValue=x,l.lastCommittedValue!==x&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:l.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),v(y)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",y=>{l.lastCommittedValue=null;const{data:A,target:x}=y,{value:_,selectionStart:w,selectionEnd:S}=x;let E=w,C=S;switch(y.inputType){case"deleteWordBackward":{const R=_.substring(0,w).match(/\w*[^\w]*$/);R&&(E-=R[0].length);break}case"deleteWordForward":{const R=_.substring(w).match(/^[^\w]*\w*/);R&&(C+=R[0].length);break}case"deleteContentBackward":w===S&&(E-=1);break;case"deleteContentForward":w===S&&(C+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:A||"",willCommit:!1,selStart:E,selEnd:C}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class hN extends Sa{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class dN extends Sa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return va.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const h of this._getElementsByName(o,n)){const d=l&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}e.setValue(n,{value:l})}),r.addEventListener("resetform",s=>{const o=t.defaultFieldValue||"Off";s.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class DT extends Sa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const r=document.createElement("input");if(va.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const h of this._getElementsByName(o,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:l})}),r.addEventListener("resetform",s=>{const o=t.defaultFieldValue;s.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:h=>{const d=s===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const g=d&&p.id===n;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class fN extends Sy{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class pN extends Sa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");va.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const d of this.data.options){const p=document.createElement("option");p.textContent=d.displayValue,p.value=d.exportValue,n.value.includes(d.exportValue)&&(p.setAttribute("selected",!0),r=!1),i.append(p)}let s=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),s=()=>{d.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=d=>{const p=d?"value":"textContent",{options:g,multiple:m}=i;return m?Array.prototype.filter.call(g,v=>v.selected).map(v=>v[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let l=o(!1);const h=d=>{const p=d.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const p={value(g){s?.();const m=g.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const y of i.options)y.selected=v.has(y.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const m=i.options,v=g.detail.remove;m[v].selected=!1,i.remove(v),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:h(g)}),l=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:m,displayValue:v,exportValue:y}=g.detail.insert,A=i.children[m],x=document.createElement("option");x.textContent=v,x.value=y,A?A.before(x):i.append(x),e.setValue(t,{value:o(!0),items:h(g)}),l=o(!1)},items(g){const{items:m}=g.detail;for(;i.length!==0;)i.remove(0);for(const v of m){const{displayValue:y,exportValue:A}=v,x=document.createElement("option");x.textContent=y,x.value=A,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:h(g)}),l=o(!1)},indices(g){const m=new Set(g.detail.indices);for(const v of g.target.options)v.selected=m.has(v.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,d)}),i.addEventListener("input",d=>{const p=o(!0),g=o(!1);e.setValue(t,{value:p}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class sb extends en{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:en._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new gN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${by}${i}`).join(",")),this.container}}class gN{#e=this.#N.bind(this);#t=this.#U.bind(this);#n=this.#O.bind(this);#i=this.#_.bind(this);#s=null;#r=null;#a=null;#o=null;#l=null;#c=null;#d=null;#u=null;#f=!1;#g=null;#p=null;#h=null;#m=null;#y=null;#b=null;#A=null;#x=null;#v=null;#w=null;#C=!1;constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:s,richText:o,parent:l,rect:h,parentRect:d,open:p,eventBus:g=null}){this.#r=e,this.#v=i,this.#a=s,this.#x=o,this.#d=l,this.#s=t,this.#A=h,this.#u=d,this.#l=n,this.#c=g,this.#o=eb.toDateObject(r),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup()),this.#T(),this.#r.hidden=!0,p&&this.#_()}#T(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const t of this.trigger)t.addEventListener("click",this.#i,{signal:e}),t.addEventListener("mouseenter",this.#n,{signal:e}),t.addEventListener("mouseleave",this.#t,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#e,{signal:e});this.#k()}#D(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition),this.#b=e.commentButtonColor)}#k(){if(this.#m||(this.#y||this.#D(),!this.#y))return;const e=this.#m=document.createElement("button");e.className="annotationCommentButton";const t=this.#l[0].container;e.style.zIndex=t.style.zIndex+1,e.tabIndex=0;const{signal:n}=this.#p;e.addEventListener("hover",this.#i,{signal:n}),e.addEventListener("keydown",this.#e,{signal:n}),e.addEventListener("click",()=>{const[{data:{id:r},annotationEditorType:s}]=this.#l;this.#c?.dispatch("switchannotationeditormode",{source:this,editId:r,mode:s,editComment:!0})},{signal:n});const{style:i}=e;i.left=`calc(${this.#y[0]}%)`,i.top=`calc(${this.#y[1]}% - var(--comment-button-dim))`,this.#b&&(i.backgroundColor=this.#b),t.after(e)}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#s){const i=e.style.outlineColor=He.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#v?.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=this.#v}if(e.append(t),this.#o){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),i.dateTime=this.#o.toISOString(),t.append(i)}const n=this.#E;if(n)_T.render({xfaHtml:n,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(this.#a);e.append(i)}this.#r.append(e)}get#E(){const e=this.#x,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#x.html||null}get#F(){return this.#E?.attributes?.style?.fontSize||0}get#L(){return this.#E?.attributes?.style?.color||null}#M(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#L,fontSize:this.#F?`calc(${this.#F}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return n}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,s=i.length;r<s;++r){const o=i[r];n.append(document.createTextNode(o)),r<s-1&&n.append(document.createElement("br"))}return n}#N(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#_()}updateEdited({rect:e,popup:t,deleted:n}){if(n||t?.deleted){this.remove();return}this.#T(),this.#w||={contentsObj:this.#a,richText:this.#x},e&&(this.#h=null),t&&(this.#x=this.#M(t.text),this.#o=eb.toDateObject(t.date),this.#a=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#a,richText:this.#x}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#h=null)}remove(){this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#C=!1,this.#f=!1;for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#R(){if(this.#h!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=this.#d;let s=!!this.#u,o=s?this.#u:this.#A;for(const v of this.#l)if(!o||He.intersect(v.data.rect,o)!==null){o=v.data.rect,s=!0;break}const l=He.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=s?o[2]-o[0]+5:0,p=l[0]+d,g=l[1];this.#h=[100*(p-i)/t,100*(g-r)/n];const{style:m}=this.#r;m.left=`${this.#h[0]}%`,m.top=`${this.#h[1]}%`}#_(){this.#f=!this.#f,this.#f?(this.#O(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#e)):(this.#U(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#e))}#O(){this.#g||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#R(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#U(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#T(),this.#C&&(this.#g||this.#O(),this.#C=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}}class wT extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=it.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class mN extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=this.#e=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class bN extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",t-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class yN extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ET extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:r,height:s}=this;if(!t)return this.container;const o=this.svgFactory.create(r,s,!0);let l=[];for(let d=0,p=t.length;d<p;d+=2){const g=t[d]-e[0],m=e[3]-t[d+1];l.push(`${g},${m}`)}l=l.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",l),h.setAttribute("stroke-width",n.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class vN extends ET{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class AN extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Cy extends en{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?it.HIGHLIGHT:it.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{transform:s,width:o,height:l}=this.#n(t,e),h=this.svgFactory.create(o,l,!0),d=this.#e=this.svgFactory.createElement("svg:g");h.append(d),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",s);for(let p=0,g=n.length;p<g;p++){const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",n[p].join(",")),d.append(m)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,r=this.#e;if(t>=0&&r.setAttribute("stroke-width",t||1),n)for(let s=0,o=this.#t.length;s<o;s++)this.#t[s].setAttribute("points",n[s].join(","));if(i){const{transform:s,width:o,height:l}=this.#n(this.data.rotation,i);r.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),r.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:e,rect:t}=this.data;if(e?.length>=1){let n=-1/0,i=-1/0;for(const r of e)for(let s=0,o=r.length;s<o;s+=2)r[s+1]>i?(i=r[s+1],n=r[s]):r[s+1]===i&&(n=Math.max(n,r[s]));if(n!==1/0)return[n,i]}return t?[t[2],t[3]]:null}}class TT extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=it.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class xN extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class _N extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class DN extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class ST extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=it.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class wN extends en{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:i}=On.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(i?r.metaKey:r.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Ry{#e=null;#t=null;#n=new Map;#i=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:s,structTreeLayer:o}){this.div=e,this.#e=t,this.#t=n,this.#i=o||null,this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}async#s(e,t,n){const i=e.firstChild||e,r=i.id=`${by}${t}`,s=await this.#i?.getAriaAttributes(r);if(s)for(const[o,l]of s)i.setAttribute(o,l);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1))}async render(e){const{annotations:t}=e,n=this.div;ya(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new sd,annotationStorage:e.annotationStorage||new _y,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of t){if(s.noHTML)continue;const o=s.annotationType===ln.POPUP;if(o){const d=i.get(s.id);if(!d)continue;r.elements=d}else if(s.rect[2]===s.rect[0]||s.rect[3]===s.rect[1])continue;r.data=s;const l=V_.create(r);if(!l.isRenderable)continue;if(!o&&s.popupRef){const d=i.get(s.popupRef);d?d.push(l):i.set(s.popupRef,[l])}const h=l.render();s.hidden&&(h.style.visibility="hidden"),await this.#s(h,s.id,r.elements),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#r()}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new sd,parent:this};for(const i of e){i.borderStyle||=Ry._defaultBorderStyle,n.data=i;const r=V_.create(n);if(!r.isRenderable)continue;const s=r.render();await this.#s(s,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ya(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n);const s=this.#n.get(t);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,n),s._hasNoCanvas=!1):s.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return dt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:bo.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const vh=/\r\n?|\n/g;class Sn extends Ye{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Sn.prototype,t=r=>r.isEmpty(),n=Fs.TRANSLATE_SMALL,i=Fs.TRANSLATE_BIG;return dt(this,"_keyboardManager",new Ll([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=it.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||Sn._defaultColor||Ye._defaultLineColor,this.#s=e.fontSize||Sn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Ye.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case bt.FREETEXT_SIZE:Sn._defaultFontSize=t;break;case bt.FREETEXT_COLOR:Sn._defaultColor=t;break}}updateParams(e,t){switch(e){case bt.FREETEXT_SIZE:this.#r(t);break;case bt.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[bt.FREETEXT_SIZE,Sn._defaultFontSize],[bt.FREETEXT_COLOR,Sn._defaultColor||Ye._defaultLineColor]]}get propertiesToUpdate(){return[[bt.FREETEXT_SIZE,this.#s],[bt.FREETEXT_COLOR,this.#e]]}get toolbarButtons(){return this._colorPicker||=new Al(this),[["colorPicker",this._colorPicker]]}get colorType(){return bt.FREETEXT_COLOR}get colorValue(){return this.#e}#r(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#s)*this.parentScale),this.#s=i,this.#l()},n=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(e){const t=i=>{this.#e=this.editorDiv.style.color=i,this._colorPicker?.update(i)},n=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Sn._internalPadding*e,-(Sn._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Sn.#c(n)),t=n);return e.join(`
`)}#l(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:i,div:r}=this,s=r.style.display,o=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",i.div.append(this.div),n=r.getBoundingClientRect(),r.remove(),r.style.display=s,r.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#o().trimEnd();if(e===t)return;const n=i=>{if(this.#t=i,!i){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#l()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Sn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,r]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[h,d]=this.pageDimensions,[p,g]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=e+(s[0]-p)/h,v=t+this.height-(s[1]-g)/d;break;case 90:m=e+(s[0]-p)/h,v=t-(s[1]-g)/d,[o,l]=[l,-o];break;case 180:m=e-this.width+(s[0]-p)/h,v=t-(s[1]-g)/d,[o,l]=[-o,-l];break;case 270:m=e+(s[0]-p-this.height*d)/h,v=t+(s[1]-g-this.width*h)/d,[o,l]=[-l,o];break}this.setAt(m*i,v*r,o,l)}else this._moveAfterPaste(e,t);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(vh,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const i=Sn.#f(t.getData("text")||"").replaceAll(vh,`
`);if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const s=r.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:o,startOffset:l}=s,h=[],d=[];if(o.nodeType===Node.TEXT_NODE){const m=o.parentElement;if(d.push(o.nodeValue.slice(l).replaceAll(vh,"")),m!==this.editorDiv){let v=h;for(const y of this.editorDiv.childNodes){if(y===m){v=d;continue}v.push(Sn.#c(y))}}h.push(o.nodeValue.slice(0,l).replaceAll(vh,""))}else if(o===this.editorDiv){let m=h,v=0;for(const y of this.editorDiv.childNodes)v++===l&&(m=d),m.push(Sn.#c(y))}this.#t=`${h.join(`
`)}${i}${d.join(`
`)}`,this.#d();const p=new Range;let g=Math.sumPrecise(h.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const v=m.nodeValue.length;if(g<=v){p.setStart(m,g),p.setEnd(m,g);break}g-=v}r.removeAllRanges(),r.addRange(p)}#d(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#u(){return this.#t.replaceAll(" "," ")}static#f(e){return e.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Sn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let i=null;if(e instanceof wT){const{data:{defaultAppearanceData:{fontSize:s,fontColor:o},rect:l,rotation:h,id:d,popupRef:p,contentsObj:g},textContent:m,textPosition:v,parent:{page:{pageNumber:y}}}=e;if(!m||m.length===0)return null;i=e={annotationType:it.FREETEXT,color:Array.from(o),fontSize:s,value:m.join(`
`),position:v,pageIndex:y-1,rect:l.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:p,comment:g?.str||null}}const r=await super.deserialize(e,t,n);return r.#s=e.fontSize,r.#e=He.makeHexColor(...e.color),r.#t=Sn.#f(e.value),r._initialData=i,e.comment&&r.setCommentData(e.comment),r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=this.getPDFRect(),n=Ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),i={annotationType:it.FREETEXT,color:n,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!this.#g(i)?null:(i.id=this.annotationElementId,i)}#g(e){const{value:t,fontSize:n,color:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((s,o)=>s!==i[o])||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,n.color=this.#e,t.replaceChildren();for(const r of this.#t.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}const i={rect:this.getPDFRect()};return i.popup=this.hasEditedComment?this.comment:{text:this.#t},e.updateEdited(i),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class We{static PRECISION=1e-4;toSVGPath(){Ft("Abstract method `toSVGPath` must be implemented.")}get box(){Ft("Abstract getter `box` must be implemented.")}serialize(e,t){Ft("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,r,s){s||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o]*i,s[o+1]=n+e[o+1]*r;return s}static _rescaleAndSwap(e,t,n,i,r,s){s||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o+1]*i,s[o+1]=n+e[o]*r;return s}static _translate(e,t,n,i){i||=new Float32Array(e.length);for(let r=0,s=e.length;r<s;r+=2)i[r]=t+e[r],i[r+1]=n+e[r+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,r){switch(r){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,r,s){return[(e+5*n)/6,(t+5*i)/6,(5*n+r)/6,(5*i+s)/6,(n+r)/2,(i+s)/2]}}class aa{#e;#t=[];#n;#i;#s=[];#r=new Float32Array(18);#a;#o;#l;#c;#d;#u;#f=[];static#g=8;static#p=2;static#h=aa.#g+aa.#p;constructor({x:e,y:t},n,i,r,s,o=0){this.#e=n,this.#u=r*i,this.#i=s,this.#r.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=o,this.#c=aa.#g*i,this.#l=aa.#h*i,this.#d=i,this.#f.push(e,t)}isEmpty(){return isNaN(this.#r[8])}#m(){const e=this.#r.subarray(4,6),t=this.#r.subarray(16,18),[n,i,r,s]=this.#e;return[(this.#a+(e[0]-t[0])/2-n)/r,(this.#o+(e[1]-t[1])/2-i)/s,(this.#a+(t[0]-e[0])/2-n)/r,(this.#o+(t[1]-e[1])/2-i)/s]}add({x:e,y:t}){this.#a=e,this.#o=t;const[n,i,r,s]=this.#e;let[o,l,h,d]=this.#r.subarray(8,12);const p=e-h,g=t-d,m=Math.hypot(p,g);if(m<this.#l)return!1;const v=m-this.#c,y=v/m,A=y*p,x=y*g;let _=o,w=l;o=h,l=d,h+=A,d+=x,this.#f?.push(e,t);const S=-x/v,E=A/v,C=S*this.#u,R=E*this.#u;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([h+C,d+R],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([h-C,d-R],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([o+C,l+R],2),this.#s.push(NaN,NaN,NaN,NaN,(o+C-n)/r,(l+R-i)/s),this.#r.set([o-C,l-R],14),this.#t.push(NaN,NaN,NaN,NaN,(o-C-n)/r,(l-R-i)/s)),this.#r.set([_,w,o,l,h,d],6),!this.isEmpty()):(this.#r.set([_,w,o,l,h,d],6),Math.abs(Math.atan2(w-l,_-o)-Math.atan2(x,A))<Math.PI/2?([o,l,h,d]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((o+h)/2-n)/r,((l+d)/2-i)/s),[o,l,_,w]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((_+o)/2-n)/r,((w+l)/2-i)/s),!0):([_,w,o,l,h,d]=this.#r.subarray(0,6),this.#s.push(((_+5*o)/6-n)/r,((w+5*l)/6-i)/s,((5*o+h)/6-n)/r,((5*l+d)/6-i)/s,((o+h)/2-n)/r,((l+d)/2-i)/s),[h,d,o,l,_,w]=this.#r.subarray(12,18),this.#t.push(((_+5*o)/6-n)/r,((w+5*l)/6-i)/s,((5*o+h)/6-n)/r,((5*l+d)/6-i)/s,((o+h)/2-n)/r,((l+d)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,t=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#A(n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#b(n),n.join(" ")}#y(){const[e,t,n,i]=this.#e,[r,s,o,l]=this.#m();return`M${(this.#r[2]-e)/n} ${(this.#r[3]-t)/i} L${(this.#r[4]-e)/n} ${(this.#r[5]-t)/i} L${r} ${s} L${o} ${l} L${(this.#r[16]-e)/n} ${(this.#r[17]-t)/i} L${(this.#r[14]-e)/n} ${(this.#r[15]-t)/i} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#A(e){const[t,n,i,r]=this.#e,s=this.#r.subarray(4,6),o=this.#r.subarray(16,18),[l,h,d,p]=this.#m();e.push(`L${(s[0]-t)/i} ${(s[1]-n)/r} L${l} ${h} L${d} ${p} L${(o[0]-t)/i} ${(o[1]-n)/r}`)}newFreeDrawOutline(e,t,n,i,r,s){return new CT(e,t,n,i,r,s)}getOutlines(){const e=this.#s,t=this.#t,n=this.#r,[i,r,s,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let p=0,g=l.length-2;p<g;p+=2)l[p]=(this.#f[p]-i)/s,l[p+1]=(this.#f[p+1]-r)/o;if(l[l.length-2]=(this.#a-i)/s,l[l.length-1]=(this.#o-r)/o,isNaN(n[6])&&!this.isEmpty())return this.#x(l);const h=new Float32Array(this.#s.length+24+this.#t.length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){h[p]=h[p+1]=NaN;continue}h[p]=e[p],h[p+1]=e[p+1]}d=this.#w(h,d);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){h[d]=h[d+1]=NaN,d+=2;continue}h[d]=t[p+g],h[d+1]=t[p+g+1],d+=2}return this.#v(h,d),this.newFreeDrawOutline(h,l,this.#e,this.#d,this.#n,this.#i)}#x(e){const t=this.#r,[n,i,r,s]=this.#e,[o,l,h,d]=this.#m(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/r,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-n)/r,(t[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(t[16]-n)/r,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-n)/r,(t[15]-i)/s],0),this.newFreeDrawOutline(p,e,this.#e,this.#d,this.#n,this.#i)}#v(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#w(e,t){const n=this.#r.subarray(4,6),i=this.#r.subarray(16,18),[r,s,o,l]=this.#e,[h,d,p,g]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-r)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-s)/l],t),t+=24}}class CT extends We{#e;#t=new Float32Array(4);#n;#i;#s;#r;#a;constructor(e,t,n,i,r,s){super(),this.#a=e,this.#s=t,this.#e=n,this.#r=i,this.#n=r,this.#i=s,this.lastPoint=[NaN,NaN],this.#o(s);const[o,l,h,d]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-o)/h,e[p+1]=(e[p+1]-l)/d;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-o)/h,t[p+1]=(t[p+1]-l)/d}toSVGPath(){const e=[`M${this.#a[4]} ${this.#a[5]}`];for(let t=6,n=this.#a.length;t<n;t+=6){if(isNaN(this.#a[t])){e.push(`L${this.#a[t+4]} ${this.#a[t+5]}`);continue}e.push(`C${this.#a[t]} ${this.#a[t+1]} ${this.#a[t+2]} ${this.#a[t+3]} ${this.#a[t+4]} ${this.#a[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,i],r){const s=n-e,o=i-t;let l,h;switch(r){case 0:l=We._rescale(this.#a,e,i,s,-o),h=We._rescale(this.#s,e,i,s,-o);break;case 90:l=We._rescaleAndSwap(this.#a,e,t,s,o),h=We._rescaleAndSwap(this.#s,e,t,s,o);break;case 180:l=We._rescale(this.#a,n,t,-s,o),h=We._rescale(this.#s,n,t,-s,o);break;case 270:l=We._rescaleAndSwap(this.#a,n,i,-s,-o),h=We._rescaleAndSwap(this.#s,n,i,-s,-o);break}return{outline:Array.from(l),points:[Array.from(h)]}}#o(e){const t=this.#a;let n=t[4],i=t[5];const r=[n,i,n,i];let s=n,o=i;const l=e?Math.max:Math.min;for(let d=6,p=t.length;d<p;d+=6){const g=t[d+4],m=t[d+5];if(isNaN(t[d]))He.pointBoundingBox(g,m,r),o<m?(s=g,o=m):o===m&&(s=l(s,g));else{const v=[1/0,1/0,-1/0,-1/0];He.bezierBoundingBox(n,i,...t.slice(d,d+6),v),He.rectBoundingBox(...v,r),o<v[3]?(s=v[2],o=v[3]):o===v[3]&&(s=l(s,v[2]))}n=g,i=m}const h=this.#t;h[0]=r[0]-this.#n,h[1]=r[1]-this.#n,h[2]=r[2]-r[0]+2*this.#n,h[3]=r[3]-r[1]+2*this.#n,this.lastPoint=[s,o]}get box(){return this.#t}newOutliner(e,t,n,i,r,s=0){return new aa(e,t,n,i,r,s)}getNewOutline(e,t){const[n,i,r,s]=this.#t,[o,l,h,d]=this.#e,p=r*h,g=s*d,m=n*h+o,v=i*d+l,y=this.newOutliner({x:this.#s[0]*p+m,y:this.#s[1]*g+v},this.#e,this.#r,e,this.#i,t??this.#n);for(let A=2;A<this.#s.length;A+=2)y.add({x:this.#s[A]*p+m,y:this.#s[A+1]*g+v});return y.getOutlines()}}class ab{#e;#t;#n=[];#i=[];constructor(e,t=0,n=0,i=!0){const r=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:m,y:v,width:y,height:A}of e){const x=Math.floor((m-t)/s)*s,_=Math.ceil((m+y+t)/s)*s,w=Math.floor((v-t)/s)*s,S=Math.ceil((v+A+t)/s)*s,E=[x,w,S,!0],C=[_,w,S,!1];this.#n.push(E,C),He.rectBoundingBox(x,w,_,S,r)}const o=r[2]-r[0]+2*n,l=r[3]-r[1]+2*n,h=r[0]-n,d=r[1]-n,p=this.#n.at(i?-1:-2),g=[p[0],p[2]];for(const m of this.#n){const[v,y,A]=m;m[0]=(v-h)/o,m[1]=(y-d)/l,m[2]=(A-d)/l}this.#e=new Float32Array([h,d,o,l]),this.#t=g}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#a(t)):(this.#o(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const s of e){const[o,l,h]=s;t.push([o,l,s],[o,h,s])}t.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=t.length;s<o;s+=2){const l=t[s][2],h=t[s+1][2];l.push(h),h.push(l),n.add(l),n.add(h)}const i=[];let r;for(;n.size>0;){const s=n.values().next().value;let[o,l,h,d,p]=s;n.delete(s);let g=o,m=l;for(r=[o,h],i.push(r);;){let v;if(n.has(d))v=d;else if(n.has(p))v=p;else break;n.delete(v),[o,l,h,d,p]=v,g!==o&&(r.push(g,m,o,m===l?l:h),g=o),m=m===l?h:l}r.push(g,m)}return new EN(i,this.#e,this.#t)}#r(e){const t=this.#i;let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,s=t[r][0];if(s===e)return r;s<e?n=r+1:i=r-1}return i+1}#a([,e,t]){const n=this.#r(e);this.#i.splice(n,0,[e,t])}#o([,e,t]){const n=this.#r(e);for(let i=n;i<this.#i.length;i++){const[r,s]=this.#i[i];if(r!==e)break;if(r===e&&s===t){this.#i.splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,s]=this.#i[i];if(r!==e)break;if(r===e&&s===t){this.#i.splice(i,1);return}}}#l(e){const[t,n,i]=e,r=[[t,n,i]],s=this.#r(i);for(let o=0;o<s;o++){const[l,h]=this.#i[o];for(let d=0,p=r.length;d<p;d++){const[,g,m]=r[d];if(!(h<=g||m<=l)){if(g>=l){if(m>h)r[d][1]=h;else{if(p===1)return[];r.splice(d,1),d--,p--}continue}r[d][2]=l,m>h&&r.push([t,h,m])}}}return r}}class EN extends We{#e;#t;constructor(e,t,n){super(),this.#t=e,this.#e=t,this.lastPoint=n}toSVGPath(){const e=[];for(const t of this.#t){let[n,i]=t;e.push(`M${n} ${i}`);for(let r=2;r<t.length;r+=2){const s=t[r],o=t[r+1];s===n?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${s}`),n=s)}e.push("Z")}return e.join(" ")}serialize([e,t,n,i],r){const s=[],o=n-e,l=i-t;for(const h of this.#t){const d=new Array(h.length);for(let p=0;p<h.length;p+=2)d[p]=e+h[p]*o,d[p+1]=i-h[p+1]*l;s.push(d)}return s}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class ob extends aa{newFreeDrawOutline(e,t,n,i,r,s){return new TN(e,t,n,i,r,s)}}class TN extends CT{newOutliner(e,t,n,i,r,s=0){return new ob(e,t,n,i,r,s)}}class Qt extends Ye{#e=null;#t=0;#n;#i=null;#s=null;#r=null;#a=null;#o=0;#l=null;#c=null;#d=null;#u=!1;#f=null;#g;#p=null;#h="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=it.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Qt.prototype;return dt(this,"_keyboardManager",new Ll([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Qt._defaultColor,this.#m=e.thickness||Qt._defaultThickness,this.#g=e.opacity||Qt._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#h=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#A(e),this.#T()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#T(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new ab(this.#n,.001);this.#c=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const t=new ab(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=t.getOutlines();const{lastPoint:n}=this.#r;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#A({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#c=e;const i=1.5;if(this.#r=e.getNewOutline(this.#m/2+i,.0025),t>=0)this.#d=t,this.#i=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Qt.#D(this.#c.box,(d-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Qt.#D(this.#r.box,d),path:{d:this.#r.toSVGPath()}})}const[r,s,o,l]=e.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=o,this.height=l;break;case 90:{const[d,p]=this.parentDimensions;this.x=s,this.y=1-r,this.width=o*p/d,this.height=l*d/p;break}case 180:this.x=1-r,this.y=1-s,this.width=o,this.height=l;break;case 270:{const[d,p]=this.parentDimensions;this.x=1-s,this.y=r,this.width=o*p/d,this.height=l*d/p;break}}const{lastPoint:h}=this.#r;this.#f=[(h[0]-r)/o,(h[1]-s)/l]}static initialize(e,t){Ye.initialize(e,t),Qt._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case bt.HIGHLIGHT_COLOR:Qt._defaultColor=t;break;case bt.HIGHLIGHT_THICKNESS:Qt._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#f}updateParams(e,t){switch(e){case bt.HIGHLIGHT_COLOR:this.#x(t);break;case bt.HIGHLIGHT_THICKNESS:this.#v(t);break}}static get defaultPropertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,Qt._defaultColor],[bt.HIGHLIGHT_THICKNESS,Qt._defaultThickness]]}get propertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,this.color||Qt._defaultColor],[bt.HIGHLIGHT_THICKNESS,this.#m||Qt._defaultThickness],[bt.HIGHLIGHT_FREE,this.#u]]}#x(e){const t=(r,s)=>{this.color=r,this.#g=s,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:r,"fill-opacity":s}}),this.#s?.updateColor(r)},n=this.color,i=this.#g;this.addCommands({cmd:t.bind(this,e,Qt._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#v(e){const t=this.#m,n=i=>{this.#m=i,this.#w(i)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new ji({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#F())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#F())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#T(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#C():e&&(this.#T(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#w(e){if(!this.#u)return;this.#A({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#T(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=e.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#u),this.#l&&(this.#l.style.clipPath=this.#i))}static#D([e,t,n,i],r){switch(r){case 90:return[1-t-i,e,i,n];case 180:return[1-e-n,1-t-i,n,i];case 270:return[t,1-e-n,i,n]}return[e,t,n,i]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#u?(e=(e-this.rotation+360)%360,n=Qt.#D(this.#c.box,e)):n=Qt.#D([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:Qt.#D(this.#r.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#h&&(e.setAttribute("aria-label",this.#h),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const t=this.#l=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),nT(this,this.#l,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#k(e){Qt._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#E(!0);break;case 1:case 3:this.#E(!1);break}}#E(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#E(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#F(){return this.#u?this.rotation:0}#L(){if(this.#u)return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,r=this.#n,s=new Float32Array(r.length*8);let o=0;for(const{x:l,y:h,width:d,height:p}of r){const g=l*e+n,m=(1-h)*t+i;s[o]=s[o+4]=g,s[o+1]=s[o+3]=m,s[o+2]=s[o+6]=g+d*e,s[o+5]=s[o+7]=m-p*t,o+=8}return s}#M(e){return this.#c.serialize(e,this.#F())}static startHighlighting(e,t,{target:n,x:i,y:r}){const{x:s,y:o,width:l,height:h}=n.getBoundingClientRect(),d=new AbortController,p=e.combinedSignal(d),g=m=>{d.abort(),this.#R(e,m)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",un,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",$i,{signal:p}),n.addEventListener("pointermove",this.#N.bind(this,e),{signal:p}),this._freeHighlight=new ob({x:i,y:r},[s,o,l,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#R(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let i=null;if(e instanceof TT){const{data:{quadPoints:v,rect:y,rotation:A,id:x,color:_,opacity:w,popupRef:S,contentsObj:E},parent:{page:{pageNumber:C}}}=e;i=e={annotationType:it.HIGHLIGHT,color:Array.from(_),opacity:w,quadPoints:v,boxes:null,pageIndex:C-1,rect:y.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,popupRef:S,comment:E?.str||null}}else if(e instanceof Cy){const{data:{inkLists:v,rect:y,rotation:A,id:x,color:_,borderStyle:{rawWidth:w},popupRef:S,contentsObj:E},parent:{page:{pageNumber:C}}}=e;i=e={annotationType:it.HIGHLIGHT,color:Array.from(_),thickness:w,inkLists:v,boxes:null,pageIndex:C-1,rect:y.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,popupRef:S,comment:E?.str||null}}const{color:r,quadPoints:s,inkLists:o,opacity:l}=e,h=await super.deserialize(e,t,n);h.color=He.makeHexColor(...r),h.#g=l||1,o&&(h.#m=e.thickness),h._initialData=i,e.comment&&h.setCommentData(e.comment);const[d,p]=h.pageDimensions,[g,m]=h.pageTranslation;if(s){const v=h.#n=[];for(let y=0;y<s.length;y+=8)v.push({x:(s[y]-g)/d,y:1-(s[y+1]-m)/p,width:(s[y+2]-s[y])/d,height:(s[y+1]-s[y+5])/p});h.#b(),h.#T(),h.rotate(h.rotation)}else if(o){h.#u=!0;const v=o[0],y={x:v[0]-g,y:p-(v[1]-m)},A=new ob(y,[0,0,d,p],1,h.#m/2,!0,.001);for(let w=0,S=v.length;w<S;w+=2)y.x=v[w]-g,y.y=p-(v[w+1]-m),A.add(y);const{id:x,clipPathId:_}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);h.#A({highlightOutlines:A.getOutlines(),highlightId:x,clipPathId:_}),h.#T(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getPDFRect(),n=Ye._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i={annotationType:it.HIGHLIGHT,color:n,opacity:this.#g,thickness:this.#m,quadPoints:this.#L(),outlines:this.#M(t),pageIndex:this.pageIndex,rect:t,rotation:this.#F(),structTreeParentId:this._structTreeParentId};return this.addComment(i),this.annotationElementId&&!this.#_(i)?null:(i.id=this.annotationElementId,i)}#_(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,i)=>n!==t[i])}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const t={rect:this.getPDFRect()};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}static canCreateNewEmptyEditor(){return!1}}class RT{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Ft("Not implemented")}}class Je extends Ye{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#r=NaN;static#a=null;static#o=null;static#l=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#c(e),this.#f())}#c({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#d(e,this.parent),this.#h(e.box)}#d(e,t){const{id:n}=t.drawLayer.draw(Je._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,r]of Object.entries(t))n.has(i)?Object.assign(e[i],r):e[i]=r;return e}static getDefaultDrawingOptions(e){Ft("Not implemented")}static get typesMap(){Ft("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Je.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,r=i[t],s=o=>{i.updateProperty(t,o);const l=this.#e.updateProperty(t,o);l&&this.#h(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this._colorPicker?.update(o)};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Je._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Je._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Je._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#h(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#e,e)}}#g([e,t,n,i]){const{parentDimensions:[r,s],rotation:o}=this;switch(o){case 90:return[t,1-e,n*(s/r),i*(r/s)];case 180:return[1-e,1-t,n,i];case 270:return[1-t,e,n*(s/r),i*(r/s)];default:return[e,t,n,i]}}#p(){const{x:e,y:t,width:n,height:i,parentDimensions:[r,s],rotation:o}=this;switch(o){case 90:return[1-t,e,n*(r/s),i*(s/r)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(r/s),i*(s/r)];default:return[e,t,n,i]}}#h(e){if([this.x,this.y,this.width,this.height]=this.#g(e),this.div){this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}this._onResized()}#m(){const{x:e,y:t,width:n,height:i,rotation:r,parentRotation:s,parentDimensions:[o,l]}=this;switch((r*4+s)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(o/l),i*(l/o),n*(o/l)];case 5:return[1-t,e,n*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-t,i*(l/o),n*(o/l)];case 7:return[t-n*(o/l),1-e-i*(l/o),n*(o/l),i*(l/o)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(l/o),t,i*(l/o),n*(o/l)];case 13:return[1-t-n*(o/l),e-i*(l/o),n*(o/l),i*(l/o)];case 14:return[1-e,1-t-n*(o/l),i*(l/o),n*(o/l)];case 15:return[t,1-e,n*(o/l),i*(l/o)];default:return[e,t,n,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Je._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,r){Ft("Not implemented")}static startDrawing(e,t,n,i){const{target:r,offsetX:s,offsetY:o,pointerId:l,pointerType:h}=i;if(Je.#a&&Je.#a!==h)return;const{viewport:{rotation:d}}=e,{width:p,height:g}=r.getBoundingClientRect(),m=Je.#i=new AbortController,v=e.combinedSignal(m);if(Je.#r||=l,Je.#a??=h,window.addEventListener("pointerup",y=>{Je.#r===y.pointerId?this._endDraw(y):Je.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointercancel",y=>{Je.#r===y.pointerId?this._currentParent.endDrawingSession():Je.#o?.delete(y.pointerId)},{signal:v}),window.addEventListener("pointerdown",y=>{Je.#a===y.pointerType&&((Je.#o||=new Set).add(y.pointerId),Je.#n.isCancellable()&&(Je.#n.removeLastElement(),Je.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",$i,{signal:v}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),r.addEventListener("touchmove",y=>{y.timeStamp===Je.#l&&un(y)},{signal:v}),e.toggleDrawing(),t._editorUndoBar?.hide(),Je.#n){e.drawLayer.updateProperties(this._currentDrawId,Je.#n.startNew(s,o,p,g,d));return}t.updateUIForDefaultProperties(this),Je.#n=this.createDrawerInstance(s,o,p,g,d),Je.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Je.#s.toSVGProperties(),Je.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Je.#l=-1,!Je.#n)return;const{offsetX:t,offsetY:n,pointerId:i}=e;if(Je.#r===i){if(Je.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Je.#n.add(t,n)),Je.#l=e.timeStamp,un(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Je.#n=null,Je.#s=null,Je.#a=null,Je.#l=NaN),Je.#i&&(Je.#i.abort(),Je.#i=null,Je.#r=NaN,Je.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Je.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=Je.#n,i=this._currentDrawId,r=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,n.setLastElement(r))},undo:()=>{t.drawLayer.updateProperties(i,n.removeLastElement())},mustExec:!1,type:bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(bt.DRAW_STEP),!Je.#n.isEmpty()){const{pageDimensions:[n,i],scale:r}=t,s=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Je.#n.getOutlines(n*r,i*r,r,this._INNER_MARGIN),drawingOptions:Je.#s,mustBeCommitted:!e});return this._cleanup(!0),s}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,r,s){Ft("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=t.viewport,l=this.deserializeDraw(s,o,i,r,this._INNER_MARGIN,e),h=await super.deserialize(e,t,n);return h.createDrawingOptions(e),h.#c({drawOutlines:l}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,n]=this.pageTranslation,[i,r]=this.pageDimensions;return this.#e.serialize([t,n,i,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class SN{#e=new Float64Array(6);#t;#n;#i;#s;#r;#a="";#o=0;#l=new Ol;#c;#d;constructor(e,t,n,i,r,s){this.#c=n,this.#d=i,this.#i=r,this.#s=s,[e,t]=this.#u(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t],this.#n=[{line:o,points:this.#r}],this.#e.set(o,0)}updateProperty(e,t){e==="stroke-width"&&(this.#s=t)}#u(e,t){return We._normalizePoint(e,t,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(e,t){[e,t]=this.#u(e,t);const[n,i,r,s]=this.#e.subarray(2,6),o=e-r,l=t-s;return Math.hypot(this.#c*o,this.#d*l)<=2?null:(this.#r.push(e,t),isNaN(n)?(this.#e.set([r,s,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,i,r,s,e,t],0),this.#t.push(...We.createBezierPoints(n,i,r,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,r){this.#c=n,this.#d=i,this.#i=r,[e,t]=this.#u(e,t);const s=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t];const o=this.#n.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#n.push({line:s,points:this.#r}),this.#e.set(s,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#r=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#l.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#l.removeLastElement();this.#n.pop(),this.#a="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:i}=this.#n[e];this.#t=n,this.#r=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const e=We.svgRound(this.#t[4]),t=We.svgRound(this.#t[5]);if(this.#r.length===2)return this.#a=`${this.#a} M ${e} ${t} Z`,this.#a;if(this.#r.length<=6){const i=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,i)} M ${e} ${t}`,this.#o=6}if(this.#r.length===4){const i=We.svgRound(this.#t[10]),r=We.svgRound(this.#t[11]);return this.#a=`${this.#a} L ${i} ${r}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let i=this.#o,r=this.#t.length;i<r;i+=6){const[s,o,l,h,d,p]=this.#t.slice(i,i+6).map(We.svgRound);n.push(`C${s} ${o} ${l} ${h} ${d} ${p}`)}return this.#a+=n.join(" "),this.#o=this.#t.length,this.#a}getOutlines(e,t,n,i){const r=this.#n.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#l.build(this.#n,e,t,n,this.#i,this.#s,i),this.#e=null,this.#t=null,this.#n=null,this.#a=null,this.#l}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Ol extends We{#e;#t=0;#n;#i;#s;#r;#a;#o;#l;build(e,t,n,i,r,s,o){this.#s=t,this.#r=n,this.#a=i,this.#o=r,this.#l=s,this.#n=o??0,this.#i=e,this.#u()}get thickness(){return this.#l}setLastElement(e){return this.#i.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#i){if(e.push(`M${We.svgRound(t[4])} ${We.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${We.svgRound(t[10])} ${We.svgRound(t[11])}`);continue}for(let n=6,i=t.length;n<i;n+=6){const[r,s,o,l,h,d]=t.subarray(n,n+6).map(We.svgRound);e.push(`C${r} ${s} ${o} ${l} ${h} ${d}`)}}return e.join("")}serialize([e,t,n,i],r){const s=[],o=[],[l,h,d,p]=this.#d();let g,m,v,y,A,x,_,w,S;switch(this.#o){case 0:S=We._rescale,g=e,m=t+i,v=n,y=-i,A=e+l*n,x=t+(1-h-p)*i,_=e+(l+d)*n,w=t+(1-h)*i;break;case 90:S=We._rescaleAndSwap,g=e,m=t,v=n,y=i,A=e+h*n,x=t+l*i,_=e+(h+p)*n,w=t+(l+d)*i;break;case 180:S=We._rescale,g=e+n,m=t,v=-n,y=i,A=e+(1-l-d)*n,x=t+h*i,_=e+(1-l)*n,w=t+(h+p)*i;break;case 270:S=We._rescaleAndSwap,g=e+n,m=t+i,v=-n,y=-i,A=e+(1-h-p)*n,x=t+(1-l-d)*i,_=e+(1-h)*n,w=t+(1-l)*i;break}for(const{line:E,points:C}of this.#i)s.push(S(E,g,m,v,y,r?new Array(E.length):null)),o.push(S(C,g,m,v,y,r?new Array(C.length):null));return{lines:s,points:o,rect:[A,x,_,w]}}static deserialize(e,t,n,i,r,{paths:{lines:s,points:o},rotation:l,thickness:h}){const d=[];let p,g,m,v,y;switch(l){case 0:y=We._rescale,p=-e/n,g=t/i+1,m=1/n,v=-1/i;break;case 90:y=We._rescaleAndSwap,p=-t/i,g=-e/n,m=1/i,v=1/n;break;case 180:y=We._rescale,p=e/n+1,g=-t/i,m=-1/n,v=1/i;break;case 270:y=We._rescaleAndSwap,p=t/i+1,g=e/n+1,m=-1/i,v=-1/n;break}if(!s){s=[];for(const x of o){const _=x.length;if(_===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(_===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const w=new Float32Array(3*(_-2));s.push(w);let[S,E,C,R]=x.subarray(0,4);w.set([NaN,NaN,NaN,NaN,S,E],0);for(let N=4;N<_;N+=2){const F=x[N],I=x[N+1];w.set(We.createBezierPoints(S,E,C,R,F,I),(N-2)*3),[S,E,C,R]=[C,R,F,I]}}}for(let x=0,_=s.length;x<_;x++)d.push({line:y(s[x].map(w=>w??NaN),p,g,m,v),points:y(o[x].map(w=>w??NaN),p,g,m,v)});const A=new this.prototype.constructor;return A.build(d,n,i,1,l,h,r),A}#c(e=this.#l){const t=this.#n+e/2*this.#a;return this.#o%180===0?[t/this.#s,t/this.#r]:[t/this.#r,t/this.#s]}#d(){const[e,t,n,i]=this.#e,[r,s]=this.#c(0);return[e+r,t+s,n-2*r,i-2*s]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#i){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6)He.pointBoundingBox(i[o],i[o+1],e);continue}let r=i[4],s=i[5];for(let o=6,l=i.length;o<l;o+=6){const[h,d,p,g,m,v]=i.subarray(o,o+6);He.bezierBoundingBox(r,s,h,d,p,g,m,v,e),r=m,s=v}}const[t,n]=this.#c();e[0]=Kn(e[0]-t,0,1),e[1]=Kn(e[1]-n,0,1),e[2]=Kn(e[2]+t,0,1),e[3]=Kn(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#c();this.#l=e;const[i,r]=this.#c(),[s,o]=[i-t,r-n],l=this.#e;return l[0]-=s,l[1]-=o,l[2]+=2*s,l[3]+=2*o,l}updateParentDimensions([e,t],n){const[i,r]=this.#c();this.#s=e,this.#r=t,this.#a=n;const[s,o]=this.#c(),l=s-i,h=o-r,d=this.#e;return d[0]-=l,d[1]-=h,d[2]+=2*l,d[3]+=2*h,d}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(We.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${We.svgRound(e)} ${We.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,i=0,r=0,s=0,o=0,l=0;switch(this.#t){case 90:i=t/e,r=-e/t,o=e;break;case 180:n=-1,s=-1,o=e,l=t;break;case 270:i=-t/e,r=e/t,l=t;break;default:return""}return`matrix(${n} ${i} ${r} ${s} ${We.svgRound(o)} ${We.svgRound(l)})`}getPathResizingSVGProperties([e,t,n,i]){const[r,s]=this.#c(),[o,l,h,d]=this.#e;if(Math.abs(h-r)<=We.PRECISION||Math.abs(d-s)<=We.PRECISION){const y=e+n/2-(o+h/2),A=t+i/2-(l+d/2);return{path:{"transform-origin":`${We.svgRound(e)} ${We.svgRound(t)}`,transform:`${this.rotationTransform} translate(${y} ${A})`}}}const p=(n-2*r)/(h-2*r),g=(i-2*s)/(d-2*s),m=h/n,v=d/i;return{path:{"transform-origin":`${We.svgRound(o)} ${We.svgRound(l)}`,transform:`${this.rotationTransform} scale(${m} ${v}) translate(${We.svgRound(r)} ${We.svgRound(s)}) scale(${p} ${g}) translate(${We.svgRound(-r)} ${We.svgRound(-s)})`}}}getPathResizedSVGProperties([e,t,n,i]){const[r,s]=this.#c(),o=this.#e,[l,h,d,p]=o;if(o[0]=e,o[1]=t,o[2]=n,o[3]=i,Math.abs(d-r)<=We.PRECISION||Math.abs(p-s)<=We.PRECISION){const A=e+n/2-(l+d/2),x=t+i/2-(h+p/2);for(const{line:_,points:w}of this.#i)We._translate(_,A,x,_),We._translate(w,A,x,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${We.svgRound(e)} ${We.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(n-2*r)/(d-2*r),m=(i-2*s)/(p-2*s),v=-g*(l+r)+e+r,y=-m*(h+s)+t+s;if(g!==1||m!==1||v!==0||y!==0)for(const{line:A,points:x}of this.#i)We._rescale(A,v,y,g,m,A),We._rescale(x,v,y,g,m,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${We.svgRound(e)} ${We.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[i,r]=n,s=this.#e,o=e-s[0],l=t-s[1];if(this.#s===i&&this.#r===r)for(const{line:h,points:d}of this.#i)We._translate(h,o,l,h),We._translate(d,o,l,d);else{const h=this.#s/i,d=this.#r/r;this.#s=i,this.#r=r;for(const{line:p,points:g}of this.#i)We._rescale(p,o,l,h,d,p),We._rescale(g,o,l,h,d,g);s[2]*=h,s[3]*=d}return s[0]=e,s[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${We.svgRound(e)} ${We.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${We.svgRound(e[0])} ${We.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Zd extends RT{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ye._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Zd(this._viewParameters);return e.updateAll(this),e}}class Uy extends Je{static _type="ink";static _editorType=it.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Ye.initialize(e,t),this._defaultDrawingOptions=new Zd(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return dt(this,"typesMap",new Map([[bt.INK_THICKNESS,"stroke-width"],[bt.INK_COLOR,"stroke"],[bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,r){return new SN(e,t,n,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,r,s){return Ol.deserialize(e,t,n,i,r,s)}static async deserialize(e,t,n){let i=null;if(e instanceof Cy){const{data:{inkLists:s,rect:o,rotation:l,id:h,color:d,opacity:p,borderStyle:{rawWidth:g},popupRef:m,contentsObj:v},parent:{page:{pageNumber:y}}}=e;i=e={annotationType:it.INK,color:Array.from(d),thickness:g,opacity:p,paths:{points:s},boxes:null,pageIndex:y-1,rect:o.slice(0),rotation:l,annotationElementId:h,id:h,deleted:!1,popupRef:m,comment:v?.str||null}}const r=await super.deserialize(e,t,n);return r._initialData=i,e.comment&&r.setCommentData(e.comment),r}get toolbarButtons(){return this._colorPicker||=new Al(this),[["colorPicker",this._colorPicker]]}get colorType(){return bt.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=Uy.getDefaultDrawingOptions({stroke:He.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":o}}=this,l={annotationType:it.INK,color:Ye._colorManager.convert(r),opacity:s,thickness:o,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:n,opacity:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((s,o)=>s!==t[o])||e.thickness!==n||e.opacity!==i||e.pageIndex!==r}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1),i={rect:n,thickness:this._drawingOptions["stroke-width"],points:t};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}}class cb extends Ol{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ah=8,Kc=3;class vo{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(e,t,n,i,r,s,o){const l=this.#t(n,i,r,s);for(let h=0;h<8;h++){const d=(-h+l-o+16)%8,p=this.#n[2*d],g=this.#n[2*d+1];if(e[(n+p)*t+(i+g)]!==0)return d}return-1}static#s(e,t,n,i,r,s,o){const l=this.#t(n,i,r,s);for(let h=0;h<8;h++){const d=(h+l+o+16)%8,p=this.#n[2*d],g=this.#n[2*d+1];if(e[(n+p)*t+(i+g)]!==0)return d}return-1}static#r(e,t,n,i){const r=e.length,s=new Int32Array(r);for(let d=0;d<r;d++)s[d]=e[d]<=i?1:0;for(let d=1;d<n-1;d++)s[d*t]=s[d*t+t-1]=0;for(let d=0;d<t;d++)s[d]=s[t*n-1-d]=0;let o=1,l;const h=[];for(let d=1;d<n-1;d++){l=1;for(let p=1;p<t-1;p++){const g=d*t+p,m=s[g];if(m===0)continue;let v=d,y=p;if(m===1&&s[g-1]===0)o+=1,y-=1;else if(m>=1&&s[g+1]===0)o+=1,y+=1,m>1&&(l=m);else{m!==1&&(l=Math.abs(m));continue}const A=[p,d],x=y===p+1,_={isHole:x,points:A,id:o,parent:0};h.push(_);let w;for(const q of h)if(q.id===l){w=q;break}w?w.isHole?_.parent=x?w.parent:l:_.parent=x?l:w.parent:_.parent=x?l:0;const S=this.#i(s,t,d,p,v,y,0);if(S===-1){s[g]=-o,s[g]!==1&&(l=Math.abs(s[g]));continue}let E=this.#n[2*S],C=this.#n[2*S+1];const R=d+E,N=p+C;v=R,y=N;let F=d,I=p;for(;;){const q=this.#s(s,t,F,I,v,y,1);E=this.#n[2*q],C=this.#n[2*q+1];const L=F+E,H=I+C;A.push(H,L);const k=F*t+I;if(s[k+1]===0?s[k]=-o:s[k]===1&&(s[k]=o),L===d&&H===p&&F===R&&I===N){s[g]!==1&&(l=Math.abs(s[g]));break}else v=F,y=I,F=L,I=H}}}return h}static#a(e,t,n,i){if(n-t<=4){for(let R=t;R<n-2;R+=2)i.push(e[R],e[R+1]);return}const r=e[t],s=e[t+1],o=e[n-4]-r,l=e[n-3]-s,h=Math.hypot(o,l),d=o/h,p=l/h,g=d*s-p*r,m=l/o,v=1/h,y=Math.atan(m),A=Math.cos(y),x=Math.sin(y),_=v*(Math.abs(A)+Math.abs(x)),w=v*(1-_+_**2),S=Math.max(Math.atan(Math.abs(x+A)*w),Math.atan(Math.abs(x-A)*w));let E=0,C=t;for(let R=t+2;R<n-2;R+=2){const N=Math.abs(g-d*e[R+1]+p*e[R]);N>E&&(C=R,E=N)}E>(h*S)**2?(this.#a(e,t,C+2,i),this.#a(e,C,n,i)):i.push(r,s)}static#o(e){const t=[],n=e.length;return this.#a(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#l(e,t,n,i,r,s){const o=new Float32Array(s**2),l=-2*i**2,h=s>>1;for(let y=0;y<s;y++){const A=(y-h)**2;for(let x=0;x<s;x++)o[y*s+x]=Math.exp((A+(x-h)**2)/l)}const d=new Float32Array(256),p=-2*r**2;for(let y=0;y<256;y++)d[y]=Math.exp(y**2/p);const g=e.length,m=new Uint8Array(g),v=new Uint32Array(256);for(let y=0;y<n;y++)for(let A=0;A<t;A++){const x=y*t+A,_=e[x];let w=0,S=0;for(let C=0;C<s;C++){const R=y+C-h;if(!(R<0||R>=n))for(let N=0;N<s;N++){const F=A+N-h;if(F<0||F>=t)continue;const I=e[R*t+F],q=o[C*s+N]*d[Math.abs(I-_)];w+=I*q,S+=q}}const E=m[x]=Math.round(w/S);v[E]++}return[m,v]}static#c(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#d(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,r=1/0;for(let o=0,l=n.length;o<l;o++){const h=n[o]=e[o<<2];i=Math.max(i,h),r=Math.min(r,h)}const s=255/(i-r);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-r)*s;return n}static#u(e){let t,n=-1/0,i=-1/0;const r=e.findIndex(l=>l!==0);let s=r,o=r;for(t=r;t<256;t++){const l=e[t];l>n&&(t-s>i&&(i=t-s,o=t-1),n=l,s=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:i}=e,{maxDim:r}=this.#e;let s=n,o=i;if(n>r||i>r){let g=n,m=i,v=Math.log2(Math.max(n,i)/r);const y=Math.floor(v);v=v===y?y-1:y;for(let x=0;x<v;x++){s=Math.ceil(g/2),o=Math.ceil(m/2);const _=new OffscreenCanvas(s,o);_.getContext("2d").drawImage(e,0,0,g,m,0,0,s,o),g=s,m=o,e!==t&&e.close(),e=_.transferToImageBitmap()}const A=Math.min(r/s,r/o);s=Math.round(s*A),o=Math.round(o*A)}const h=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,s,o),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,s,o);const d=h.getImageData(0,0,s,o).data;return[this.#d(d),s,o]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},r,s,o,l){let h=new OffscreenCanvas(1,1),d=h.getContext("2d",{alpha:!1});const p=200,g=d.font=`${n} ${i} ${p}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:v,actualBoundingBoxAscent:y,actualBoundingBoxDescent:A,fontBoundingBoxAscent:x,fontBoundingBoxDescent:_,width:w}=d.measureText(e),S=1.5,E=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||0,w)*S),C=Math.ceil(Math.max(Math.abs(y)+Math.abs(A)||p,Math.abs(x)+Math.abs(_)||p)*S);h=new OffscreenCanvas(E,C),d=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,E,C),d.fillStyle="black",d.fillText(e,E*(S-1)/2,C*(3-S)/2);const R=this.#d(d.getImageData(0,0,E,C).data),N=this.#c(R),F=this.#u(N),I=this.#r(R,E,C,F);return this.processDrawnLines({lines:{curves:I,width:E,height:C},pageWidth:r,pageHeight:s,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,r){const[s,o,l]=this.#f(e),[h,d]=this.#l(s,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#u(d),g=this.#r(h,o,l,p);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:s,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:h,height:d}=e,p=e.thickness??0,g=[],m=Math.min(t/h,n/d),v=m/t,y=m/n,A=[];for(const{points:_}of l){const w=s?this.#o(_):_;if(!w)continue;A.push(w);const S=w.length,E=new Float32Array(S),C=new Float32Array(3*(S===2?2:S-2));if(g.push({line:C,points:E}),S===2){E[0]=w[0]*v,E[1]=w[1]*y,C.set([NaN,NaN,NaN,NaN,E[0],E[1]],0);continue}let[R,N,F,I]=w;R*=v,N*=y,F*=v,I*=y,E.set([R,N,F,I],0),C.set([NaN,NaN,NaN,NaN,R,N],0);for(let q=4;q<S;q+=2){const L=E[q]=w[q]*v,H=E[q+1]=w[q+1]*y;C.set(We.createBezierPoints(R,N,F,I,L,H),(q-2)*3),[R,N,F,I]=[F,I,L,H]}}if(g.length===0)return null;const x=o?new cb:new Ol;return x.build(g,t,n,1,i,o?0:p,r),{outline:x,newCurves:A,areContours:o,thickness:p,width:h,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:r}){let s=1/0,o=-1/0,l=0;for(const w of e){l+=w.length;for(let S=2,E=w.length;S<E;S++){const C=w[S]-w[S-2];s=Math.min(s,C),o=Math.max(o,C)}}let h;s>=-128&&o<=127?h=Int8Array:s>=-32768&&o<=32767?h=Int16Array:h=Int32Array;const d=e.length,p=Ah+Kc*d,g=new Uint32Array(p);let m=0;g[m++]=p*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*h.BYTES_PER_ELEMENT,g[m++]=0,g[m++]=i,g[m++]=r,g[m++]=t?0:1,g[m++]=Math.max(0,Math.floor(n??0)),g[m++]=d,g[m++]=h.BYTES_PER_ELEMENT;for(const w of e)g[m++]=w.length-2,g[m++]=w[0],g[m++]=w[1];const v=new CompressionStream("deflate-raw"),y=v.writable.getWriter();await y.ready,y.write(g);const A=h.prototype.constructor;for(const w of e){const S=new A(w.length-2);for(let E=2,C=w.length;E<C;E++)S[E-2]=w[E]-w[E-2];y.write(S)}y.close();const x=await new Response(v.readable).arrayBuffer(),_=new Uint8Array(x);return tT(_)}static async decompressSignature(e){try{const t=KM(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),r=i.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let s=null,o=0;for await(const w of n)s||=new Uint8Array(new Uint32Array(w.buffer,0,4)[0]),s.set(w,o),o+=w.length;const l=new Uint32Array(s.buffer,0,s.length>>2),h=l[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const d=l[2],p=l[3],g=l[4]===0,m=l[5],v=l[6],y=l[7],A=[],x=(Ah+Kc*v)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(y){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(s.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(s.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(s.buffer,x);break}o=0;for(let w=0;w<v;w++){const S=l[Kc*w+Ah],E=new Float32Array(S+2);A.push(E);for(let C=0;C<Kc-1;C++)E[C]=l[Kc*w+Ah+C+1];for(let C=0;C<S;C++)E[C+2]=E[C]+_[o++]}return{areContours:g,thickness:m,outlines:A,width:d,height:p}}catch(t){return at(`decompressSignature: ${t}`),null}}}class ky extends RT{constructor(){super(),super.updateProperties({fill:Ye._defaultLineColor,"stroke-width":0})}clone(){const e=new ky;return e.updateAll(this),e}}class Fy extends Zd{constructor(e){super(e),super.updateProperties({stroke:Ye._defaultLineColor,"stroke-width":1})}clone(){const e=new Fy(this._viewParameters);return e.updateAll(this),e}}class mr extends Je{#e=!1;#t=null;#n=null;#i=null;static _type="signature";static _editorType=it.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Ye.initialize(e,t),this._defaultDrawingOptions=new ky,this._defaultDrawnSignatureOptions=new Fy(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return dt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:i,mustSmooth:r,areContours:s,description:o,uuid:l,heightInPage:h}=this.#n,{rawDims:{pageWidth:d,pageHeight:p},rotation:g}=this.parent.viewport,m=vo.processDrawnLines({lines:i,pageWidth:d,pageHeight:p,rotation:g,innerMargin:mr._INNER_MARGIN,mustSmooth:r,areContours:s});this.addSignature(m,h,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#i=e,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:r}=this.#n,s=Math.max(i,r),o=vo.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:n,width:i,height:r},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,i){const{x:r,y:s}=this,{outline:o}=this.#n=e;this.#e=o instanceof cb,this.description=n;let l;this.#e?l=mr.getDefaultDrawingOptions():(l=mr._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[h,d]=this.parentDimensions,[,p]=this.pageDimensions;let g=t/p;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(h*this.width,d*this.height),this.x=r,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return vo.process(e,t,n,i,mr._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return vo.extractContoursFromText(e,t,n,i,r,mr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return vo.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:mr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=mr.getDefaultDrawingOptions():(this._drawingOptions=mr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s={annotationType:it.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#i,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,i,r,s){return s.areContours?cb.deserialize(e,t,n,i,r,s):Ol.deserialize(e,t,n,i,r,s)}static async deserialize(e,t,n){const i=await super.deserialize(e,t,n);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#i=e.uuid,i}}class CN extends Ye{#e=null;#t=null;#n=null;#i=null;#s=null;#r="";#a=null;#o=!1;#l=null;#c=!1;#d=!1;static _type="stamp";static _editorType=it.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#i=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Ye.initialize(e,t)}static isHandlingMimeForPasting(e){return tb.includes(e)}static paste(e,t){t.pasteEditor({mode:it.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#r=e.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:s}=e||this.copyCanvas(null,null,!0).imageData,o=await n.guess({name:"altText",request:{data:i,width:r,height:s,channels:i.length/(r*s)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(i=>this.#u(i)).finally(()=>this.#f());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(i=>this.#u(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=tb.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(i)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#l!==null&&clearTimeout(this.#l);const e=200;this.#l=setTimeout(()=>{this.#l=null,this.#m()},e)}#p(){const{div:e}=this;let{width:t,height:n}=this.#e;const[i,r]=this.pageDimensions,s=.75;if(this.width)t=this.width*i,n=this.height*r;else if(t>s*i||n>s*r){const d=Math.min(s*i/t,s*r/n);t*=d,n*=d}const[o,l]=this.parentDimensions;this.setDims(t*o/i,n*l/r),this._uiManager.enableWaiting(!1);const h=this.#a=document.createElement("canvas");h.setAttribute("role","img"),this.addContainer(h),this.width=t/i,this.height=n/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:i,height:r}=this.#e,s=new vr;let o=this.#e,l=i,h=r,d=null;if(t){if(i>t||r>t){const C=Math.min(t/i,t/r);l=Math.floor(i*C),h=Math.floor(r*C)}d=document.createElement("canvas");const g=d.width=Math.ceil(l*s.sx),m=d.height=Math.ceil(h*s.sy);this.#c||(o=this.#h(g,m));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",A="#42414d");const x=15,_=x*s.sx,w=x*s.sy,S=new OffscreenCanvas(_*2,w*2),E=S.getContext("2d");E.fillStyle=y,E.fillRect(0,0,_*2,w*2),E.fillStyle=A,E.fillRect(0,0,_,w),E.fillRect(_,w,_,w),v.fillStyle=v.createPattern(S,"repeat"),v.fillRect(0,0,g,m),v.drawImage(o,0,0,o.width,o.height,0,0,g,m)}let p=null;if(n){let g,m;if(s.symmetric&&o.width<e&&o.height<e)g=o.width,m=o.height;else if(o=this.#e,i>e||r>e){const A=Math.min(e/i,e/r);g=Math.floor(i*A),m=Math.floor(r*A),this.#c||(o=this.#h(g,m))}const y=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});y.drawImage(o,0,0,o.width,o.height,0,0,g,m),p={width:g,height:m,data:y.getImageData(0,0,g,m).data}}return{canvas:d,width:l,height:h,imageData:p}}#h(e,t){const{width:n,height:i}=this.#e;let r=n,s=i,o=this.#e;for(;r>2*e||s>2*t;){const l=r,h=s;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const d=new OffscreenCanvas(r,s);d.getContext("2d").drawImage(o,0,0,l,h,0,0,r,s),o=d.transferToImageBitmap()}return o}#m(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,r=new vr,s=Math.ceil(n*e*r.sx),o=Math.ceil(i*t*r.sy),l=this.#a;if(!l||l.width===s&&l.height===o)return;l.width=s,l.height=o;const h=this.#c?this.#e:this.#h(s,o),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,s,o)}#y(e){if(e){if(this.#c){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,n]=this.pageDimensions,i=Math.round(this.width*t*No.PDF_TO_CSS_UNITS),r=Math.round(this.height*n*No.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,r);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,r),s.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let i=null,r=!1;if(e instanceof ST){const{data:{rect:y,rotation:A,id:x,structParent:_,popupRef:w,contentsObj:S},container:E,parent:{page:{pageNumber:C}},canvas:R}=e;let N,F;R?(delete e.canvas,{id:N,bitmap:F}=n.imageManager.getFromCanvas(E.id,R),R.remove()):(r=!0,e._hasNoCanvas=!0);const I=(await t._structTree.getAriaAttributes(`${by}${x}`))?.get("aria-label")||"";i=e={annotationType:it.STAMP,bitmapId:N,bitmap:F,pageIndex:C-1,rect:y.slice(0),rotation:A,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:I},isSvg:!1,structParent:_,popupRef:w,comment:S?.str||null}}const s=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:h,bitmapId:d,isSvg:p,accessibilityData:g}=e;r?(n.addMissingCanvas(e.id,s),s.#o=!0):d&&n.imageManager.isValidId(d)?(s.#t=d,l&&(s.#e=l)):s.#i=h,s.#c=p;const[m,v]=s.pageDimensions;return s.width=(o[2]-o[0])/m,s.height=(o[3]-o[1])/v,g&&(s.altTextData=g),s._initialData=i,e.comment&&s.setCommentData(e.comment),s.#d=!!i,s}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:it.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(this.addComment(n),e)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const o=this.#b(n);if(o.isSame)return null;o.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,t===null)return n;t.stamps||=new Map;const s=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:s,serialized:n}),n.bitmap=this.#y(!1);else if(this.#c){const o=t.stamps.get(this.#t);s>o.area&&(o.area=s,o.serialized.bitmap.close(),o.serialized.bitmap=this.#y(!1))}return n}#b(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,i=e.pageIndex===t,r=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const t={rect:this.getPDFRect()};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}}class Hr{#e;#t=!1;#n=null;#i=null;#s=null;#r=new Map;#a=!1;#o=!1;#l=!1;#c=null;#d=null;#u=null;#f=null;#g=null;#p=-1;#h;static _initialized=!1;static#m=new Map([Sn,Uy,CN,Qt,mr].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:l,viewport:h,l10n:d}){const p=[...Hr.#m.values()];if(!Hr._initialized){Hr._initialized=!0;for(const g of p)g.initialize(d,e)}e.registerEditorTypes(p),this.#h=e,this.pageIndex=t,this.div=n,this.#e=r,this.#n=s,this.viewport=h,this.#u=l,this.drawLayer=o,this._structTree=i,this.#h.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#h.getMode()===it.NONE}updateToolbar(e){this.#h.updateToolbar(e)}updateMode(e=this.#h.getMode()){switch(this.#v(),e){case it.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case it.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case it.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of Hr.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#h.setEditingState(e)}addCommands(e){this.#h.addCommands(e)}cleanUndoStack(e){this.#h.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#l=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const e=new Set;for(const n of this.#r.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#h.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#n){this.#l=!1;return}const t=this.#n.getEditableAnnotations();for(const n of t){if(n.hide(),this.#h.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}this.#l=!1}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#g){this.#g=new AbortController;const i=this.#h.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",r=>{const{clientX:o,clientY:l,timeStamp:h}=r,d=this.#p;if(h-d>500){this.#p=h;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(o,l);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let m;const v=new RegExp(`^${KE}[0-9]+$`);for(const A of g)if(v.test(A.id)){m=A.id;break}if(!m)return;const y=this.#r.get(m);y?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),y.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of this.#r.values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}if(this.#n){const i=this.#n.getEditableAnnotations();for(const r of i){const{id:s}=r.data;if(this.#h.isDeletedAnnotationElement(s)){r.updateEdited({deleted:!0});continue}let o=t.get(s);if(o){o.resetAnnotationElement(r),o.show(!1),r.show();continue}o=e.get(s),o&&(this.#h.addChangedExistingAnnotation(o),o.renderAnnotationElement(r)&&o.show(!1)),r.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of Hr.#m.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#h.getActive()!==e&&this.#h.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#h.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#y(e){this.#h.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:n}=On.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#h.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Qt.startHighlighting(this,this.#h.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#h._signal}),e.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const e=this.#h.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#i?.abort(),this.#i=null}attach(e){this.#r.set(e.id,e);const{annotationElementId:t}=e;t&&this.#h.isDeletedAnnotationElement(t)&&this.#h.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#h.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#h.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#h.addDeletedAnnotationElement(e.annotationElementId),Ye.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#h.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#l),this.#h.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#h._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return this.#h.getId()}get#b(){return Hr.#m.get(this.#h.getMode())}combinedSignal(e){return this.#h.combinedSignal(e)}#A(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#h.updateMode(e.mode);const{offsetX:n,offsetY:i}=this.#x(),r=this.getNextId(),s=this.#A({parent:this,id:r,x:n,y:i,uiManager:this.#h,isCentered:!0,...t});s&&this.add(s)}async deserialize(e){return await Hr.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#h)||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=this.#A({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#h,isCentered:t,...n});return r&&this.add(r),r}#x(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),s=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),h=(r+o)/2-e,d=(s+l)/2-t,[p,g]=this.viewport.rotation%180===0?[h,d]:[d,h];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#x(),!0,e)}setSelected(e){this.#h.setSelected(e)}toggleSelected(e){this.#h.toggleSelected(e)}unselect(e){this.#h.unselect(e)}pointerup(e){const{isMac:t}=On.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#a||(this.#a=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#h.getMode();if(n===it.STAMP||n===it.SIGNATURE){this.#h.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#h.getMode()===it.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:t}=On.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#a=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const n=this.#h.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#c){this.#b.startDrawing(this,this.#h,!1,e);return}this.#h.setCurrentDrawingSession(this),this.#c=new AbortController;const t=this.#h.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#h,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#c?(this.#h.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#b.endDrawing(e)):null}findNewParent(e,t,n){const i=this.#h.findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#h.getActive()?.parent===this&&(this.#h.commitOrRemove(),this.#h.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#h.removeLayer(this)}#v(){for(const e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,ya(this.div,e);for(const t of this.#h.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#h.commitOrRemove(),this.#v();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,ya(this.div,{rotation:n}),t!==n)for(const i of this.#r.values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#h.viewParameters.realScale}}class Mn{#e=null;#t=new Map;#n=new Map;static#i=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return dt(this,"_svgFactory",new sd)}static#s(e,[t,n,i,r]){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*r}%`}#r(){const e=Mn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#a(e,t){const n=Mn._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Mn._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i}#o(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)}draw(e,t=!1,n=!1){const i=Mn.#i++,r=this.#r(),s=Mn._svgFactory.createElement("defs");r.append(s);const o=Mn._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(i,o);const h=n?this.#a(s,l):null,d=Mn._svgFactory.createElement("use");return r.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(r,e),this.#t.set(i,r),{id:i,clipPathId:`url(#${h})`}}drawOutline(e,t){const n=Mn.#i++,i=this.#r(),r=Mn._svgFactory.createElement("defs");i.append(r);const s=Mn._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const p=Mn._svgFactory.createElement("mask");r.append(p),l=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",l),p.setAttribute("maskUnits","objectBoundingBox");const g=Mn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const m=Mn._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const h=Mn._svgFactory.createElement("use");i.append(h),h.setAttribute("href",`#${o}`),l&&h.setAttribute("mask",`url(#${l})`);const d=h.cloneNode();return i.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(n,i),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:i,rootClass:r,path:s}=t,o=typeof e=="number"?this.#t.get(e):e;if(o){if(n&&this.#o(o,n),i&&Mn.#s(o,i),r){const{classList:l}=o;for(const[h,d]of Object.entries(r))l.toggle(h,d)}if(s){const h=o.firstChild.firstChild;this.#o(h,s)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:ab};globalThis.pdfjsLib={AbortException:ks,AnnotationEditorLayer:Hr,AnnotationEditorParamsType:bt,AnnotationEditorType:it,AnnotationEditorUIManager:Fs,AnnotationLayer:Ry,AnnotationMode:_s,AnnotationType:ln,build:sN,ColorPicker:ji,createValidAbsoluteUrl:ZE,DOMSVGFactory:sd,DrawLayer:Mn,FeatureTest:On,fetchData:Fl,getDocument:bT,getFilenameFromUrl:ZM,getPdfFilenameFromUrl:QM,getRGB:Xd,getUuid:eT,getXfaPageViewport:eL,GlobalWorkerOptions:Co,ImageKind:$h,InvalidPDFException:Jm,isDataScheme:Vd,isPdfFile:vy,isValidExplicitDest:hL,MathClamp:Kn,noContextMenu:$i,normalizeUnicode:XM,OPS:bl,OutputScale:vr,PasswordResponses:PM,PDFDataRangeTransport:yT,PDFDateString:eb,PDFWorker:vl,PermissionFlag:IM,PixelsPerInch:No,RenderingCancelledException:yy,ResponseException:id,setLayerDimensions:ya,shadow:dt,SignatureExtractor:vo,stopEvent:un,SupportedImageMimeTypes:tb,TextLayer:Vn,TouchManager:Yd,updateUrlHash:QE,Util:He,VerbosityLevel:qd,version:xT,XfaLayer:_T};Co.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${xT}/pdf.worker.js`;const RN="https://23da38386efd.ngrok-free.app",UN=async u=>{const e=await u.arrayBuffer(),t=await bT({data:e}).promise;let n="";for(let i=0;i<t.numPages;i++){const s=await(await t.getPage(i+1)).getTextContent();n+=s.items.map(o=>o.str).join(" ")+`
`}return n},kN=async u=>{const e=await u.arrayBuffer();return(await YE.extractRawText({arrayBuffer:e})).value},FN=async u=>{try{let e="";if(u.type==="text/plain")e=await u.text();else if(u.type==="application/pdf")e=await UN(u);else if(u.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||u.type==="application/msword")e=await kN(u);else throw new Error("Unsupported file type. Please upload PDF, DOCX, or TXT.");const t=await fetch(`${RN}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})});if(!t.ok)throw new Error(`API request failed: ${t.status}`);return await t.json()}catch(e){throw console.error("AI Service Error:",e),new Error("Failed to analyze contract. Please try again later.")}},MN=()=>{const[u,e]=Me.useState(null),[t,n]=Me.useState(null),[i,r]=Me.useState(!1),[s,o]=Me.useState(null),l=async d=>{e(d),n(null),o(null),r(!0);try{const p=await FN(d);n(p)}catch(p){o("Failed to analyze contract. Please try again."),console.error("Analysis error:",p)}finally{r(!1)}},h=()=>{e(null),n(null),o(null),r(!1)};return me.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[me.jsx(D3,{onNewAnalysis:h}),me.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u?me.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-[calc(100vh-180px)]",children:[me.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[me.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:me.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center justify-between",children:["Document Preview",me.jsx("button",{onClick:h,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Upload New Document"})]})}),me.jsx(FM,{file:u})]}),me.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:me.jsx(BM,{analysisData:t,isAnalyzing:i,error:s})})]}):me.jsxs("div",{className:"max-w-2xl mx-auto",children:[me.jsxs("div",{className:"text-center mb-8",children:[me.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"AI-Powered Contract Analysis"}),me.jsx("p",{className:"text-lg text-gray-600",children:"Upload your contract document to get instant AI-powered insights and analysis"})]}),me.jsx(w3,{onFileSelect:l})]})})]})};function LN(){return me.jsx("div",{className:"App",children:me.jsx(MN,{})})}KC.createRoot(document.getElementById("root")).render(me.jsx(HC.StrictMode,{children:me.jsx(LN,{})}));
